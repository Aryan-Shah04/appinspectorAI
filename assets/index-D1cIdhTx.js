(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fd={exports:{}},Mi={},bd={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),Zh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),om=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),Wa=Symbol.iterator;function sm(t){return t===null||typeof t!="object"?null:(t=Wa&&t[Wa]||t["@@iterator"],typeof t=="function"?t:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Bd={};function pr(t,e,n){this.props=t,this.context=e,this.refs=Bd,this.updater=n||Vd}pr.prototype.isReactComponent={};pr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gd(){}Gd.prototype=pr.prototype;function Vl(t,e,n){this.props=t,this.context=e,this.refs=Bd,this.updater=n||Vd}var zl=Vl.prototype=new Gd;zl.constructor=Vl;zd(zl,pr.prototype);zl.isPureReactComponent=!0;var Ja=Array.isArray,Hd=Object.prototype.hasOwnProperty,Bl={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function qd(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Hd.call(e,r)&&!Od.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];o.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:uo,type:t,key:i,ref:s,props:o,_owner:Bl.current}}function lm(t,e){return{$$typeof:uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gl(t){return typeof t=="object"&&t!==null&&t.$$typeof===uo}function am(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ka=/\/+/g;function ns(t,e){return typeof t=="object"&&t!==null&&t.key!=null?am(""+t.key):e.toString(36)}function Ho(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case uo:case Zh:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+ns(s,0):r,Ja(o)?(n="",t!=null&&(n=t.replace(Ka,"$&/")+"/"),Ho(o,e,n,"",function(d){return d})):o!=null&&(Gl(o)&&(o=lm(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ka,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Ja(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ns(i,a);s+=Ho(i,e,n,c,o)}else if(c=sm(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ns(i,a++),s+=Ho(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function vo(t,e,n){if(t==null)return t;var r=[],o=0;return Ho(t,r,"","",function(i){return e.call(n,i,o++)}),r}function um(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},Oo={transition:null},cm={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:Bl};function $d(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:vo,forEach:function(t,e,n){vo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vo(t,function(){e++}),e},toArray:function(t){return vo(t,function(e){return e})||[]},only:function(t){if(!Gl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=pr;ae.Fragment=Xh;ae.Profiler=jh;ae.PureComponent=Vl;ae.StrictMode=Qh;ae.Suspense=rm;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm;ae.act=$d;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zd({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Bl.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Hd.call(e,c)&&!Od.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:uo,type:t.type,key:o,ref:i,props:r,_owner:s}};ae.createContext=function(t){return t={$$typeof:tm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:em,_context:t},t.Consumer=t};ae.createElement=qd;ae.createFactory=function(t){var e=qd.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:nm,render:t}};ae.isValidElement=Gl;ae.lazy=function(t){return{$$typeof:im,_payload:{_status:-1,_result:t},_init:um}};ae.memo=function(t,e){return{$$typeof:om,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Oo.transition;Oo.transition={};try{t()}finally{Oo.transition=e}};ae.unstable_act=$d;ae.useCallback=function(t,e){return Xe.current.useCallback(t,e)};ae.useContext=function(t){return Xe.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Xe.current.useEffect(t,e)};ae.useId=function(){return Xe.current.useId()};ae.useImperativeHandle=function(t,e,n){return Xe.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Xe.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Xe.current.useReducer(t,e,n)};ae.useRef=function(t){return Xe.current.useRef(t)};ae.useState=function(t){return Xe.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Xe.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Xe.current.useTransition()};ae.version="18.3.1";bd.exports=ae;var Re=bd.exports;const dm=Ud(Re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Re,pm=Symbol.for("react.element"),hm=Symbol.for("react.fragment"),mm=Object.prototype.hasOwnProperty,gm=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ym={key:!0,ref:!0,__self:!0,__source:!0};function Wd(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mm.call(e,r)&&!ym.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:pm,type:t,key:i,ref:s,props:o,_owner:gm.current}}Mi.Fragment=hm;Mi.jsx=Wd;Mi.jsxs=Wd;Fd.exports=Mi;var U=Fd.exports,Ns={},Jd={exports:{}},at={},Kd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var Z=$.length;$.push(G);e:for(;0<Z;){var F=Z-1>>>1,L=$[F];if(0<o(L,G))$[F]=G,$[Z]=L,Z=F;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],Z=$.pop();if(Z!==G){$[0]=Z;e:for(var F=0,L=$.length,ie=L>>>1;F<ie;){var ee=2*(F+1)-1,Q=$[ee],he=ee+1,Ie=$[he];if(0>o(Q,Z))he<L&&0>o(Ie,Q)?($[F]=Ie,$[he]=Z,F=he):($[F]=Q,$[ee]=Z,F=ee);else if(he<L&&0>o(Ie,Z))$[F]=Ie,$[he]=Z,F=he;else break e}}return G}function o($,G){var Z=$.sortIndex-G.sortIndex;return Z!==0?Z:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],d=[],f=1,h=null,p=3,m=!1,E=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=$)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function T($){if(v=!1,S($),!E)if(n(c)!==null)E=!0,oe(I);else{var G=n(d);G!==null&&W(T,G.startTime-$)}}function I($,G){E=!1,v&&(v=!1,g(M),M=-1),m=!0;var Z=p;try{for(S(G),h=n(c);h!==null&&(!(h.expirationTime>G)||$&&!j());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var L=F(h.expirationTime<=G);G=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(c)&&r(c),S(G)}else r(c);h=n(c)}if(h!==null)var ie=!0;else{var ee=n(d);ee!==null&&W(T,ee.startTime-G),ie=!1}return ie}finally{h=null,p=Z,m=!1}}var N=!1,k=null,M=-1,P=5,V=-1;function j(){return!(t.unstable_now()-V<P)}function R(){if(k!==null){var $=t.unstable_now();V=$;var G=!0;try{G=k(!0,$)}finally{G?z():(N=!1,k=null)}}else N=!1}var z;if(typeof y=="function")z=function(){y(R)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,H=C.port2;C.port1.onmessage=R,z=function(){H.postMessage(null)}}else z=function(){w(R,0)};function oe($){k=$,N||(N=!0,z())}function W($,G){M=w(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,oe(I))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var Z=p;p=G;try{return $()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=p;p=$;try{return G()}finally{p=Z}},t.unstable_scheduleCallback=function($,G,Z){var F=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,$={id:f++,callback:G,priorityLevel:$,startTime:Z,expirationTime:L,sortIndex:-1},Z>F?($.sortIndex=Z,e(d,$),n(c)===null&&$===n(d)&&(v?(g(M),M=-1):v=!0,W(T,Z-F))):($.sortIndex=L,e(c,$),E||m||(E=!0,oe(I))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var G=p;return function(){var Z=p;p=G;try{return $.apply(this,arguments)}finally{p=Z}}}})(Yd);Kd.exports=Yd;var vm=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=Re,lt=vm;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zd=new Set,Wr={};function Dn(t,e){sr(t,e),sr(t+"Capture",e)}function sr(t,e){for(Wr[t]=e,t=0;t<e.length;t++)Zd.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=Object.prototype.hasOwnProperty,Sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ya={},Za={};function Em(t){return Ps.call(Za,t)?!0:Ps.call(Ya,t)?!1:Sm.test(t)?Za[t]=!0:(Ya[t]=!0,!1)}function wm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cm(t,e,n,r){if(e===null||typeof e>"u"||wm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function Ol(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hl,Ol);Be[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hl,Ol);Be[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hl,Ol);Be[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ql(t,e,n,r){var o=Be.hasOwnProperty(e)?Be[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cm(e,n,o,r)&&(n=null),r||o===null?Em(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kt=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Ds=Symbol.for("react.suspense"),Ls=Symbol.for("react.suspense_list"),Jl=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),Xa=Symbol.iterator;function wr(t){return t===null||typeof t!="object"?null:(t=Xa&&t[Xa]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,rs;function Mr(t){if(rs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rs=e&&e[1]||""}return`
`+rs+t}var os=!1;function is(t,e){if(!t||os)return"";os=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{os=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mr(t):""}function Tm(t){switch(t.tag){case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return t=is(t.type,!1),t;case 11:return t=is(t.type.render,!1),t;case 1:return t=is(t.type,!0),t;default:return""}}function Us(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zn:return"Fragment";case Vn:return"Portal";case Ms:return"Profiler";case $l:return"StrictMode";case Ds:return"Suspense";case Ls:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qd:return(t.displayName||"Context")+".Consumer";case Xd:return(t._context.displayName||"Context")+".Provider";case Wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jl:return e=t.displayName||null,e!==null?e:Us(t.type)||"Memo";case Qt:e=t._payload,t=t._init;try{return Us(t(e))}catch{}}return null}function Im(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Us(e);case 8:return e===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ef(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xm(t){var e=ef(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function So(t){t._valueTracker||(t._valueTracker=xm(t))}function tf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ef(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fs(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nf(t,e){e=e.checked,e!=null&&ql(t,"checked",e,!1)}function bs(t,e){nf(t,e);var n=hn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vs(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vs(t,e.type,hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ja(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vs(t,e,n){(e!=="number"||ni(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dr=Array.isArray;function Qn(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function zs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Dr(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hn(n)}}function rf(t,e){var n=hn(e.value),r=hn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function of(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?of(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eo,sf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(t){Am.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),br[e]=br[t]})});function lf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||br.hasOwnProperty(t)&&br[t]?(""+e).trim():e+"px"}function af(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=lf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var km=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(t,e){if(e){if(km[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Hs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function Kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,jn=null,er=null;function nu(t){if(t=po(t)){if(typeof qs!="function")throw Error(K(280));var e=t.stateNode;e&&(e=bi(e),qs(t.stateNode,t.type,e))}}function uf(t){jn?er?er.push(t):er=[t]:jn=t}function cf(){if(jn){var t=jn,e=er;if(er=jn=null,nu(t),e)for(t=0;t<e.length;t++)nu(e[t])}}function df(t,e){return t(e)}function ff(){}var ss=!1;function pf(t,e,n){if(ss)return t(e,n);ss=!0;try{return df(t,e,n)}finally{ss=!1,(jn!==null||er!==null)&&(ff(),cf())}}function Kr(t,e){var n=t.stateNode;if(n===null)return null;var r=bi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var $s=!1;if(Ot)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){$s=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{$s=!1}function Rm(t,e,n,r,o,i,s,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Vr=!1,ri=null,oi=!1,Ws=null,Nm={onError:function(t){Vr=!0,ri=t}};function Pm(t,e,n,r,o,i,s,a,c){Vr=!1,ri=null,Rm.apply(Nm,arguments)}function Mm(t,e,n,r,o,i,s,a,c){if(Pm.apply(this,arguments),Vr){if(Vr){var d=ri;Vr=!1,ri=null}else throw Error(K(198));oi||(oi=!0,Ws=d)}}function Ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ru(t){if(Ln(t)!==t)throw Error(K(188))}function Dm(t){var e=t.alternate;if(!e){if(e=Ln(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ru(o),t;if(i===r)return ru(o),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function mf(t){return t=Dm(t),t!==null?gf(t):null}function gf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gf(t);if(e!==null)return e;t=t.sibling}return null}var yf=lt.unstable_scheduleCallback,ou=lt.unstable_cancelCallback,Lm=lt.unstable_shouldYield,Um=lt.unstable_requestPaint,ke=lt.unstable_now,Fm=lt.unstable_getCurrentPriorityLevel,Yl=lt.unstable_ImmediatePriority,vf=lt.unstable_UserBlockingPriority,ii=lt.unstable_NormalPriority,bm=lt.unstable_LowPriority,_f=lt.unstable_IdlePriority,Di=null,Ut=null;function Vm(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Gm,zm=Math.log,Bm=Math.LN2;function Gm(t){return t>>>=0,t===0?32:31-(zm(t)/Bm|0)|0}var wo=64,Co=4194304;function Lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function si(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Lr(a):(i&=s,i!==0&&(r=Lr(i)))}else s=n&~o,s!==0?r=Lr(s):i!==0&&(r=Lr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tt(e),o=1<<n,r|=t[n],e&=~o;return r}function Hm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Tt(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=Hm(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Js(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sf(){var t=wo;return wo<<=1,!(wo&4194240)&&(wo=64),t}function ls(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function co(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tt(e),t[e]=n}function qm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Tt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Zl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var me=0;function Ef(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wf,Xl,Cf,Tf,If,Ks=!1,To=[],sn=null,ln=null,an=null,Yr=new Map,Zr=new Map,en=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Yr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(e.pointerId)}}function Tr(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=po(e),e!==null&&Xl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Wm(t,e,n,r,o){switch(e){case"focusin":return sn=Tr(sn,t,e,n,r,o),!0;case"dragenter":return ln=Tr(ln,t,e,n,r,o),!0;case"mouseover":return an=Tr(an,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Yr.set(i,Tr(Yr.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Zr.set(i,Tr(Zr.get(i)||null,t,e,n,r,o)),!0}return!1}function xf(t){var e=Cn(t.target);if(e!==null){var n=Ln(e);if(n!==null){if(e=n.tag,e===13){if(e=hf(n),e!==null){t.blockedOn=e,If(t.priority,function(){Cf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ys(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Os=r,n.target.dispatchEvent(r),Os=null}else return e=po(n),e!==null&&Xl(e),t.blockedOn=n,!1;e.shift()}return!0}function su(t,e,n){qo(t)&&n.delete(e)}function Jm(){Ks=!1,sn!==null&&qo(sn)&&(sn=null),ln!==null&&qo(ln)&&(ln=null),an!==null&&qo(an)&&(an=null),Yr.forEach(su),Zr.forEach(su)}function Ir(t,e){t.blockedOn===e&&(t.blockedOn=null,Ks||(Ks=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Jm)))}function Xr(t){function e(o){return Ir(o,t)}if(0<To.length){Ir(To[0],t);for(var n=1;n<To.length;n++){var r=To[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sn!==null&&Ir(sn,t),ln!==null&&Ir(ln,t),an!==null&&Ir(an,t),Yr.forEach(e),Zr.forEach(e),n=0;n<en.length;n++)r=en[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)xf(n),n.blockedOn===null&&en.shift()}var tr=Kt.ReactCurrentBatchConfig,li=!0;function Km(t,e,n,r){var o=me,i=tr.transition;tr.transition=null;try{me=1,Ql(t,e,n,r)}finally{me=o,tr.transition=i}}function Ym(t,e,n,r){var o=me,i=tr.transition;tr.transition=null;try{me=4,Ql(t,e,n,r)}finally{me=o,tr.transition=i}}function Ql(t,e,n,r){if(li){var o=Ys(t,e,n,r);if(o===null)ys(t,e,r,ai,n),iu(t,r);else if(Wm(o,t,e,n,r))r.stopPropagation();else if(iu(t,r),e&4&&-1<$m.indexOf(t)){for(;o!==null;){var i=po(o);if(i!==null&&wf(i),i=Ys(t,e,n,r),i===null&&ys(t,e,r,ai,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ys(t,e,r,null,n)}}var ai=null;function Ys(t,e,n,r){if(ai=null,t=Kl(r),t=Cn(t),t!==null)if(e=Ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ai=t,null}function Af(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fm()){case Yl:return 1;case vf:return 4;case ii:case bm:return 16;case _f:return 536870912;default:return 16}default:return 16}}var nn=null,jl=null,$o=null;function kf(){if($o)return $o;var t,e=jl,n=e.length,r,o="value"in nn?nn.value:nn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return $o=o.slice(t,1<r?1-r:void 0)}function Wo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function lu(){return!1}function ut(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Io:lu,this.isPropagationStopped=lu,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),e}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=ut(hr),fo=Ce({},hr,{view:0,detail:0}),Zm=ut(fo),as,us,xr,Li=Ce({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(as=t.screenX-xr.screenX,us=t.screenY-xr.screenY):us=as=0,xr=t),as)},movementY:function(t){return"movementY"in t?t.movementY:us}}),au=ut(Li),Xm=Ce({},Li,{dataTransfer:0}),Qm=ut(Xm),jm=Ce({},fo,{relatedTarget:0}),cs=ut(jm),eg=Ce({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=ut(eg),ng=Ce({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rg=ut(ng),og=Ce({},hr,{data:0}),uu=ut(og),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lg[t])?!!e[t]:!1}function ta(){return ag}var ug=Ce({},fo,{key:function(t){if(t.key){var e=ig[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cg=ut(ug),dg=Ce({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=ut(dg),fg=Ce({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),pg=ut(fg),hg=Ce({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=ut(hg),gg=Ce({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=ut(gg),vg=[9,13,27,32],na=Ot&&"CompositionEvent"in window,zr=null;Ot&&"documentMode"in document&&(zr=document.documentMode);var _g=Ot&&"TextEvent"in window&&!zr,Rf=Ot&&(!na||zr&&8<zr&&11>=zr),du=" ",fu=!1;function Nf(t,e){switch(t){case"keyup":return vg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function Sg(t,e){switch(t){case"compositionend":return Pf(e);case"keypress":return e.which!==32?null:(fu=!0,du);case"textInput":return t=e.data,t===du&&fu?null:t;default:return null}}function Eg(t,e){if(Bn)return t==="compositionend"||!na&&Nf(t,e)?(t=kf(),$o=jl=nn=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rf&&e.locale!=="ko"?null:e.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wg[t.type]:e==="textarea"}function Mf(t,e,n,r){uf(r),e=ui(e,"onChange"),0<e.length&&(n=new ea("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Br=null,Qr=null;function Cg(t){Of(t,0)}function Ui(t){var e=On(t);if(tf(e))return t}function Tg(t,e){if(t==="change")return e}var Df=!1;if(Ot){var ds;if(Ot){var fs="oninput"in document;if(!fs){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),fs=typeof hu.oninput=="function"}ds=fs}else ds=!1;Df=ds&&(!document.documentMode||9<document.documentMode)}function mu(){Br&&(Br.detachEvent("onpropertychange",Lf),Qr=Br=null)}function Lf(t){if(t.propertyName==="value"&&Ui(Qr)){var e=[];Mf(e,Qr,t,Kl(t)),pf(Cg,e)}}function Ig(t,e,n){t==="focusin"?(mu(),Br=e,Qr=n,Br.attachEvent("onpropertychange",Lf)):t==="focusout"&&mu()}function xg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ui(Qr)}function Ag(t,e){if(t==="click")return Ui(e)}function kg(t,e){if(t==="input"||t==="change")return Ui(e)}function Rg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kt=typeof Object.is=="function"?Object.is:Rg;function jr(t,e){if(kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ps.call(e,o)||!kt(t[o],e[o]))return!1}return!0}function gu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yu(t,e){var n=gu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gu(n)}}function Uf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ff(){for(var t=window,e=ni();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ni(t.document)}return e}function ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ng(t){var e=Ff(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uf(n.ownerDocument.documentElement,n)){if(r!==null&&ra(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=yu(n,i);var s=yu(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pg=Ot&&"documentMode"in document&&11>=document.documentMode,Gn=null,Zs=null,Gr=null,Xs=!1;function vu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xs||Gn==null||Gn!==ni(r)||(r=Gn,"selectionStart"in r&&ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&jr(Gr,r)||(Gr=r,r=ui(Zs,"onSelect"),0<r.length&&(e=new ea("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gn)))}function xo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hn={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},ps={},bf={};Ot&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Fi(t){if(ps[t])return ps[t];if(!Hn[t])return t;var e=Hn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bf)return ps[t]=e[n];return t}var Vf=Fi("animationend"),zf=Fi("animationiteration"),Bf=Fi("animationstart"),Gf=Fi("transitionend"),Hf=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(t,e){Hf.set(t,e),Dn(e,[t])}for(var hs=0;hs<_u.length;hs++){var ms=_u[hs],Mg=ms.toLowerCase(),Dg=ms[0].toUpperCase()+ms.slice(1);gn(Mg,"on"+Dg)}gn(Vf,"onAnimationEnd");gn(zf,"onAnimationIteration");gn(Bf,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(Gf,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Su(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mm(r,e,void 0,t),t.currentTarget=null}function Of(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Su(o,a,d),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Su(o,a,d),i=c}}}if(oi)throw t=Ws,oi=!1,Ws=null,t}function ve(t,e){var n=e[nl];n===void 0&&(n=e[nl]=new Set);var r=t+"__bubble";n.has(r)||(qf(e,t,2,!1),n.add(r))}function gs(t,e,n){var r=0;e&&(r|=4),qf(n,t,r,e)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function eo(t){if(!t[Ao]){t[Ao]=!0,Zd.forEach(function(n){n!=="selectionchange"&&(Lg.has(n)||gs(n,!1,t),gs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ao]||(e[Ao]=!0,gs("selectionchange",!1,e))}}function qf(t,e,n,r){switch(Af(e)){case 1:var o=Km;break;case 4:o=Ym;break;default:o=Ql}n=o.bind(null,e,n,t),o=void 0,!$s||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function ys(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Cn(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}pf(function(){var d=i,f=Kl(n),h=[];e:{var p=Hf.get(t);if(p!==void 0){var m=ea,E=t;switch(t){case"keypress":if(Wo(n)===0)break e;case"keydown":case"keyup":m=cg;break;case"focusin":E="focus",m=cs;break;case"focusout":E="blur",m=cs;break;case"beforeblur":case"afterblur":m=cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pg;break;case Vf:case zf:case Bf:m=tg;break;case Gf:m=mg;break;case"scroll":m=Zm;break;case"wheel":m=yg;break;case"copy":case"cut":case"paste":m=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cu}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var y=d,S;y!==null;){S=y;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,g!==null&&(T=Kr(y,g),T!=null&&v.push(to(y,T,S)))),w)break;y=y.return}0<v.length&&(p=new m(p,E,null,n,f),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Os&&(E=n.relatedTarget||n.fromElement)&&(Cn(E)||E[qt]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=d,E=E?Cn(E):null,E!==null&&(w=Ln(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=d),m!==E)){if(v=au,T="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=cu,T="onPointerLeave",g="onPointerEnter",y="pointer"),w=m==null?p:On(m),S=E==null?p:On(E),p=new v(T,y+"leave",m,n,f),p.target=w,p.relatedTarget=S,T=null,Cn(f)===d&&(v=new v(g,y+"enter",E,n,f),v.target=S,v.relatedTarget=w,T=v),w=T,m&&E)t:{for(v=m,g=E,y=0,S=v;S;S=Fn(S))y++;for(S=0,T=g;T;T=Fn(T))S++;for(;0<y-S;)v=Fn(v),y--;for(;0<S-y;)g=Fn(g),S--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Fn(v),g=Fn(g)}v=null}else v=null;m!==null&&Eu(h,p,m,v,!1),E!==null&&w!==null&&Eu(h,w,E,v,!0)}}e:{if(p=d?On(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=Tg;else if(pu(p))if(Df)I=kg;else{I=xg;var N=Ig}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=Ag);if(I&&(I=I(t,d))){Mf(h,I,n,f);break e}N&&N(t,p,d),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Vs(p,"number",p.value)}switch(N=d?On(d):window,t){case"focusin":(pu(N)||N.contentEditable==="true")&&(Gn=N,Zs=d,Gr=null);break;case"focusout":Gr=Zs=Gn=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,vu(h,n,f);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":vu(h,n,f)}var k;if(na)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Bn?Nf(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Rf&&n.locale!=="ko"&&(Bn||M!=="onCompositionStart"?M==="onCompositionEnd"&&Bn&&(k=kf()):(nn=f,jl="value"in nn?nn.value:nn.textContent,Bn=!0)),N=ui(d,M),0<N.length&&(M=new uu(M,t,null,n,f),h.push({event:M,listeners:N}),k?M.data=k:(k=Pf(n),k!==null&&(M.data=k)))),(k=_g?Sg(t,n):Eg(t,n))&&(d=ui(d,"onBeforeInput"),0<d.length&&(f=new uu("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}Of(h,e)})}function to(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ui(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Kr(t,n),i!=null&&r.unshift(to(t,i,o)),i=Kr(t,e),i!=null&&r.push(to(t,i,o))),t=t.return}return r}function Fn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eu(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,o?(c=Kr(n,i),c!=null&&s.unshift(to(n,c,a))):o||(c=Kr(n,i),c!=null&&s.push(to(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Ug=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function wu(t){return(typeof t=="string"?t:""+t).replace(Ug,`
`).replace(Fg,"")}function ko(t,e,n){if(e=wu(e),wu(t)!==e&&n)throw Error(K(425))}function ci(){}var Qs=null,js=null;function el(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,bg=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(t){return Cu.resolve(null).then(t).catch(zg)}:tl;function zg(t){setTimeout(function(){throw t})}function vs(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Xr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Xr(e)}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mr,no="__reactProps$"+mr,qt="__reactContainer$"+mr,nl="__reactEvents$"+mr,Bg="__reactListeners$"+mr,Gg="__reactHandles$"+mr;function Cn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tu(t);t!==null;){if(n=t[Lt])return n;t=Tu(t)}return e}t=n,n=t.parentNode}return null}function po(t){return t=t[Lt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function On(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function bi(t){return t[no]||null}var rl=[],qn=-1;function yn(t){return{current:t}}function _e(t){0>qn||(t.current=rl[qn],rl[qn]=null,qn--)}function ye(t,e){qn++,rl[qn]=t.current,t.current=e}var mn={},$e=yn(mn),tt=yn(!1),kn=mn;function lr(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function nt(t){return t=t.childContextTypes,t!=null}function di(){_e(tt),_e($e)}function Iu(t,e,n){if($e.current!==mn)throw Error(K(168));ye($e,e),ye(tt,n)}function $f(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(K(108,Im(t)||"Unknown",o));return Ce({},n,r)}function fi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,kn=$e.current,ye($e,t),ye(tt,tt.current),!0}function xu(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=$f(t,e,kn),r.__reactInternalMemoizedMergedChildContext=t,_e(tt),_e($e),ye($e,t)):_e(tt),ye(tt,n)}var zt=null,Vi=!1,_s=!1;function Wf(t){zt===null?zt=[t]:zt.push(t)}function Hg(t){Vi=!0,Wf(t)}function vn(){if(!_s&&zt!==null){_s=!0;var t=0,e=me;try{var n=zt;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zt=null,Vi=!1}catch(o){throw zt!==null&&(zt=zt.slice(t+1)),yf(Yl,vn),o}finally{me=e,_s=!1}}return null}var $n=[],Wn=0,pi=null,hi=0,dt=[],ft=0,Rn=null,Bt=1,Gt="";function Sn(t,e){$n[Wn++]=hi,$n[Wn++]=pi,pi=t,hi=e}function Jf(t,e,n){dt[ft++]=Bt,dt[ft++]=Gt,dt[ft++]=Rn,Rn=t;var r=Bt;t=Gt;var o=32-Tt(r)-1;r&=~(1<<o),n+=1;var i=32-Tt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Bt=1<<32-Tt(e)+o|n<<o|r,Gt=i+t}else Bt=1<<i|n<<o|r,Gt=t}function oa(t){t.return!==null&&(Sn(t,1),Jf(t,1,0))}function ia(t){for(;t===pi;)pi=$n[--Wn],$n[Wn]=null,hi=$n[--Wn],$n[Wn]=null;for(;t===Rn;)Rn=dt[--ft],dt[ft]=null,Gt=dt[--ft],dt[ft]=null,Bt=dt[--ft],dt[ft]=null}var st=null,it=null,Se=!1,Ct=null;function Kf(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Au(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,it=un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,it=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rn!==null?{id:Bt,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,st=t,it=null,!0):!1;default:return!1}}function ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function il(t){if(Se){var e=it;if(e){var n=e;if(!Au(t,e)){if(ol(t))throw Error(K(418));e=un(n.nextSibling);var r=st;e&&Au(t,e)?Kf(r,n):(t.flags=t.flags&-4097|2,Se=!1,st=t)}}else{if(ol(t))throw Error(K(418));t.flags=t.flags&-4097|2,Se=!1,st=t}}}function ku(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Ro(t){if(t!==st)return!1;if(!Se)return ku(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!el(t.type,t.memoizedProps)),e&&(e=it)){if(ol(t))throw Yf(),Error(K(418));for(;e;)Kf(t,e),e=un(e.nextSibling)}if(ku(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){it=un(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}it=null}}else it=st?un(t.stateNode.nextSibling):null;return!0}function Yf(){for(var t=it;t;)t=un(t.nextSibling)}function ar(){it=st=null,Se=!1}function sa(t){Ct===null?Ct=[t]:Ct.push(t)}var Og=Kt.ReactCurrentBatchConfig;function Ar(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function No(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ru(t){var e=t._init;return e(t._payload)}function Zf(t){function e(g,y){if(t){var S=g.deletions;S===null?(g.deletions=[y],g.flags|=16):S.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(g,y){return g=pn(g,y),g.index=0,g.sibling=null,g}function i(g,y,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<y?(g.flags|=2,y):S):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,S,T){return y===null||y.tag!==6?(y=xs(S,g.mode,T),y.return=g,y):(y=o(y,S),y.return=g,y)}function c(g,y,S,T){var I=S.type;return I===zn?f(g,y,S.props.children,T,S.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qt&&Ru(I)===y.type)?(T=o(y,S.props),T.ref=Ar(g,y,S),T.return=g,T):(T=jo(S.type,S.key,S.props,null,g.mode,T),T.ref=Ar(g,y,S),T.return=g,T)}function d(g,y,S,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=As(S,g.mode,T),y.return=g,y):(y=o(y,S.children||[]),y.return=g,y)}function f(g,y,S,T,I){return y===null||y.tag!==7?(y=An(S,g.mode,T,I),y.return=g,y):(y=o(y,S),y.return=g,y)}function h(g,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xs(""+y,g.mode,S),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _o:return S=jo(y.type,y.key,y.props,null,g.mode,S),S.ref=Ar(g,null,y),S.return=g,S;case Vn:return y=As(y,g.mode,S),y.return=g,y;case Qt:var T=y._init;return h(g,T(y._payload),S)}if(Dr(y)||wr(y))return y=An(y,g.mode,S,null),y.return=g,y;No(g,y)}return null}function p(g,y,S,T){var I=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:a(g,y,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _o:return S.key===I?c(g,y,S,T):null;case Vn:return S.key===I?d(g,y,S,T):null;case Qt:return I=S._init,p(g,y,I(S._payload),T)}if(Dr(S)||wr(S))return I!==null?null:f(g,y,S,T,null);No(g,S)}return null}function m(g,y,S,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(S)||null,a(y,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _o:return g=g.get(T.key===null?S:T.key)||null,c(y,g,T,I);case Vn:return g=g.get(T.key===null?S:T.key)||null,d(y,g,T,I);case Qt:var N=T._init;return m(g,y,S,N(T._payload),I)}if(Dr(T)||wr(T))return g=g.get(S)||null,f(y,g,T,I,null);No(y,T)}return null}function E(g,y,S,T){for(var I=null,N=null,k=y,M=y=0,P=null;k!==null&&M<S.length;M++){k.index>M?(P=k,k=null):P=k.sibling;var V=p(g,k,S[M],T);if(V===null){k===null&&(k=P);break}t&&k&&V.alternate===null&&e(g,k),y=i(V,y,M),N===null?I=V:N.sibling=V,N=V,k=P}if(M===S.length)return n(g,k),Se&&Sn(g,M),I;if(k===null){for(;M<S.length;M++)k=h(g,S[M],T),k!==null&&(y=i(k,y,M),N===null?I=k:N.sibling=k,N=k);return Se&&Sn(g,M),I}for(k=r(g,k);M<S.length;M++)P=m(k,g,M,S[M],T),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?M:P.key),y=i(P,y,M),N===null?I=P:N.sibling=P,N=P);return t&&k.forEach(function(j){return e(g,j)}),Se&&Sn(g,M),I}function v(g,y,S,T){var I=wr(S);if(typeof I!="function")throw Error(K(150));if(S=I.call(S),S==null)throw Error(K(151));for(var N=I=null,k=y,M=y=0,P=null,V=S.next();k!==null&&!V.done;M++,V=S.next()){k.index>M?(P=k,k=null):P=k.sibling;var j=p(g,k,V.value,T);if(j===null){k===null&&(k=P);break}t&&k&&j.alternate===null&&e(g,k),y=i(j,y,M),N===null?I=j:N.sibling=j,N=j,k=P}if(V.done)return n(g,k),Se&&Sn(g,M),I;if(k===null){for(;!V.done;M++,V=S.next())V=h(g,V.value,T),V!==null&&(y=i(V,y,M),N===null?I=V:N.sibling=V,N=V);return Se&&Sn(g,M),I}for(k=r(g,k);!V.done;M++,V=S.next())V=m(k,g,M,V.value,T),V!==null&&(t&&V.alternate!==null&&k.delete(V.key===null?M:V.key),y=i(V,y,M),N===null?I=V:N.sibling=V,N=V);return t&&k.forEach(function(R){return e(g,R)}),Se&&Sn(g,M),I}function w(g,y,S,T){if(typeof S=="object"&&S!==null&&S.type===zn&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _o:e:{for(var I=S.key,N=y;N!==null;){if(N.key===I){if(I=S.type,I===zn){if(N.tag===7){n(g,N.sibling),y=o(N,S.props.children),y.return=g,g=y;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qt&&Ru(I)===N.type){n(g,N.sibling),y=o(N,S.props),y.ref=Ar(g,N,S),y.return=g,g=y;break e}n(g,N);break}else e(g,N);N=N.sibling}S.type===zn?(y=An(S.props.children,g.mode,T,S.key),y.return=g,g=y):(T=jo(S.type,S.key,S.props,null,g.mode,T),T.ref=Ar(g,y,S),T.return=g,g=T)}return s(g);case Vn:e:{for(N=S.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(g,y.sibling),y=o(y,S.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=As(S,g.mode,T),y.return=g,g=y}return s(g);case Qt:return N=S._init,w(g,y,N(S._payload),T)}if(Dr(S))return E(g,y,S,T);if(wr(S))return v(g,y,S,T);No(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(g,y.sibling),y=o(y,S),y.return=g,g=y):(n(g,y),y=xs(S,g.mode,T),y.return=g,g=y),s(g)):n(g,y)}return w}var ur=Zf(!0),Xf=Zf(!1),mi=yn(null),gi=null,Jn=null,la=null;function aa(){la=Jn=gi=null}function ua(t){var e=mi.current;_e(mi),t._currentValue=e}function sl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nr(t,e){gi=t,la=Jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function gt(t){var e=t._currentValue;if(la!==t)if(t={context:t,memoizedValue:e,next:null},Jn===null){if(gi===null)throw Error(K(308));Jn=t,gi.dependencies={lanes:0,firstContext:t}}else Jn=Jn.next=t;return e}var Tn=null;function ca(t){Tn===null?Tn=[t]:Tn.push(t)}function Qf(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,ca(e)):(n.next=o.next,o.next=n),e.interleaved=n,$t(t,r)}function $t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jt=!1;function da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,$t(t,n)}return o=r.interleaved,o===null?(e.next=e,ca(r)):(e.next=o.next,o.next=e),r.interleaved=e,$t(t,n)}function Jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zl(t,n)}}function Nu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yi(t,e,n,r){var o=t.updateQueue;jt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=o.baseState;s=0,f=d=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(p=e,m=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){h=E.call(m,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,p=typeof E=="function"?E.call(m,h,p):E,p==null)break e;h=Ce({},h,p);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=m,c=h):f=f.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(f===null&&(c=h),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Pn|=s,t.lanes=s,t.memoizedState=h}}function Pu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(K(191,o));o.call(r)}}}var ho={},Ft=yn(ho),ro=yn(ho),oo=yn(ho);function In(t){if(t===ho)throw Error(K(174));return t}function fa(t,e){switch(ye(oo,e),ye(ro,t),ye(Ft,ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bs(e,t)}_e(Ft),ye(Ft,e)}function cr(){_e(Ft),_e(ro),_e(oo)}function ep(t){In(oo.current);var e=In(Ft.current),n=Bs(e,t.type);e!==n&&(ye(ro,t),ye(Ft,n))}function pa(t){ro.current===t&&(_e(Ft),_e(ro))}var Ee=yn(0);function vi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ss=[];function ha(){for(var t=0;t<Ss.length;t++)Ss[t]._workInProgressVersionPrimary=null;Ss.length=0}var Ko=Kt.ReactCurrentDispatcher,Es=Kt.ReactCurrentBatchConfig,Nn=0,we=null,Pe=null,Le=null,_i=!1,Hr=!1,io=0,qg=0;function Ge(){throw Error(K(321))}function ma(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kt(t[n],e[n]))return!1;return!0}function ga(t,e,n,r,o,i){if(Nn=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?Kg:Yg,t=n(r,o),Hr){i=0;do{if(Hr=!1,io=0,25<=i)throw Error(K(301));i+=1,Le=Pe=null,e.updateQueue=null,Ko.current=Zg,t=n(r,o)}while(Hr)}if(Ko.current=Si,e=Pe!==null&&Pe.next!==null,Nn=0,Le=Pe=we=null,_i=!1,e)throw Error(K(300));return t}function ya(){var t=io!==0;return io=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?we.memoizedState=Le=t:Le=Le.next=t,Le}function yt(){if(Pe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?we.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(K(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?we.memoizedState=Le=t:Le=Le.next=t}return Le}function so(t,e){return typeof e=="function"?e(t):e}function ws(t){var e=yt(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Pe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,d=i;do{var f=d.lane;if((Nn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,s=r):c=c.next=h,we.lanes|=f,Pn|=f}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=a,kt(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,we.lanes|=i,Pn|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cs(t){var e=yt(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);kt(i,e.memoizedState)||(et=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tp(){}function np(t,e){var n=we,r=yt(),o=e(),i=!kt(r.memoizedState,o);if(i&&(r.memoizedState=o,et=!0),r=r.queue,va(ip.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,lo(9,op.bind(null,n,r,o,e),void 0,null),Ue===null)throw Error(K(349));Nn&30||rp(n,e,o)}return o}function rp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function op(t,e,n,r){e.value=n,e.getSnapshot=r,sp(e)&&lp(t)}function ip(t,e,n){return n(function(){sp(e)&&lp(t)})}function sp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kt(t,n)}catch{return!0}}function lp(t){var e=$t(t,1);e!==null&&It(e,t,1,-1)}function Mu(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},e.queue=t,t=t.dispatch=Jg.bind(null,we,t),[e.memoizedState,t]}function lo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ap(){return yt().memoizedState}function Yo(t,e,n,r){var o=Dt();we.flags|=t,o.memoizedState=lo(1|e,n,void 0,r===void 0?null:r)}function zi(t,e,n,r){var o=yt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var s=Pe.memoizedState;if(i=s.destroy,r!==null&&ma(r,s.deps)){o.memoizedState=lo(e,n,i,r);return}}we.flags|=t,o.memoizedState=lo(1|e,n,i,r)}function Du(t,e){return Yo(8390656,8,t,e)}function va(t,e){return zi(2048,8,t,e)}function up(t,e){return zi(4,2,t,e)}function cp(t,e){return zi(4,4,t,e)}function dp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fp(t,e,n){return n=n!=null?n.concat([t]):null,zi(4,4,dp.bind(null,e,t),n)}function _a(){}function pp(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ma(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hp(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ma(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mp(t,e,n){return Nn&21?(kt(n,e)||(n=Sf(),we.lanes|=n,Pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=n)}function $g(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Es.transition;Es.transition={};try{t(!1),e()}finally{me=n,Es.transition=r}}function gp(){return yt().memoizedState}function Wg(t,e,n){var r=fn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yp(t))vp(e,n);else if(n=Qf(t,e,n,r),n!==null){var o=Ye();It(n,t,r,o),_p(n,e,r)}}function Jg(t,e,n){var r=fn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yp(t))vp(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,kt(a,s)){var c=e.interleaved;c===null?(o.next=o,ca(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=Qf(t,e,o,r),n!==null&&(o=Ye(),It(n,t,r,o),_p(n,e,r))}}function yp(t){var e=t.alternate;return t===we||e!==null&&e===we}function vp(t,e){Hr=_i=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _p(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zl(t,n)}}var Si={readContext:gt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Kg={readContext:gt,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:gt,useEffect:Du,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yo(4194308,4,dp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yo(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wg.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:Mu,useDebugValue:_a,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=Mu(!1),e=t[0];return t=$g.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,o=Dt();if(Se){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ue===null)throw Error(K(349));Nn&30||rp(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Du(ip.bind(null,r,i,t),[t]),r.flags|=2048,lo(9,op.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dt(),e=Ue.identifierPrefix;if(Se){var n=Gt,r=Bt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=io++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yg={readContext:gt,useCallback:pp,useContext:gt,useEffect:va,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:hp,useReducer:ws,useRef:ap,useState:function(){return ws(so)},useDebugValue:_a,useDeferredValue:function(t){var e=yt();return mp(e,Pe.memoizedState,t)},useTransition:function(){var t=ws(so)[0],e=yt().memoizedState;return[t,e]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},Zg={readContext:gt,useCallback:pp,useContext:gt,useEffect:va,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:hp,useReducer:Cs,useRef:ap,useState:function(){return Cs(so)},useDebugValue:_a,useDeferredValue:function(t){var e=yt();return Pe===null?e.memoizedState=t:mp(e,Pe.memoizedState,t)},useTransition:function(){var t=Cs(so)[0],e=yt().memoizedState;return[t,e]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function Et(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ll(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bi={isMounted:function(t){return(t=t._reactInternals)?Ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),o=fn(t),i=Ht(r,o);i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,o),e!==null&&(It(e,t,o,r),Jo(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),o=fn(t),i=Ht(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,o),e!==null&&(It(e,t,o,r),Jo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=fn(t),o=Ht(n,r);o.tag=2,e!=null&&(o.callback=e),e=cn(t,o,r),e!==null&&(It(e,t,r,n),Jo(e,t,r))}};function Lu(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!jr(n,r)||!jr(o,i):!0}function Sp(t,e,n){var r=!1,o=mn,i=e.contextType;return typeof i=="object"&&i!==null?i=gt(i):(o=nt(e)?kn:$e.current,r=e.contextTypes,i=(r=r!=null)?lr(t,o):mn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bi.enqueueReplaceState(e,e.state,null)}function al(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},da(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=gt(i):(i=nt(e)?kn:$e.current,o.context=lr(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ll(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Bi.enqueueReplaceState(o,o.state,null),yi(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function dr(t,e){try{var n="",r=e;do n+=Tm(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ts(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function Ep(t,e,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wi||(wi=!0,_l=r),ul(t,e)},n}function wp(t,e,n){n=Ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Fu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Xg;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=dy.bind(null,t,e,n),e.then(t,t))}function bu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vu(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ht(-1,1),e.tag=2,cn(n,e,1))),n.lanes|=1),t)}var Qg=Kt.ReactCurrentOwner,et=!1;function Ke(t,e,n,r){e.child=t===null?Xf(e,null,n,r):ur(e,t.child,n,r)}function zu(t,e,n,r,o){n=n.render;var i=e.ref;return nr(e,o),r=ga(t,e,n,r,i,o),n=ya(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Wt(t,e,o)):(Se&&n&&oa(e),e.flags|=1,Ke(t,e,r,o),e.child)}function Bu(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Aa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Cp(t,e,i,r,o)):(t=jo(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(s,r)&&t.ref===e.ref)return Wt(t,e,o)}return e.flags|=1,t=pn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Cp(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(jr(i,r)&&t.ref===e.ref)if(et=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,Wt(t,e,o)}return cl(t,e,n,r,o)}function Tp(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Yn,ot),ot|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Yn,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Yn,ot),ot|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Yn,ot),ot|=r;return Ke(t,e,o,n),e.child}function Ip(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cl(t,e,n,r,o){var i=nt(n)?kn:$e.current;return i=lr(e,i),nr(e,o),n=ga(t,e,n,r,i,o),r=ya(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Wt(t,e,o)):(Se&&r&&oa(e),e.flags|=1,Ke(t,e,n,o),e.child)}function Gu(t,e,n,r,o){if(nt(n)){var i=!0;fi(e)}else i=!1;if(nr(e,o),e.stateNode===null)Zo(t,e),Sp(e,n,r),al(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=nt(n)?kn:$e.current,d=lr(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Uu(e,s,r,d),jt=!1;var p=e.memoizedState;s.state=p,yi(e,r,s,o),c=e.memoizedState,a!==r||p!==c||tt.current||jt?(typeof f=="function"&&(ll(e,n,f,r),c=e.memoizedState),(a=jt||Lu(e,n,a,r,p,c,d))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=d,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jf(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Et(e.type,a),s.props=d,h=e.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=nt(n)?kn:$e.current,c=lr(e,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==c)&&Uu(e,s,r,c),jt=!1,p=e.memoizedState,s.state=p,yi(e,r,s,o);var E=e.memoizedState;a!==h||p!==E||tt.current||jt?(typeof m=="function"&&(ll(e,n,m,r),E=e.memoizedState),(d=jt||Lu(e,n,d,r,p,E,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return dl(t,e,n,r,i,o)}function dl(t,e,n,r,o,i){Ip(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&xu(e,n,!1),Wt(t,e,i);r=e.stateNode,Qg.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ur(e,t.child,null,i),e.child=ur(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=r.state,o&&xu(e,n,!0),e.child}function xp(t){var e=t.stateNode;e.pendingContext?Iu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iu(t,e.context,!1),fa(t,e.containerInfo)}function Hu(t,e,n,r,o){return ar(),sa(o),e.flags|=256,Ke(t,e,n,r),e.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function pl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ap(t,e,n){var r=e.pendingProps,o=Ee.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ye(Ee,o&1),t===null)return il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Oi(s,r,0,null),t=An(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pl(n),e.memoizedState=fl,t):Sa(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return jg(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=pn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=pn(a,i):(i=An(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?pl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=fl,r}return i=t.child,t=i.sibling,r=pn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sa(t,e){return e=Oi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Po(t,e,n,r){return r!==null&&sa(r),ur(e,t.child,null,n),t=Sa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jg(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Ts(Error(K(422))),Po(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Oi({mode:"visible",children:r.children},o,0,null),i=An(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ur(e,t.child,null,s),e.child.memoizedState=pl(s),e.memoizedState=fl,i);if(!(e.mode&1))return Po(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Ts(i,r,void 0),Po(t,e,s,r)}if(a=(s&t.childLanes)!==0,et||a){if(r=Ue,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,$t(t,o),It(r,t,o,-1))}return xa(),r=Ts(Error(K(421))),Po(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=fy.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,it=un(o.nextSibling),st=e,Se=!0,Ct=null,t!==null&&(dt[ft++]=Bt,dt[ft++]=Gt,dt[ft++]=Rn,Bt=t.id,Gt=t.overflow,Rn=e),e=Sa(e,r.children),e.flags|=4096,e)}function Ou(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sl(t.return,e,n)}function Is(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function kp(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ke(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ou(t,n,e);else if(t.tag===19)Ou(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&vi(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Is(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&vi(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Is(e,!0,n,null,i);break;case"together":Is(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=pn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ey(t,e,n){switch(e.tag){case 3:xp(e),ar();break;case 5:ep(e);break;case 1:nt(e.type)&&fi(e);break;case 4:fa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ye(mi,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Ap(t,e,n):(ye(Ee,Ee.current&1),t=Wt(t,e,n),t!==null?t.sibling:null);ye(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kp(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ye(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Tp(t,e,n)}return Wt(t,e,n)}var Rp,hl,Np,Pp;Rp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hl=function(){};Np=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,In(Ft.current);var i=null;switch(n){case"input":o=Fs(t,o),r=Fs(t,r),i=[];break;case"select":o=Ce({},o,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":o=zs(t,o),r=zs(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ci)}Gs(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var a=o[d];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Pp=function(t,e,n,r){n!==r&&(e.flags|=4)};function kr(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ty(t,e,n){var r=e.pendingProps;switch(ia(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return nt(e.type)&&di(),He(e),null;case 3:return r=e.stateNode,cr(),_e(tt),_e($e),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(wl(Ct),Ct=null))),hl(t,e),He(e),null;case 5:pa(e);var o=In(oo.current);if(n=e.type,t!==null&&e.stateNode!=null)Np(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return He(e),null}if(t=In(Ft.current),Ro(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Lt]=e,r[no]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<Ur.length;o++)ve(Ur[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Qa(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":eu(r,i),ve("invalid",r)}Gs(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,a,t),o=["children",""+a]):Wr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":So(r),ja(r,i,!0);break;case"textarea":So(r),tu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ci)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=of(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Lt]=e,t[no]=r,Rp(t,e,!1,!1),e.stateNode=t;e:{switch(s=Hs(n,r),n){case"dialog":ve("cancel",t),ve("close",t),o=r;break;case"iframe":case"object":case"embed":ve("load",t),o=r;break;case"video":case"audio":for(o=0;o<Ur.length;o++)ve(Ur[o],t);o=r;break;case"source":ve("error",t),o=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),o=r;break;case"details":ve("toggle",t),o=r;break;case"input":Qa(t,r),o=Fs(t,r),ve("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ce({},r,{value:void 0}),ve("invalid",t);break;case"textarea":eu(t,r),o=zs(t,r),ve("invalid",t);break;default:o=r}Gs(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?af(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sf(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jr(t,c):typeof c=="number"&&Jr(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",t):c!=null&&ql(t,i,c,s))}switch(n){case"input":So(t),ja(t,r,!1);break;case"textarea":So(t),tu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Pp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=In(oo.current),In(Ft.current),Ro(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,(i=r.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:ko(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ko(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r}return He(e),null;case 13:if(_e(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&it!==null&&e.mode&1&&!(e.flags&128))Yf(),ar(),e.flags|=98560,i=!1;else if(i=Ro(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Lt]=e}else ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Ct!==null&&(wl(Ct),Ct=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Me===0&&(Me=3):xa())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return cr(),hl(t,e),t===null&&eo(e.stateNode.containerInfo),He(e),null;case 10:return ua(e.type._context),He(e),null;case 17:return nt(e.type)&&di(),He(e),null;case 19:if(_e(Ee),i=e.memoizedState,i===null)return He(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)kr(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=vi(t),s!==null){for(e.flags|=128,kr(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ee,Ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>fr&&(e.flags|=128,r=!0,kr(i,!1),e.lanes=4194304)}else{if(!r)if(t=vi(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Se)return He(e),null}else 2*ke()-i.renderingStartTime>fr&&n!==1073741824&&(e.flags|=128,r=!0,kr(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=Ee.current,ye(Ee,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Ia(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function ny(t,e){switch(ia(e),e.tag){case 1:return nt(e.type)&&di(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cr(),_e(tt),_e($e),ha(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pa(e),null;case 13:if(_e(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ee),null;case 4:return cr(),null;case 10:return ua(e.type._context),null;case 22:case 23:return Ia(),null;case 24:return null;default:return null}}var Mo=!1,Oe=!1,ry=typeof WeakSet=="function"?WeakSet:Set,re=null;function Kn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function ml(t,e,n){try{n()}catch(r){Te(t,e,r)}}var qu=!1;function oy(t,e){if(Qs=li,t=Ff(),ra(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==i||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++d===o&&(a=s),p===i&&++f===r&&(c=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(js={focusedElem:t,selectionRange:n},li=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,w=E.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Et(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){Te(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return E=qu,qu=!1,E}function Or(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&ml(e,n,i)}o=o.next}while(o!==r)}}function Gi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mp(t){var e=t.alternate;e!==null&&(t.alternate=null,Mp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[no],delete e[nl],delete e[Bg],delete e[Gg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dp(t){return t.tag===5||t.tag===3||t.tag===4}function $u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ci));else if(r!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}function vl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vl(t,e,n),t=t.sibling;t!==null;)vl(t,e,n),t=t.sibling}var Ve=null,wt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)Lp(t,e,n),n=n.sibling}function Lp(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Di,n)}catch{}switch(n.tag){case 5:Oe||Kn(n,e);case 6:var r=Ve,o=wt;Ve=null,Xt(t,e,n),Ve=r,wt=o,Ve!==null&&(wt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(wt?(t=Ve,n=n.stateNode,t.nodeType===8?vs(t.parentNode,n):t.nodeType===1&&vs(t,n),Xr(t)):vs(Ve,n.stateNode));break;case 4:r=Ve,o=wt,Ve=n.stateNode.containerInfo,wt=!0,Xt(t,e,n),Ve=r,wt=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ml(n,e,s),o=o.next}while(o!==r)}Xt(t,e,n);break;case 1:if(!Oe&&(Kn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Xt(t,e,n),Oe=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function Wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ry),e.forEach(function(r){var o=py.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,wt=!1;break e;case 3:Ve=a.stateNode.containerInfo,wt=!0;break e;case 4:Ve=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Ve===null)throw Error(K(160));Lp(i,s,o),Ve=null,wt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Te(o,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Up(e,t),e=e.sibling}function Up(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),Mt(t),r&4){try{Or(3,t,t.return),Gi(3,t)}catch(v){Te(t,t.return,v)}try{Or(5,t,t.return)}catch(v){Te(t,t.return,v)}}break;case 1:St(e,t),Mt(t),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(St(e,t),Mt(t),r&512&&n!==null&&Kn(n,n.return),t.flags&32){var o=t.stateNode;try{Jr(o,"")}catch(v){Te(t,t.return,v)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nf(o,i),Hs(a,s);var d=Hs(a,i);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];f==="style"?af(o,h):f==="dangerouslySetInnerHTML"?sf(o,h):f==="children"?Jr(o,h):ql(o,f,h,d)}switch(a){case"input":bs(o,i);break;case"textarea":rf(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qn(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Qn(o,!!i.multiple,i.defaultValue,!0):Qn(o,!!i.multiple,i.multiple?[]:"",!1))}o[no]=i}catch(v){Te(t,t.return,v)}}break;case 6:if(St(e,t),Mt(t),r&4){if(t.stateNode===null)throw Error(K(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(v){Te(t,t.return,v)}}break;case 3:if(St(e,t),Mt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xr(e.containerInfo)}catch(v){Te(t,t.return,v)}break;case 4:St(e,t),Mt(t);break;case 13:St(e,t),Mt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ca=ke())),r&4&&Wu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Oe=(d=Oe)||f,St(e,t),Oe=d):St(e,t),Mt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(h=re=f;re!==null;){switch(p=re,m=p.child,p.tag){case 0:case 11:case 14:case 15:Or(4,p,p.return);break;case 1:Kn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){Te(r,n,v)}}break;case 5:Kn(p,p.return);break;case 22:if(p.memoizedState!==null){Ku(h);continue}}m!==null?(m.return=p,re=m):Ku(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{o=h.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=lf("display",s))}catch(v){Te(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Te(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(e,t),Mt(t),r&4&&Wu(t);break;case 21:break;default:St(e,t),Mt(t)}}function Mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dp(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Jr(o,""),r.flags&=-33);var i=$u(t);vl(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=$u(t);yl(t,a,s);break;default:throw Error(K(161))}}catch(c){Te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iy(t,e,n){re=t,Fp(t)}function Fp(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var o=re,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Mo;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=Mo;var d=Oe;if(Mo=s,(Oe=c)&&!d)for(re=o;re!==null;)s=re,c=s.child,s.tag===22&&s.memoizedState!==null?Yu(o):c!==null?(c.return=s,re=c):Yu(o);for(;i!==null;)re=i,Fp(i),i=i.sibling;re=o,Mo=a,Oe=d}Ju(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,re=i):Ju(t)}}function Ju(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Gi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Et(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pu(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pu(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Xr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Oe||e.flags&512&&gl(e)}catch(p){Te(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Ku(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Yu(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gi(4,e)}catch(c){Te(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){Te(e,o,c)}}var i=e.return;try{gl(e)}catch(c){Te(e,i,c)}break;case 5:var s=e.return;try{gl(e)}catch(c){Te(e,s,c)}}}catch(c){Te(e,e.return,c)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var sy=Math.ceil,Ei=Kt.ReactCurrentDispatcher,Ea=Kt.ReactCurrentOwner,ht=Kt.ReactCurrentBatchConfig,de=0,Ue=null,Ne=null,ze=0,ot=0,Yn=yn(0),Me=0,ao=null,Pn=0,Hi=0,wa=0,qr=null,je=null,Ca=0,fr=1/0,Vt=null,wi=!1,_l=null,dn=null,Do=!1,rn=null,Ci=0,$r=0,Sl=null,Xo=-1,Qo=0;function Ye(){return de&6?ke():Xo!==-1?Xo:Xo=ke()}function fn(t){return t.mode&1?de&2&&ze!==0?ze&-ze:Og.transition!==null?(Qo===0&&(Qo=Sf()),Qo):(t=me,t!==0||(t=window.event,t=t===void 0?16:Af(t.type)),t):1}function It(t,e,n,r){if(50<$r)throw $r=0,Sl=null,Error(K(185));co(t,n,r),(!(de&2)||t!==Ue)&&(t===Ue&&(!(de&2)&&(Hi|=n),Me===4&&tn(t,ze)),rt(t,r),n===1&&de===0&&!(e.mode&1)&&(fr=ke()+500,Vi&&vn()))}function rt(t,e){var n=t.callbackNode;Om(t,e);var r=si(t,t===Ue?ze:0);if(r===0)n!==null&&ou(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ou(n),e===1)t.tag===0?Hg(Zu.bind(null,t)):Wf(Zu.bind(null,t)),Vg(function(){!(de&6)&&vn()}),n=null;else{switch(Ef(r)){case 1:n=Yl;break;case 4:n=vf;break;case 16:n=ii;break;case 536870912:n=_f;break;default:n=ii}n=qp(n,bp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bp(t,e){if(Xo=-1,Qo=0,de&6)throw Error(K(327));var n=t.callbackNode;if(rr()&&t.callbackNode!==n)return null;var r=si(t,t===Ue?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ti(t,r);else{e=r;var o=de;de|=2;var i=zp();(Ue!==t||ze!==e)&&(Vt=null,fr=ke()+500,xn(t,e));do try{uy();break}catch(a){Vp(t,a)}while(!0);aa(),Ei.current=i,de=o,Ne!==null?e=0:(Ue=null,ze=0,e=Me)}if(e!==0){if(e===2&&(o=Js(t),o!==0&&(r=o,e=El(t,o))),e===1)throw n=ao,xn(t,0),tn(t,r),rt(t,ke()),n;if(e===6)tn(t,r);else{if(o=t.current.alternate,!(r&30)&&!ly(o)&&(e=Ti(t,r),e===2&&(i=Js(t),i!==0&&(r=i,e=El(t,i))),e===1))throw n=ao,xn(t,0),tn(t,r),rt(t,ke()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:En(t,je,Vt);break;case 3:if(tn(t,r),(r&130023424)===r&&(e=Ca+500-ke(),10<e)){if(si(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=tl(En.bind(null,t,je,Vt),e);break}En(t,je,Vt);break;case 4:if(tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Tt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sy(r/1960))-r,10<r){t.timeoutHandle=tl(En.bind(null,t,je,Vt),r);break}En(t,je,Vt);break;case 5:En(t,je,Vt);break;default:throw Error(K(329))}}}return rt(t,ke()),t.callbackNode===n?bp.bind(null,t):null}function El(t,e){var n=qr;return t.current.memoizedState.isDehydrated&&(xn(t,e).flags|=256),t=Ti(t,e),t!==2&&(e=je,je=n,e!==null&&wl(e)),t}function wl(t){je===null?je=t:je.push.apply(je,t)}function ly(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tn(t,e){for(e&=~wa,e&=~Hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tt(e),r=1<<n;t[n]=-1,e&=~r}}function Zu(t){if(de&6)throw Error(K(327));rr();var e=si(t,0);if(!(e&1))return rt(t,ke()),null;var n=Ti(t,e);if(t.tag!==0&&n===2){var r=Js(t);r!==0&&(e=r,n=El(t,r))}if(n===1)throw n=ao,xn(t,0),tn(t,e),rt(t,ke()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,En(t,je,Vt),rt(t,ke()),null}function Ta(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(fr=ke()+500,Vi&&vn())}}function Mn(t){rn!==null&&rn.tag===0&&!(de&6)&&rr();var e=de;de|=1;var n=ht.transition,r=me;try{if(ht.transition=null,me=1,t)return t()}finally{me=r,ht.transition=n,de=e,!(de&6)&&vn()}}function Ia(){ot=Yn.current,_e(Yn)}function xn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bg(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&di();break;case 3:cr(),_e(tt),_e($e),ha();break;case 5:pa(r);break;case 4:cr();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:ua(r.type._context);break;case 22:case 23:Ia()}n=n.return}if(Ue=t,Ne=t=pn(t.current,null),ze=ot=e,Me=0,ao=null,wa=Hi=Pn=0,je=qr=null,Tn!==null){for(e=0;e<Tn.length;e++)if(n=Tn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Tn=null}return t}function Vp(t,e){do{var n=Ne;try{if(aa(),Ko.current=Si,_i){for(var r=we.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_i=!1}if(Nn=0,Le=Pe=we=null,Hr=!1,io=0,Ea.current=null,n===null||n.return===null){Me=1,ao=e,Ne=null;break}e:{var i=t,s=n.return,a=n,c=e;if(e=ze,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=bu(s);if(m!==null){m.flags&=-257,Vu(m,s,a,i,e),m.mode&1&&Fu(i,d,e),e=m,c=d;var E=e.updateQueue;if(E===null){var v=new Set;v.add(c),e.updateQueue=v}else E.add(c);break e}else{if(!(e&1)){Fu(i,d,e),xa();break e}c=Error(K(426))}}else if(Se&&a.mode&1){var w=bu(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vu(w,s,a,i,e),sa(dr(c,a));break e}}i=c=dr(c,a),Me!==4&&(Me=2),qr===null?qr=[i]:qr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ep(i,c,e);Nu(i,g);break e;case 1:a=c;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(dn===null||!dn.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=wp(i,a,e);Nu(i,T);break e}}i=i.return}while(i!==null)}Gp(n)}catch(I){e=I,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function zp(){var t=Ei.current;return Ei.current=Si,t===null?Si:t}function xa(){(Me===0||Me===3||Me===2)&&(Me=4),Ue===null||!(Pn&268435455)&&!(Hi&268435455)||tn(Ue,ze)}function Ti(t,e){var n=de;de|=2;var r=zp();(Ue!==t||ze!==e)&&(Vt=null,xn(t,e));do try{ay();break}catch(o){Vp(t,o)}while(!0);if(aa(),de=n,Ei.current=r,Ne!==null)throw Error(K(261));return Ue=null,ze=0,Me}function ay(){for(;Ne!==null;)Bp(Ne)}function uy(){for(;Ne!==null&&!Lm();)Bp(Ne)}function Bp(t){var e=Op(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?Gp(t):Ne=e,Ea.current=null}function Gp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ny(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ne=null;return}}else if(n=ty(n,e,ot),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Me===0&&(Me=5)}function En(t,e,n){var r=me,o=ht.transition;try{ht.transition=null,me=1,cy(t,e,n,r)}finally{ht.transition=o,me=r}return null}function cy(t,e,n,r){do rr();while(rn!==null);if(de&6)throw Error(K(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qm(t,i),t===Ue&&(Ne=Ue=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Do||(Do=!0,qp(ii,function(){return rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var s=me;me=1;var a=de;de|=4,Ea.current=null,oy(t,n),Up(n,t),Ng(js),li=!!Qs,js=Qs=null,t.current=n,iy(n),Um(),de=a,me=s,ht.transition=i}else t.current=n;if(Do&&(Do=!1,rn=t,Ci=o),i=t.pendingLanes,i===0&&(dn=null),Vm(n.stateNode),rt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(wi)throw wi=!1,t=_l,_l=null,t;return Ci&1&&t.tag!==0&&rr(),i=t.pendingLanes,i&1?t===Sl?$r++:($r=0,Sl=t):$r=0,vn(),null}function rr(){if(rn!==null){var t=Ef(Ci),e=ht.transition,n=me;try{if(ht.transition=null,me=16>t?16:t,rn===null)var r=!1;else{if(t=rn,rn=null,Ci=0,de&6)throw Error(K(331));var o=de;for(de|=4,re=t.current;re!==null;){var i=re,s=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(re=d;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Or(8,f,i)}var h=f.child;if(h!==null)h.return=f,re=h;else for(;re!==null;){f=re;var p=f.sibling,m=f.return;if(Mp(f),f===d){re=null;break}if(p!==null){p.return=m,re=p;break}re=m}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,re=s;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var y=t.current;for(re=y;re!==null;){s=re;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,re=S;else e:for(s=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gi(9,a)}}catch(I){Te(a,a.return,I)}if(a===s){re=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,re=T;break e}re=a.return}}if(de=o,vn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Di,t)}catch{}r=!0}return r}finally{me=n,ht.transition=e}}return!1}function Xu(t,e,n){e=dr(n,e),e=Ep(t,e,1),t=cn(t,e,1),e=Ye(),t!==null&&(co(t,1,e),rt(t,e))}function Te(t,e,n){if(t.tag===3)Xu(t,t,n);else for(;e!==null;){if(e.tag===3){Xu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=dr(n,t),t=wp(e,t,1),e=cn(e,t,1),t=Ye(),e!==null&&(co(e,1,t),rt(e,t));break}}e=e.return}}function dy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(ze&n)===n&&(Me===4||Me===3&&(ze&130023424)===ze&&500>ke()-Ca?xn(t,0):wa|=n),rt(t,e)}function Hp(t,e){e===0&&(t.mode&1?(e=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):e=1);var n=Ye();t=$t(t,e),t!==null&&(co(t,e,n),rt(t,n))}function fy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hp(t,n)}function py(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),Hp(t,n)}var Op;Op=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tt.current)et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return et=!1,ey(t,e,n);et=!!(t.flags&131072)}else et=!1,Se&&e.flags&1048576&&Jf(e,hi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zo(t,e),t=e.pendingProps;var o=lr(e,$e.current);nr(e,n),o=ga(null,e,r,t,o,n);var i=ya();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nt(r)?(i=!0,fi(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,da(e),o.updater=Bi,e.stateNode=o,o._reactInternals=e,al(e,r,t,n),e=dl(null,e,r,!0,i,n)):(e.tag=0,Se&&i&&oa(e),Ke(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zo(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=my(r),t=Et(r,t),o){case 0:e=cl(null,e,r,t,n);break e;case 1:e=Gu(null,e,r,t,n);break e;case 11:e=zu(null,e,r,t,n);break e;case 14:e=Bu(null,e,r,Et(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Et(r,o),cl(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Et(r,o),Gu(t,e,r,o,n);case 3:e:{if(xp(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,o=i.element,jf(t,e),yi(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=dr(Error(K(423)),e),e=Hu(t,e,r,n,o);break e}else if(r!==o){o=dr(Error(K(424)),e),e=Hu(t,e,r,n,o);break e}else for(it=un(e.stateNode.containerInfo.firstChild),st=e,Se=!0,Ct=null,n=Xf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),r===o){e=Wt(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return ep(e),t===null&&il(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,el(r,o)?s=null:i!==null&&el(r,i)&&(e.flags|=32),Ip(t,e),Ke(t,e,s,n),e.child;case 6:return t===null&&il(e),null;case 13:return Ap(t,e,n);case 4:return fa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ur(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Et(r,o),zu(t,e,r,o,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ye(mi,r._currentValue),r._currentValue=s,i!==null)if(kt(i.value,s)){if(i.children===o.children&&!tt.current){e=Wt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ht(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sl(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(K(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sl(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ke(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,nr(e,n),o=gt(o),r=r(o),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,o=Et(r,e.pendingProps),o=Et(r.type,o),Bu(t,e,r,o,n);case 15:return Cp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Et(r,o),Zo(t,e),e.tag=1,nt(r)?(t=!0,fi(e)):t=!1,nr(e,n),Sp(e,r,o),al(e,r,o,n),dl(null,e,r,!0,t,n);case 19:return kp(t,e,n);case 22:return Tp(t,e,n)}throw Error(K(156,e.tag))};function qp(t,e){return yf(t,e)}function hy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,r){return new hy(t,e,n,r)}function Aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function my(t){if(typeof t=="function")return Aa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wl)return 11;if(t===Jl)return 14}return 2}function pn(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jo(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Aa(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case zn:return An(n.children,o,i,e);case $l:s=8,o|=8;break;case Ms:return t=pt(12,n,e,o|2),t.elementType=Ms,t.lanes=i,t;case Ds:return t=pt(13,n,e,o),t.elementType=Ds,t.lanes=i,t;case Ls:return t=pt(19,n,e,o),t.elementType=Ls,t.lanes=i,t;case jd:return Oi(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xd:s=10;break e;case Qd:s=9;break e;case Wl:s=11;break e;case Jl:s=14;break e;case Qt:s=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=pt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function An(t,e,n,r){return t=pt(7,t,r,e),t.lanes=n,t}function Oi(t,e,n,r){return t=pt(22,t,r,e),t.elementType=jd,t.lanes=n,t.stateNode={isHidden:!1},t}function xs(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function As(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gy(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ls(0),this.expirationTimes=ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ka(t,e,n,r,o,i,s,a,c){return t=new gy(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(i),t}function yy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $p(t){if(!t)return mn;t=t._reactInternals;e:{if(Ln(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(nt(n))return $f(t,n,e)}return e}function Wp(t,e,n,r,o,i,s,a,c){return t=ka(n,r,!0,t,o,i,s,a,c),t.context=$p(null),n=t.current,r=Ye(),o=fn(n),i=Ht(r,o),i.callback=e??null,cn(n,i,o),t.current.lanes=o,co(t,o,r),rt(t,r),t}function qi(t,e,n,r){var o=e.current,i=Ye(),s=fn(o);return n=$p(n),e.context===null?e.context=n:e.pendingContext=n,e=Ht(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cn(o,e,s),t!==null&&(It(t,o,s,i),Jo(t,o,s)),s}function Ii(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ra(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}function vy(){return null}var Jp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Na(t){this._internalRoot=t}$i.prototype.render=Na.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));qi(t,e,null,null)};$i.prototype.unmount=Na.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mn(function(){qi(null,t,null,null)}),e[qt]=null}};function $i(t){this._internalRoot=t}$i.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<en.length&&e!==0&&e<en[n].priority;n++);en.splice(n,0,t),n===0&&xf(t)}};function Pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ju(){}function _y(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Ii(s);i.call(d)}}var s=Wp(e,r,t,0,null,!1,!1,"",ju);return t._reactRootContainer=s,t[qt]=s.current,eo(t.nodeType===8?t.parentNode:t),Mn(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var d=Ii(c);a.call(d)}}var c=ka(t,0,!1,null,null,!1,!1,"",ju);return t._reactRootContainer=c,t[qt]=c.current,eo(t.nodeType===8?t.parentNode:t),Mn(function(){qi(e,c,n,r)}),c}function Ji(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=Ii(s);a.call(c)}}qi(e,s,t,o)}else s=_y(n,e,t,o,r);return Ii(s)}wf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lr(e.pendingLanes);n!==0&&(Zl(e,n|1),rt(e,ke()),!(de&6)&&(fr=ke()+500,vn()))}break;case 13:Mn(function(){var r=$t(t,1);if(r!==null){var o=Ye();It(r,t,1,o)}}),Ra(t,1)}};Xl=function(t){if(t.tag===13){var e=$t(t,134217728);if(e!==null){var n=Ye();It(e,t,134217728,n)}Ra(t,134217728)}};Cf=function(t){if(t.tag===13){var e=fn(t),n=$t(t,e);if(n!==null){var r=Ye();It(n,t,e,r)}Ra(t,e)}};Tf=function(){return me};If=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};qs=function(t,e,n){switch(e){case"input":if(bs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bi(r);if(!o)throw Error(K(90));tf(r),bs(r,o)}}}break;case"textarea":rf(t,n);break;case"select":e=n.value,e!=null&&Qn(t,!!n.multiple,e,!1)}};df=Ta;ff=Mn;var Sy={usingClientEntryPoint:!1,Events:[po,On,bi,uf,cf,Ta]},Rr={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ey={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mf(t),t===null?null:t.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Di=Lo.inject(Ey),Ut=Lo}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy;at.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(e))throw Error(K(200));return yy(t,e,null,n)};at.createRoot=function(t,e){if(!Pa(t))throw Error(K(299));var n=!1,r="",o=Jp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=ka(t,1,!1,null,null,n,!1,r,o),t[qt]=e.current,eo(t.nodeType===8?t.parentNode:t),new Na(e)};at.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=mf(e),t=t===null?null:t.stateNode,t};at.flushSync=function(t){return Mn(t)};at.hydrate=function(t,e,n){if(!Wi(e))throw Error(K(200));return Ji(null,t,e,!0,n)};at.hydrateRoot=function(t,e,n){if(!Pa(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Jp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Wp(e,null,t,1,n??null,o,!1,i,s),t[qt]=e.current,eo(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new $i(e)};at.render=function(t,e,n){if(!Wi(e))throw Error(K(200));return Ji(null,t,e,!1,n)};at.unmountComponentAtNode=function(t){if(!Wi(t))throw Error(K(40));return t._reactRootContainer?(Mn(function(){Ji(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};at.unstable_batchedUpdates=Ta;at.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wi(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ji(t,e,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(t){console.error(t)}}Kp(),Jd.exports=at;var wy=Jd.exports,ec=wy;Ns.createRoot=ec.createRoot,Ns.hydrateRoot=ec.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(t,e)=>{const n=Re.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:c,...d},f)=>Re.createElement("svg",{ref:f,...Cy,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${Ty(t)}`,a].join(" "),...d},[...e.map(([h,p])=>Re.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Fe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vy=({onSearch:t,isLoading:e})=>{const[n,r]=Re.useState(""),o=i=>{i.preventDefault(),n.trim()&&t(n)};return U.jsx("form",{onSubmit:o,className:"w-full max-w-2xl mx-auto",children:U.jsxs("div",{className:"relative group",children:[U.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e?U.jsx(Zp,{className:"h-5 w-5 text-indigo-500 animate-spin"}):U.jsx(Dy,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),U.jsx("input",{type:"text",className:"block w-full pl-11 pr-4 py-4 border-2 border-transparent bg-white shadow-lg rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-0 transition-all duration-300 sm:text-lg",placeholder:"Enter an app name (e.g., WhatsApp, TikTok)...",value:n,onChange:i=>r(i.target.value),disabled:e}),U.jsx("button",{type:"submit",disabled:e||!n.trim(),className:"absolute inset-y-2 right-2 px-4 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Search"})]})})},zy=({results:t,onSelect:e})=>t.length===0?null:U.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-12 animate-fade-in",children:[U.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Found Applications"}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,r)=>U.jsxs("div",{onClick:()=>e(n),className:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-gray-100 hover:border-indigo-100 cursor-pointer transition-all duration-300 group flex flex-col h-full",children:[U.jsxs("div",{className:"flex items-start justify-between mb-4",children:[U.jsx("div",{className:"bg-indigo-50 p-3 rounded-xl",children:U.jsx(Uy,{className:"h-6 w-6 text-indigo-600"})}),n.rating&&n.rating!=="N/A"&&U.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-50 px-2 py-1 rounded-lg",children:[U.jsx(Cl,{className:"h-3 w-3 text-yellow-500 fill-current"}),U.jsx("span",{className:"text-xs font-bold text-yellow-700",children:n.rating})]})]}),U.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-1 line-clamp-1 group-hover:text-indigo-600 transition-colors",children:n.name}),U.jsx("p",{className:"text-sm text-gray-500 mb-3 font-medium",children:n.developer}),U.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 mb-4 flex-grow",children:n.description}),U.jsxs("div",{className:"flex items-center text-indigo-600 text-sm font-semibold mt-auto pt-4 border-t border-gray-50",children:["Analyze App ",U.jsx(Iy,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]},r))})]});var By={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gy,Hy;function Oy(){return{geminiUrl:Gy,vertexUrl:Hy}}function qy(t,e,n,r){var o,i;if(!(t!=null&&t.baseUrl)){const s=Oy();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(i=s.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yt{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const c=t[a];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];u(f,e.slice(i+1),n[d])}else for(const d of c)u(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const c=t[a];u(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>l(a,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function $y(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),i=r.split("."),s=new Set;let a=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){a=c;break}if(a!==-1&&i.length>a)for(let c=a;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Tl(t,o,i,0,s)}}function Tl(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const c of a[s])Tl(c,e,n,r+1,o)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(d=>!d.startsWith("_")&&!o.has(d)),c={};for(const d of a)c[d]=s[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(r))p==="*"?h.push(d):h.push(p);u(s,h,f)}for(const d of a)delete s[d]}}else{const s=t;i in s&&Tl(s[i],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ma(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wy(t){const e={},n=l(t,["operationName"]);n!=null&&u(e,["operationName"],n);const r=l(t,["resourceName"]);return r!=null&&u(e,["_url","resourceName"],r),e}function Jy(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],Yy(s)),e}function Ky(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response"]);return s!=null&&u(e,["response"],Zy(s)),e}function Yy(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xy(s))),u(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Zy(t){const e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qy(s))),u(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Xy(t){const e={},n=l(t,["video"]);return n!=null&&u(e,["video"],ov(n)),e}function Qy(t){const e={},n=l(t,["_self"]);return n!=null&&u(e,["video"],iv(n)),e}function jy(t){const e={},n=l(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function ev(t){const e={},n=l(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function tv(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response"]);return s!=null&&u(e,["response"],nv(s)),e}function nv(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&u(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Qp(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response"]);return s!=null&&u(e,["response"],rv(s)),e}function rv(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&u(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function ov(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&u(e,["videoBytes"],Ma(r));const o=l(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function iv(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],Ma(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nc||(nc={}));var rc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(rc||(rc={}));var oc;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(oc||(oc={}));var on;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(on||(on={}));var ic;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ic||(ic={}));var sc;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sc||(sc={}));var lc;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(lc||(lc={}));var ac;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ac||(ac={}));var uc;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(uc||(uc={}));var cc;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(cc||(cc={}));var dc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dc||(dc={}));var fc;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fc||(fc={}));var pc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(pc||(pc={}));var hc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(hc||(hc={}));var mc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mc||(mc={}));var gc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gc||(gc={}));var yc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yc||(yc={}));var vc;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(vc||(vc={}));var _c;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_c||(_c={}));var xi;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xi||(xi={}));var Sc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sc||(Sc={}));var Ec;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ec||(Ec={}));var wc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wc||(wc={}));var Il;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Il||(Il={}));var Cc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Cc||(Cc={}));var Tc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Tc||(Tc={}));var Ic;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ic||(Ic={}));var xc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(xc||(xc={}));var Ac;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ac||(Ac={}));var kc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kc||(kc={}));var Rc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Rc||(Rc={}));var Nc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Nc||(Nc={}));var Pc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Pc||(Pc={}));var Mc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Mc||(Mc={}));var Dc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dc||(Dc={}));var Lc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Lc||(Lc={}));var Uc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Uc||(Uc={}));var Fc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fc||(Fc={}));var bc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bc||(bc={}));var Vc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Vc||(Vc={}));var zc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zc||(zc={}));var Bc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Bc||(Bc={}));var Gc;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Gc||(Gc={}));var Hc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Hc||(Hc={}));var Oc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Oc||(Oc={}));var qc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(qc||(qc={}));var $c;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})($c||($c={}));var Wc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Wc||(Wc={}));var Jc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Jc||(Jc={}));var Kc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Kc||(Kc={}));var Yc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yc||(Yc={}));var Zc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Zc||(Zc={}));var Xc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xc||(Xc={}));var Qc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qc||(Qc={}));var jc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jc||(jc={}));var Zn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Zn||(Zn={}));class xl{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nr{get text(){var e,n,r,o,i,s,a,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[m,E]of Object.entries(p))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(E!==null||E!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,o,i,s,a,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,o,i,s,a,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,o,i,s,a,c,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,o,i,s,a,c,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class ed{}class td{}class sv{}class lv{}class av{}class uv{}class nd{}class rd{}class od{}class cv{}class Ai{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ai;let o;const i=e;return n?o=Ky(i):o=Jy(i),Object.assign(r,o),r}}class id{}class sd{}class ld{}class ad{}class dv{}class fv{}class pv{}class Da{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Da,i=tv(e);return Object.assign(r,i),r}}class hv{}class mv{}class gv{}class ud{}class yv{get text(){var e,n,r;let o="",i=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(a))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,o+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,n,r;let o="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,c]of Object.entries(s))a!=="inlineData"&&c!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class vv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class La{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new La,i=Qp(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function jp(t,e){const n=fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function eh(t){return Array.isArray(t)?t.map(e=>ki(e)):[ki(t)]}function ki(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function th(t){const e=ki(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nh(t){const e=ki(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cd(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function rh(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>cd(e)):[cd(t)]}function Al(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dd(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function fd(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function qe(t){if(t==null)throw new Error("ContentUnion is required");return Al(t)?t:{role:"user",parts:rh(t)}}function Ua(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=qe(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=qe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>qe(n)):[qe(e)]}function mt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dd(t)||fd(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qe(t)]}const e=[],n=[],r=Al(t[0]);for(const o of t){const i=Al(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(o);else{if(dd(o)||fd(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:rh(n)}),e}function _v(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(on).includes(n[0].toUpperCase())?n[0].toUpperCase():on.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(on).includes(r.toUpperCase())?r.toUpperCase():on.TYPE_UNSPECIFIED})}}function or(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&_v(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(on).includes(a.toUpperCase())?a.toUpperCase():on.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=or(a);else if(r.includes(s)){const c=[];for(const d of a){if(d.type=="null"){e.nullable=!0;continue}c.push(or(d))}e[s]=c}else if(o.includes(s)){const c={};for(const[d,f]of Object.entries(a))c[d]=or(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Fa(t){return or(t)}function ba(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Va(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=or(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=or(e.response));return t}function yr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Sv(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Zt(t,e){if(typeof e!="string")throw new Error("name must be a string");return Sv(t,e,"cachedContents")}function oh(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _n(t){return Ma(t)}function Ev(t){return t!=null&&typeof t=="object"&&"name"in t}function wv(t){return t!=null&&typeof t=="object"&&"video"in t}function Cv(t){return t!=null&&typeof t=="object"&&"uri"in t}function ih(t){var e;let n;if(Ev(t)&&(n=t.name),!(Cv(t)&&(n=t.uri,n===void 0))&&!(wv(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function sh(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lh(t){for(const e of["models","tunedModels","publisherModels"])if(Tv(t,e))return t[e];return[]}function Tv(t,e){return t!==null&&typeof t=="object"&&e in t}function Iv(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function xv(t,e={}){const n=[],r=new Set;for(const o of t){const i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=Iv(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function ah(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Av(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function uh(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let i=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ch(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(t){const e={},n=l(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>a0(s))),u(e,["inlinedResponses"],i)}const o=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function Rv(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bigqueryDestination","outputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function Nv(t){const e={},n=l(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&u(e,["gcsDestination","outputUriPrefix"],r);const o=l(t,["bigqueryUri"]);if(o!=null&&u(e,["bigqueryDestination","outputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ei(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["metadata","state"]);o!=null&&u(e,["state"],ch(o));const i=l(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);const s=l(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const a=l(t,["metadata","updateTime"]);a!=null&&u(e,["updateTime"],a);const c=l(t,["metadata","model"]);c!=null&&u(e,["model"],c);const d=l(t,["metadata","output"]);return d!=null&&u(e,["dest"],kv(uh(d))),e}function kl(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["state"]);o!=null&&u(e,["state"],ch(o));const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["createTime"]);s!=null&&u(e,["createTime"],s);const a=l(t,["startTime"]);a!=null&&u(e,["startTime"],a);const c=l(t,["endTime"]);c!=null&&u(e,["endTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const f=l(t,["model"]);f!=null&&u(e,["model"],f);const h=l(t,["inputConfig"]);h!=null&&u(e,["src"],Pv(h));const p=l(t,["outputConfig"]);p!=null&&u(e,["dest"],Rv(uh(p)));const m=l(t,["completionStats"]);return m!=null&&u(e,["completionStats"],m),e}function Pv(t){const e={},n=l(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bigquerySource","inputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function Mv(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&u(n,["fileName"],r);const o=l(e,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>l0(t,s))),u(n,["requests","requests"],i)}return n}function Dv(t){const e={},n=l(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&u(e,["gcsSource","uris"],r);const o=l(t,["bigqueryUri"]);if(o!=null&&u(e,["bigquerySource","inputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Lv(t){const e={},n=l(t,["data"]);if(n!=null&&u(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Uv(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function Fv(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function bv(t){const e={},n=l(t,["content"]);n!=null&&u(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],Vv(r));const o=l(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const i=l(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);const s=l(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=l(t,["index"]);c!=null&&u(e,["index"],c);const d=l(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);const f=l(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),u(e,["safetyRatings"],p)}const h=l(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function Vv(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["citations"],r)}return e}function dh(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>m0(i))),u(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&u(e,["role"],r),e}function zv(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&u(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Bv(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const o=l(t,["dest"]);return e!==void 0&&o!=null&&u(e,["outputConfig"],Nv(Av(o))),n}function pd(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["src"]);o!=null&&u(n,["batch","inputConfig"],Mv(t,ah(t,o)));const i=l(e,["config"]);return i!=null&&zv(i,n),n}function Gv(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["model"],fe(t,r));const o=l(e,["src"]);o!=null&&u(n,["inputConfig"],Dv(ah(t,o)));const i=l(e,["config"]);return i!=null&&Bv(i,n),n}function Hv(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&u(e,["batch","displayName"],r),n}function Ov(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["src"]);o!=null&&u(n,["batch","inputConfig"],Zv(t,o));const i=l(e,["config"]);return i!=null&&Hv(i,n),n}function qv(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function $v(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function Wv(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);return i!=null&&u(e,["error"],i),e}function Jv(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);return i!=null&&u(e,["error"],i),e}function Kv(t,e){const n={},r=l(e,["contents"]);if(r!=null){let i=Ua(t,r);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["requests[]","request","content"],i)}const o=l(e,["config"]);return o!=null&&(u(n,["_self"],Yv(o,n)),$y(n,{"requests[].*":"requests[].request.*"})),n}function Yv(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zv(t,e){const n={},r=l(e,["fileName"]);r!=null&&u(n,["file_name"],r);const o=l(e,["inlinedRequests"]);return o!=null&&u(n,["requests"],Kv(t,o)),n}function Xv(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Qv(t){const e={},n=l(t,["id"]);n!=null&&u(e,["id"],n);const r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);if(o!=null&&u(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jv(t){const e={},n=l(t,["mode"]);n!=null&&u(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function e0(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],dh(qe(o)));const i=l(e,["temperature"]);i!=null&&u(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(r,["topP"],s);const a=l(e,["topK"]);a!=null&&u(r,["topK"],a);const c=l(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);const d=l(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);const f=l(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);const h=l(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);const p=l(e,["logprobs"]);p!=null&&u(r,["logprobs"],p);const m=l(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);const E=l(e,["frequencyPenalty"]);E!=null&&u(r,["frequencyPenalty"],E);const v=l(e,["seed"]);v!=null&&u(r,["seed"],v);const w=l(e,["responseMimeType"]);w!=null&&u(r,["responseMimeType"],w);const g=l(e,["responseSchema"]);g!=null&&u(r,["responseSchema"],Fa(g));const y=l(e,["responseJsonSchema"]);if(y!=null&&u(r,["responseJsonSchema"],y),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=l(e,["safetySettings"]);if(n!==void 0&&S!=null){let z=S;Array.isArray(z)&&(z=z.map(C=>g0(C))),u(n,["safetySettings"],z)}const T=l(e,["tools"]);if(n!==void 0&&T!=null){let z=yr(T);Array.isArray(z)&&(z=z.map(C=>v0(gr(C)))),u(n,["tools"],z)}const I=l(e,["toolConfig"]);if(n!==void 0&&I!=null&&u(n,["toolConfig"],y0(I)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(e,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Zt(t,N));const k=l(e,["responseModalities"]);k!=null&&u(r,["responseModalities"],k);const M=l(e,["mediaResolution"]);M!=null&&u(r,["mediaResolution"],M);const P=l(e,["speechConfig"]);if(P!=null&&u(r,["speechConfig"],ba(P)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=l(e,["thinkingConfig"]);V!=null&&u(r,["thinkingConfig"],V);const j=l(e,["imageConfig"]);j!=null&&u(r,["imageConfig"],s0(j));const R=l(e,["enableEnhancedCivicAnswers"]);return R!=null&&u(r,["enableEnhancedCivicAnswers"],R),r}function t0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>bv(d))),u(e,["candidates"],c)}const o=l(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const i=l(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const s=l(t,["responseId"]);s!=null&&u(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function n0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function r0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],vr(t,r)),n}function o0(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function i0(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function s0(t){const e={},n=l(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function l0(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["request","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let a=mt(o);Array.isArray(a)&&(a=a.map(c=>dh(c))),u(n,["request","contents"],a)}const i=l(e,["metadata"]);i!=null&&u(n,["metadata"],i);const s=l(e,["config"]);return s!=null&&u(n,["request","generationConfig"],e0(t,s,l(n,["request"],{}))),n}function a0(t){const e={},n=l(t,["response"]);n!=null&&u(e,["response"],t0(n));const r=l(t,["error"]);return r!=null&&u(e,["error"],r),e}function u0(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);if(e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function c0(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&u(e,["_query","pageToken"],o);const i=l(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function d0(t){const e={},n=l(t,["config"]);return n!=null&&u0(n,e),e}function f0(t){const e={},n=l(t,["config"]);return n!=null&&c0(n,e),e}function p0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ei(s))),u(e,["batchJobs"],i)}return e}function h0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>kl(s))),u(e,["batchJobs"],i)}return e}function m0(t){const e={},n=l(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&u(e,["fileData"],Xv(i));const s=l(t,["functionCall"]);s!=null&&u(e,["functionCall"],Qv(s));const a=l(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=l(t,["inlineData"]);c!=null&&u(e,["inlineData"],Lv(c));const d=l(t,["text"]);d!=null&&u(e,["text"],d);const f=l(t,["thought"]);f!=null&&u(e,["thought"],f);const h=l(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=l(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function g0(t){const e={},n=l(t,["category"]);if(n!=null&&u(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function y0(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],jv(n));const r=l(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function v0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],o0(a));const c=l(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],i0(c));const d=l(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Jt||(Jt={}));class Un{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0 extends Yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Un(Jt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=pd(this.apiClient,e),r=n._url,o=te("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,c=a.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const m=h.request;m.systemInstruction=p,h.request=m}d.push(h)}return a.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(s)r.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=Gv(this.apiClient,e);return a=te("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>kl(f))}else{const d=pd(this.apiClient,e);return a=te("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ei(f))}}async createEmbeddingsInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ov(this.apiClient,e);return i=te("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>ei(c))}}async get(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=r0(this.apiClient,e);return a=te("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>kl(f))}else{const d=n0(this.apiClient,e);return a=te("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ei(f))}}async cancel(e){var n,r,o,i;let s="",a={};if(this.apiClient.isVertexAI()){const c=Fv(this.apiClient,e);s=te("batchPredictionJobs/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Uv(this.apiClient,e);s=te("batches/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=f0(e);return a=te("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=h0(f),p=new ud;return Object.assign(p,h),p})}else{const d=d0(e);return a=te("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=p0(f),p=new ud;return Object.assign(p,h),p})}}async delete(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=$v(this.apiClient,e);return a=te("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Jv(f))}else{const d=qv(this.apiClient,e);return a=te("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Wv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0(t){const e={},n=l(t,["data"]);if(n!=null&&u(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function hd(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>O0(i))),u(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&u(e,["role"],r),e}function E0(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const i=l(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let f=mt(s);Array.isArray(f)&&(f=f.map(h=>hd(h))),u(e,["contents"],f)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],hd(qe(a)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>$0(h))),u(e,["tools"],f)}const d=l(t,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],q0(d)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function w0(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const i=l(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let h=mt(s);Array.isArray(h)&&(h=h.map(p=>p)),u(e,["contents"],h)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],qe(a));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>W0(p))),u(e,["tools"],h)}const d=l(t,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);const f=l(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function C0(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["model"],jp(t,r));const o=l(e,["config"]);return o!=null&&E0(o,n),n}function T0(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["model"],jp(t,r));const o=l(e,["config"]);return o!=null&&w0(o,n),n}function I0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],Zt(t,r)),n}function x0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],Zt(t,r)),n}function A0(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function k0(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function R0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function N0(t){const e={},n=l(t,["id"]);n!=null&&u(e,["id"],n);const r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);if(o!=null&&u(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function P0(t){const e={},n=l(t,["mode"]);n!=null&&u(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function M0(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["parameters"]);o!=null&&u(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function D0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],Zt(t,r)),n}function L0(t,e){const n={},r=l(e,["name"]);return r!=null&&u(n,["_url","name"],Zt(t,r)),n}function U0(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function F0(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function b0(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function V0(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function z0(t){const e={},n=l(t,["config"]);return n!=null&&b0(n,e),e}function B0(t){const e={},n=l(t,["config"]);return n!=null&&V0(n,e),e}function G0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function H0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function O0(t){const e={},n=l(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&u(e,["fileData"],R0(i));const s=l(t,["functionCall"]);s!=null&&u(e,["functionCall"],N0(s));const a=l(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=l(t,["inlineData"]);c!=null&&u(e,["inlineData"],S0(c));const d=l(t,["text"]);d!=null&&u(e,["text"],d);const f=l(t,["thought"]);f!=null&&u(e,["thought"],f);const h=l(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=l(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function q0(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],P0(n));const r=l(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function $0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],U0(a));const c=l(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],F0(c));const d=l(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function W0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>M0(p))),u(e,["functionDeclarations"],h)}const r=l(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);const f=l(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function J0(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function K0(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function Y0(t,e){const n={},r=l(e,["name"]);r!=null&&u(n,["_url","name"],Zt(t,r));const o=l(e,["config"]);return o!=null&&J0(o,n),n}function Z0(t,e){const n={},r=l(e,["name"]);r!=null&&u(n,["_url","name"],Zt(t,r));const o=l(e,["config"]);return o!=null&&K0(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X0 extends Yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Un(Jt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=T0(this.apiClient,e);return a=te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=C0(this.apiClient,e);return a=te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=L0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=D0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=x0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=k0(f),p=new ld;return Object.assign(p,h),p})}else{const d=I0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=A0(f),p=new ld;return Object.assign(p,h),p})}}async update(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=Z0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=Y0(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=B0(e);return a=te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=H0(f),p=new ad;return Object.assign(p,h),p})}else{const d=z0(e);return a=te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=G0(f),p=new ad;return Object.assign(p,h),p})}}}function Ri(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function md(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(t){return this instanceof le?(this.v=t,this):new le(t)}function xt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(m){return function(E){return Promise.resolve(E).then(m,h)}}function a(m,E){r[m]&&(o[m]=function(v){return new Promise(function(w,g){i.push([m,v,w,g])>1||c(m,v)})},E&&(o[m]=E(o[m])))}function c(m,E){try{d(r[m](E))}catch(v){p(i[0][3],v)}}function d(m){m.value instanceof le?Promise.resolve(m.value.v).then(f,h):p(i[0][2],m)}function f(m){c("next",m)}function h(m){c("throw",m)}function p(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function At(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof md=="function"?md(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:fh(n)}function fh(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function j0(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gd(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let i=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),i&&!fh(t[r])&&(i=!1),r++;i?e.push(...o):e.pop()}return e}class e_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new t_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class t_{constructor(e,n,r,o={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),j0(i)}async sendMessage(e){var n;await this.sendPromise;const r=qe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,a;const c=await o,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(a=f.slice(h))!==null&&a!==void 0?a:[]);const m=d?[d]:[];this.recordHistory(r,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=qe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?gd(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return xt(this,arguments,function*(){var o,i,s,a,c,d;const f=[];try{for(var h=!0,p=At(e),m;m=yield le(p.next()),o=m.done,!o;h=!0){a=m.value,h=!1;const E=a;if(Q0(E)){const v=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;v!==void 0&&f.push(v)}yield yield le(E)}}catch(E){i={error:E}}finally{try{!h&&!o&&(s=p.return)&&(yield le(s.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...gd(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ki extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ki.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(t){const e={},n=l(t,["file"]);return n!=null&&u(e,["file"],n),e}function r_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function o_(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","file"],ih(n)),e}function i_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function s_(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","file"],ih(n)),e}function l_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function a_(t){const e={},n=l(t,["config"]);return n!=null&&l_(n,e),e}function u_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_ extends Yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Un(Jt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=a_(e);return i=te("files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=u_(c),f=new hv;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=n_(e);return i=te("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=r_(c),f=new mv;return Object.assign(f,d),f})}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=s_(e);return i=te("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=o_(e);return i=te("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=i_(c),f=new gv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ti(t){const e={},n=l(t,["data"]);if(n!=null&&u(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function d_(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>A_(i))),u(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&u(e,["role"],r),e}function f_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function p_(t){const e={},n=l(t,["id"]);n!=null&&u(e,["id"],n);const r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);if(o!=null&&u(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function h_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["parameters"]);o!=null&&u(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function m_(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);const o=l(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const s=l(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=l(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=l(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=l(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const h=l(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=l(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const m=l(t,["responseMimeType"]);m!=null&&u(e,["responseMimeType"],m);const E=l(t,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);const v=l(t,["responseSchema"]);v!=null&&u(e,["responseSchema"],v);const w=l(t,["routingConfig"]);w!=null&&u(e,["routingConfig"],w);const g=l(t,["seed"]);g!=null&&u(e,["seed"],g);const y=l(t,["speechConfig"]);y!=null&&u(e,["speechConfig"],y);const S=l(t,["stopSequences"]);S!=null&&u(e,["stopSequences"],S);const T=l(t,["temperature"]);T!=null&&u(e,["temperature"],T);const I=l(t,["thinkingConfig"]);I!=null&&u(e,["thinkingConfig"],I);const N=l(t,["topK"]);N!=null&&u(e,["topK"],N);const k=l(t,["topP"]);if(k!=null&&u(e,["topP"],k),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function g_(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function y_(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function v_(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=l(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Va(h));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],d_(qe(E)));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let N=yr(v);Array.isArray(N)&&(N=N.map(k=>R_(gr(k)))),u(e,["setup","tools"],N)}const w=l(t,["sessionResumption"]);e!==void 0&&w!=null&&u(e,["setup","sessionResumption"],k_(w));const g=l(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","inputAudioTranscription"],g);const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","outputAudioTranscription"],y);const S=l(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&u(e,["setup","realtimeInputConfig"],S);const T=l(t,["contextWindowCompression"]);e!==void 0&&T!=null&&u(e,["setup","contextWindowCompression"],T);const I=l(t,["proactivity"]);if(e!==void 0&&I!=null&&u(e,["setup","proactivity"],I),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function __(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],m_(r));const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=l(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Va(h));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],qe(E));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let k=yr(v);Array.isArray(k)&&(k=k.map(M=>N_(gr(M)))),u(e,["setup","tools"],k)}const w=l(t,["sessionResumption"]);e!==void 0&&w!=null&&u(e,["setup","sessionResumption"],w);const g=l(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","inputAudioTranscription"],g);const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","outputAudioTranscription"],y);const S=l(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&u(e,["setup","realtimeInputConfig"],S);const T=l(t,["contextWindowCompression"]);e!==void 0&&T!=null&&u(e,["setup","contextWindowCompression"],T);const I=l(t,["proactivity"]);e!==void 0&&I!=null&&u(e,["setup","proactivity"],I);const N=l(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&u(e,["setup","explicitVadSignal"],N),n}function S_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["setup","model"],fe(t,r));const o=l(e,["config"]);return o!=null&&u(n,["config"],v_(o,n)),n}function E_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["setup","model"],fe(t,r));const o=l(e,["config"]);return o!=null&&u(n,["config"],__(o,n)),n}function w_(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function C_(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["weightedPrompts"],r)}return e}function T_(t){const e={},n=l(t,["media"]);if(n!=null){let d=eh(n);Array.isArray(d)&&(d=d.map(f=>ti(f))),u(e,["mediaChunks"],d)}const r=l(t,["audio"]);r!=null&&u(e,["audio"],ti(nh(r)));const o=l(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const i=l(t,["video"]);i!=null&&u(e,["video"],ti(th(i)));const s=l(t,["text"]);s!=null&&u(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=l(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function I_(t){const e={},n=l(t,["media"]);if(n!=null){let d=eh(n);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}const r=l(t,["audio"]);r!=null&&u(e,["audio"],nh(r));const o=l(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const i=l(t,["video"]);i!=null&&u(e,["video"],th(i));const s=l(t,["text"]);s!=null&&u(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=l(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function x_(t){const e={},n=l(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const r=l(t,["serverContent"]);r!=null&&u(e,["serverContent"],r);const o=l(t,["toolCall"]);o!=null&&u(e,["toolCall"],o);const i=l(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);const s=l(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],P_(s));const a=l(t,["goAway"]);a!=null&&u(e,["goAway"],a);const c=l(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);const d=l(t,["voiceActivityDetectionSignal"]);return d!=null&&u(e,["voiceActivityDetectionSignal"],d),e}function A_(t){const e={},n=l(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&u(e,["fileData"],f_(i));const s=l(t,["functionCall"]);s!=null&&u(e,["functionCall"],p_(s));const a=l(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=l(t,["inlineData"]);c!=null&&u(e,["inlineData"],ti(c));const d=l(t,["text"]);d!=null&&u(e,["text"],d);const f=l(t,["thought"]);f!=null&&u(e,["thought"],f);const h=l(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=l(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function k_(t){const e={},n=l(t,["handle"]);if(n!=null&&u(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],g_(a));const c=l(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],y_(c));const d=l(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function N_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>h_(p))),u(e,["functionDeclarations"],h)}const r=l(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);const f=l(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function P_(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&u(e,["cachedContentTokenCount"],r);const o=l(t,["candidatesTokenCount"]);o!=null&&u(e,["responseTokenCount"],o);const i=l(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);const s=l(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const a=l(t,["totalTokenCount"]);a!=null&&u(e,["totalTokenCount"],a);const c=l(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>E)),u(e,["promptTokensDetails"],m)}const d=l(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>E)),u(e,["cacheTokensDetails"],m)}const f=l(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>E)),u(e,["responseTokensDetails"],m)}const h=l(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(E=>E)),u(e,["toolUsePromptTokensDetails"],m)}const p=l(t,["trafficType"]);return p!=null&&u(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_(t){const e={},n=l(t,["data"]);if(n!=null&&u(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function D_(t){const e={},n=l(t,["content"]);n!=null&&u(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],L_(r));const o=l(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const i=l(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);const s=l(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=l(t,["index"]);c!=null&&u(e,["index"],c);const d=l(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);const f=l(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),u(e,["safetyRatings"],p)}const h=l(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function L_(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["citations"],r)}return e}function U_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let i=mt(o);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["contents"],i)}return n}function F_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["tokensInfo"],o)}return e}function b_(t){const e={},n=l(t,["values"]);n!=null&&u(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&u(e,["statistics"],V_(r)),e}function V_(t){const e={},n=l(t,["truncated"]);n!=null&&u(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&u(e,["tokenCount"],r),e}function Yi(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>JS(i))),u(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&u(e,["role"],r),e}function z_(t){const e={},n=l(t,["controlType"]);n!=null&&u(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&u(e,["computeControl"],r),e}function B_(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function G_(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],qe(r));const o=l(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>gh(a))),u(e,["tools"],s)}const i=l(t,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],MS(i)),n}function H_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let s=mt(o);Array.isArray(s)&&(s=s.map(a=>Yi(a))),u(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&B_(i),n}function O_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let s=mt(o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&G_(i,n),n}function q_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&u(e,["totalTokens"],r);const o=l(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function $_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&u(e,["totalTokens"],r),e}function W_(t,e){const n={},r=l(e,["model"]);return r!=null&&u(n,["_url","name"],fe(t,r)),n}function J_(t,e){const n={},r=l(e,["model"]);return r!=null&&u(n,["_url","name"],fe(t,r)),n}function K_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function Y_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function Z_(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=l(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const h=l(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const m=l(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const v=l(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","compressionQuality"],v);const w=l(t,["addWatermark"]);e!==void 0&&w!=null&&u(e,["parameters","addWatermark"],w);const g=l(t,["labels"]);e!==void 0&&g!=null&&u(e,["labels"],g);const y=l(t,["editMode"]);e!==void 0&&y!=null&&u(e,["parameters","editMode"],y);const S=l(t,["baseSteps"]);return e!==void 0&&S!=null&&u(e,["parameters","editConfig","baseSteps"],S),n}function X_(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=l(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>jS(c))),u(n,["instances[0]","referenceImages"],a)}const s=l(e,["config"]);return s!=null&&Z_(s,n),n}function Q_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Zi(i))),u(e,["generatedImages"],o)}return e}function j_(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function eS(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);const o=l(t,["title"]);e!==void 0&&o!=null&&u(e,["instances[]","title"],o);const i=l(t,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);const s=l(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const a=l(t,["autoTruncate"]);return e!==void 0&&a!=null&&u(e,["parameters","autoTruncate"],a),n}function tS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let a=Ua(t,o);Array.isArray(a)&&(a=a.map(c=>c)),u(n,["requests[]","content"],a)}const i=l(e,["config"]);i!=null&&j_(i,n);const s=l(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],fe(t,s)),n}function nS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let s=Ua(t,o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["instances[]","content"],s)}const i=l(e,["config"]);return i!=null&&eS(i,n),n}function rS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["embeddings"],i)}const o=l(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function oS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>b_(s))),u(e,["embeddings"],i)}const o=l(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function iS(t){const e={},n=l(t,["endpoint"]);n!=null&&u(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&u(e,["deployedModelId"],r),e}function sS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function lS(t){const e={},n=l(t,["id"]);n!=null&&u(e,["id"],n);const r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);if(o!=null&&u(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aS(t){const e={},n=l(t,["mode"]);n!=null&&u(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function uS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["parameters"]);o!=null&&u(e,["parameters"],o);const i=l(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function cS(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Yi(qe(o)));const i=l(e,["temperature"]);i!=null&&u(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(r,["topP"],s);const a=l(e,["topK"]);a!=null&&u(r,["topK"],a);const c=l(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);const d=l(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);const f=l(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);const h=l(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);const p=l(e,["logprobs"]);p!=null&&u(r,["logprobs"],p);const m=l(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);const E=l(e,["frequencyPenalty"]);E!=null&&u(r,["frequencyPenalty"],E);const v=l(e,["seed"]);v!=null&&u(r,["seed"],v);const w=l(e,["responseMimeType"]);w!=null&&u(r,["responseMimeType"],w);const g=l(e,["responseSchema"]);g!=null&&u(r,["responseSchema"],Fa(g));const y=l(e,["responseJsonSchema"]);if(y!=null&&u(r,["responseJsonSchema"],y),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=l(e,["safetySettings"]);if(n!==void 0&&S!=null){let z=S;Array.isArray(z)&&(z=z.map(C=>eE(C))),u(n,["safetySettings"],z)}const T=l(e,["tools"]);if(n!==void 0&&T!=null){let z=yr(T);Array.isArray(z)&&(z=z.map(C=>lE(gr(C)))),u(n,["tools"],z)}const I=l(e,["toolConfig"]);if(n!==void 0&&I!=null&&u(n,["toolConfig"],sE(I)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(e,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Zt(t,N));const k=l(e,["responseModalities"]);k!=null&&u(r,["responseModalities"],k);const M=l(e,["mediaResolution"]);M!=null&&u(r,["mediaResolution"],M);const P=l(e,["speechConfig"]);if(P!=null&&u(r,["speechConfig"],ba(P)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=l(e,["thinkingConfig"]);V!=null&&u(r,["thinkingConfig"],V);const j=l(e,["imageConfig"]);j!=null&&u(r,["imageConfig"],bS(j));const R=l(e,["enableEnhancedCivicAnswers"]);return R!=null&&u(r,["enableEnhancedCivicAnswers"],R),r}function dS(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],qe(o));const i=l(e,["temperature"]);i!=null&&u(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(r,["topP"],s);const a=l(e,["topK"]);a!=null&&u(r,["topK"],a);const c=l(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);const d=l(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);const f=l(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);const h=l(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);const p=l(e,["logprobs"]);p!=null&&u(r,["logprobs"],p);const m=l(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);const E=l(e,["frequencyPenalty"]);E!=null&&u(r,["frequencyPenalty"],E);const v=l(e,["seed"]);v!=null&&u(r,["seed"],v);const w=l(e,["responseMimeType"]);w!=null&&u(r,["responseMimeType"],w);const g=l(e,["responseSchema"]);g!=null&&u(r,["responseSchema"],Fa(g));const y=l(e,["responseJsonSchema"]);y!=null&&u(r,["responseJsonSchema"],y);const S=l(e,["routingConfig"]);S!=null&&u(r,["routingConfig"],S);const T=l(e,["modelSelectionConfig"]);T!=null&&u(r,["modelConfig"],T);const I=l(e,["safetySettings"]);if(n!==void 0&&I!=null){let oe=I;Array.isArray(oe)&&(oe=oe.map(W=>W)),u(n,["safetySettings"],oe)}const N=l(e,["tools"]);if(n!==void 0&&N!=null){let oe=yr(N);Array.isArray(oe)&&(oe=oe.map(W=>gh(gr(W)))),u(n,["tools"],oe)}const k=l(e,["toolConfig"]);n!==void 0&&k!=null&&u(n,["toolConfig"],k);const M=l(e,["labels"]);n!==void 0&&M!=null&&u(n,["labels"],M);const P=l(e,["cachedContent"]);n!==void 0&&P!=null&&u(n,["cachedContent"],Zt(t,P));const V=l(e,["responseModalities"]);V!=null&&u(r,["responseModalities"],V);const j=l(e,["mediaResolution"]);j!=null&&u(r,["mediaResolution"],j);const R=l(e,["speechConfig"]);R!=null&&u(r,["speechConfig"],ba(R));const z=l(e,["audioTimestamp"]);z!=null&&u(r,["audioTimestamp"],z);const C=l(e,["thinkingConfig"]);C!=null&&u(r,["thinkingConfig"],C);const H=l(e,["imageConfig"]);if(H!=null&&u(r,["imageConfig"],VS(H)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function yd(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let s=mt(o);Array.isArray(s)&&(s=s.map(a=>Yi(a))),u(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&u(n,["generationConfig"],cS(t,i,n)),n}function vd(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["contents"]);if(o!=null){let s=mt(o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&u(n,["generationConfig"],dS(t,i,n)),n}function _d(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>D_(d))),u(e,["candidates"],c)}const o=l(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const i=l(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const s=l(t,["responseId"]);s!=null&&u(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Sd(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),u(e,["candidates"],d)}const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const i=l(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const s=l(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const a=l(t,["responseId"]);a!=null&&u(e,["responseId"],a);const c=l(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function fS(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&u(e,["parameters","aspectRatio"],o);const i=l(t,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const a=l(t,["personGeneration"]);e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a);const c=l(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);const d=l(t,["includeRaiReason"]);e!==void 0&&d!=null&&u(e,["parameters","includeRaiReason"],d);const f=l(t,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);const h=l(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const p=l(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=l(t,["imageSize"]);if(e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function pS(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=l(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const h=l(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const m=l(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const v=l(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","compressionQuality"],v);const w=l(t,["addWatermark"]);e!==void 0&&w!=null&&u(e,["parameters","addWatermark"],w);const g=l(t,["labels"]);e!==void 0&&g!=null&&u(e,["labels"],g);const y=l(t,["imageSize"]);e!==void 0&&y!=null&&u(e,["parameters","sampleImageSize"],y);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),n}function hS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&fS(i,n),n}function mS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&pS(i,n),n}function gS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>kS(s))),u(e,["generatedImages"],i)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],hh(o)),e}function yS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Zi(s))),u(e,["generatedImages"],i)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],mh(o)),e}function vS(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(t,["durationSeconds"]);if(e!==void 0&&o!=null&&u(e,["parameters","durationSeconds"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);const s=l(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const a=l(t,["personGeneration"]);if(e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=l(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=l(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&u(e,["parameters","enhancePrompt"],d),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=l(t,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],Xi(f));const h=l(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>SE(m))),u(e,["instances[0]","referenceImages"],p)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function _S(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const i=l(t,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);const s=l(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const a=l(t,["seed"]);e!==void 0&&a!=null&&u(e,["parameters","seed"],a);const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const h=l(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);const E=l(t,["generateAudio"]);e!==void 0&&E!=null&&u(e,["parameters","generateAudio"],E);const v=l(t,["lastFrame"]);e!==void 0&&v!=null&&u(e,["instances[0]","lastFrame"],Rt(v));const w=l(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>EE(T))),u(e,["instances[0]","referenceImages"],S)}const g=l(t,["mask"]);e!==void 0&&g!=null&&u(e,["instances[0]","mask"],_E(g));const y=l(t,["compressionQuality"]);return e!==void 0&&y!=null&&u(e,["parameters","compressionQuality"],y),n}function SS(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],TS(s)),e}function ES(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response"]);return s!=null&&u(e,["response"],IS(s)),e}function wS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&u(n,["instances[0]","image"],Xi(i));const s=l(e,["video"]);s!=null&&u(n,["instances[0]","video"],yh(s));const a=l(e,["source"]);a!=null&&xS(a,n);const c=l(e,["config"]);return c!=null&&vS(c,n),n}function CS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&u(n,["instances[0]","image"],Rt(i));const s=l(e,["video"]);s!=null&&u(n,["instances[0]","video"],vh(s));const a=l(e,["source"]);a!=null&&AS(a,n);const c=l(e,["config"]);return c!=null&&_S(c,n),n}function TS(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>NS(s))),u(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function IS(t){const e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>PS(s))),u(e,["generatedVideos"],i)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function xS(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Xi(o));const i=l(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],yh(i)),n}function AS(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Rt(o));const i=l(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],vh(i)),n}function kS(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["image"],zS(n));const r=l(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const o=l(t,["_self"]);return o!=null&&u(e,["safetyAttributes"],hh(o)),e}function Zi(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["image"],ph(n));const r=l(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const o=l(t,["_self"]);o!=null&&u(e,["safetyAttributes"],mh(o));const i=l(t,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function RS(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["mask"],ph(n));const r=l(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["labels"],o)}return e}function NS(t){const e={},n=l(t,["video"]);return n!=null&&u(e,["video"],yE(n)),e}function PS(t){const e={},n=l(t,["_self"]);return n!=null&&u(e,["video"],vE(n)),e}function MS(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);const o=l(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const s=l(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=l(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=l(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=l(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const h=l(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=l(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const m=l(t,["responseMimeType"]);m!=null&&u(e,["responseMimeType"],m);const E=l(t,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);const v=l(t,["responseSchema"]);v!=null&&u(e,["responseSchema"],v);const w=l(t,["routingConfig"]);w!=null&&u(e,["routingConfig"],w);const g=l(t,["seed"]);g!=null&&u(e,["seed"],g);const y=l(t,["speechConfig"]);y!=null&&u(e,["speechConfig"],y);const S=l(t,["stopSequences"]);S!=null&&u(e,["stopSequences"],S);const T=l(t,["temperature"]);T!=null&&u(e,["temperature"],T);const I=l(t,["thinkingConfig"]);I!=null&&u(e,["thinkingConfig"],I);const N=l(t,["topK"]);N!=null&&u(e,["topK"],N);const k=l(t,["topP"]);if(k!=null&&u(e,["topP"],k),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function DS(t,e){const n={},r=l(e,["model"]);return r!=null&&u(n,["_url","name"],fe(t,r)),n}function LS(t,e){const n={},r=l(e,["model"]);return r!=null&&u(n,["_url","name"],fe(t,r)),n}function US(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function FS(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function bS(t){const e={},n=l(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function VS(t){const e={},n=l(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const r=l(t,["imageSize"]);r!=null&&u(e,["imageSize"],r);const o=l(t,["outputMimeType"]);o!=null&&u(e,["imageOutputOptions","mimeType"],o);const i=l(t,["outputCompressionQuality"]);return i!=null&&u(e,["imageOutputOptions","compressionQuality"],i),e}function zS(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],_n(n));const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ph(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],_n(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Xi(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],_n(n));const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Rt(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],_n(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function BS(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],sh(t,a)),r}function GS(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],sh(t,a)),r}function HS(t,e){const n={},r=l(e,["config"]);return r!=null&&BS(t,r,n),n}function OS(t,e){const n={},r=l(e,["config"]);return r!=null&&GS(t,r,n),n}function qS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["_self"]);if(o!=null){let i=lh(o);Array.isArray(i)&&(i=i.map(s=>Rl(s))),u(e,["models"],i)}return e}function $S(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["_self"]);if(o!=null){let i=lh(o);Array.isArray(i)&&(i=i.map(s=>Nl(s))),u(e,["models"],i)}return e}function WS(t){const e={},n=l(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&u(e,["maskClasses"],r);const o=l(t,["maskDilation"]);return o!=null&&u(e,["dilation"],o),e}function Rl(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const i=l(t,["version"]);i!=null&&u(e,["version"],i);const s=l(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],aE(s));const a=l(t,["inputTokenLimit"]);a!=null&&u(e,["inputTokenLimit"],a);const c=l(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);const d=l(t,["supportedGenerationMethods"]);d!=null&&u(e,["supportedActions"],d);const f=l(t,["temperature"]);f!=null&&u(e,["temperature"],f);const h=l(t,["maxTemperature"]);h!=null&&u(e,["maxTemperature"],h);const p=l(t,["topP"]);p!=null&&u(e,["topP"],p);const m=l(t,["topK"]);m!=null&&u(e,["topK"],m);const E=l(t,["thinking"]);return E!=null&&u(e,["thinking"],E),e}function Nl(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const i=l(t,["versionId"]);i!=null&&u(e,["version"],i);const s=l(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>iS(p))),u(e,["endpoints"],h)}const a=l(t,["labels"]);a!=null&&u(e,["labels"],a);const c=l(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],uE(c));const d=l(t,["defaultCheckpointId"]);d!=null&&u(e,["defaultCheckpointId"],d);const f=l(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),u(e,["checkpoints"],h)}return e}function JS(t){const e={},n=l(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&u(e,["fileData"],sS(i));const s=l(t,["functionCall"]);s!=null&&u(e,["functionCall"],lS(s));const a=l(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=l(t,["inlineData"]);c!=null&&u(e,["inlineData"],M_(c));const d=l(t,["text"]);d!=null&&u(e,["text"],d);const f=l(t,["thought"]);f!=null&&u(e,["thought"],f);const h=l(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=l(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function KS(t){const e={},n=l(t,["productImage"]);return n!=null&&u(e,["image"],Rt(n)),e}function YS(t,e){const n={},r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const o=l(t,["baseSteps"]);e!==void 0&&o!=null&&u(e,["parameters","baseSteps"],o);const i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const s=l(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const d=l(t,["addWatermark"]);e!==void 0&&d!=null&&u(e,["parameters","addWatermark"],d);const f=l(t,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);const h=l(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);const p=l(t,["enhancePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","enhancePrompt"],p);const m=l(t,["labels"]);return e!==void 0&&m!=null&&u(e,["labels"],m),n}function ZS(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["source"]);o!=null&&QS(o,n);const i=l(e,["config"]);return i!=null&&YS(i,n),n}function XS(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Zi(o))),u(e,["generatedImages"],r)}return e}function QS(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const o=l(t,["personImage"]);e!==void 0&&o!=null&&u(e,["instances[0]","personImage","image"],Rt(o));const i=l(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>KS(a))),u(e,["instances[0]","productImages"],s)}return n}function jS(t){const e={},n=l(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Rt(n));const r=l(t,["referenceId"]);r!=null&&u(e,["referenceId"],r);const o=l(t,["referenceType"]);o!=null&&u(e,["referenceType"],o);const i=l(t,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],WS(i));const s=l(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],z_(s));const a=l(t,["styleImageConfig"]);a!=null&&u(e,["styleImageConfig"],a);const c=l(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function hh(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const o=l(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function mh(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const o=l(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function eE(t){const e={},n=l(t,["category"]);if(n!=null&&u(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function tE(t){const e={},n=l(t,["image"]);return n!=null&&u(e,["image"],Rt(n)),e}function nE(t,e){const n={},r=l(t,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);const o=l(t,["maxPredictions"]);e!==void 0&&o!=null&&u(e,["parameters","maxPredictions"],o);const i=l(t,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);const s=l(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const a=l(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&u(e,["parameters","binaryColorThreshold"],a);const c=l(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function rE(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["source"]);o!=null&&iE(o,n);const i=l(e,["config"]);return i!=null&&nE(i,n),n}function oE(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>RS(o))),u(e,["generatedMasks"],r)}return e}function iE(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const o=l(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Rt(o));const i=l(t,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],tE(i)),n}function sE(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],aS(n));const r=l(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function lE(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],US(a));const c=l(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],FS(c));const d=l(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function gh(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>uS(p))),u(e,["functionDeclarations"],h)}const r=l(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const o=l(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const i=l(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);const f=l(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function aE(t){const e={},n=l(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&u(e,["createTime"],r);const o=l(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function uE(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&u(e,["createTime"],r);const o=l(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function cE(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const o=l(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function dE(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const o=l(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function fE(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","name"],fe(t,r));const o=l(e,["config"]);return o!=null&&cE(o,n),n}function pE(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["config"]);return o!=null&&dE(o,n),n}function hE(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const o=l(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&u(e,["parameters","safetySetting"],o);const i=l(t,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const a=l(t,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const c=l(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const d=l(t,["enhanceInputImage"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=l(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=l(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=l(t,["numberOfImages"]);e!==void 0&&p!=null&&u(e,["parameters","sampleCount"],p);const m=l(t,["mode"]);return e!==void 0&&m!=null&&u(e,["parameters","mode"],m),n}function mE(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["_url","model"],fe(t,r));const o=l(e,["image"]);o!=null&&u(n,["instances[0]","image"],Rt(o));const i=l(e,["upscaleFactor"]);i!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(e,["config"]);return s!=null&&hE(s,n),n}function gE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Zi(i))),u(e,["generatedImages"],o)}return e}function yE(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&u(e,["videoBytes"],_n(r));const o=l(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function vE(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],_n(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _E(t){const e={},n=l(t,["image"]);n!=null&&u(e,["_self"],Rt(n));const r=l(t,["maskMode"]);return r!=null&&u(e,["maskMode"],r),e}function SE(t){const e={},n=l(t,["image"]);n!=null&&u(e,["image"],Xi(n));const r=l(t,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function EE(t){const e={},n=l(t,["image"]);n!=null&&u(e,["image"],Rt(n));const r=l(t,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function yh(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const r=l(t,["videoBytes"]);r!=null&&u(e,["encodedVideo"],_n(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["encoding"],o),e}function vh(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&u(e,["bytesBase64Encoded"],_n(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wE(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&u(e,["displayName"],r),n}function CE(t){const e={},n=l(t,["config"]);return n!=null&&wE(n,e),e}function TE(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),n}function IE(t){const e={},n=l(t,["name"]);n!=null&&u(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&TE(r,e),e}function xE(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function AE(t,e){const n={},r=l(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}const o=l(t,["chunkingConfig"]);return e!==void 0&&o!=null&&u(e,["chunkingConfig"],o),n}function kE(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const r=l(t,["metadata"]);r!=null&&u(e,["metadata"],r);const o=l(t,["done"]);o!=null&&u(e,["done"],o);const i=l(t,["error"]);i!=null&&u(e,["error"],i);const s=l(t,["response"]);return s!=null&&u(e,["response"],NE(s)),e}function RE(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const r=l(t,["fileName"]);r!=null&&u(e,["fileName"],r);const o=l(t,["config"]);return o!=null&&AE(o,e),e}function NE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&u(e,["parent"],r);const o=l(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function PE(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function ME(t){const e={},n=l(t,["config"]);return n!=null&&PE(n,e),e}function DE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function _h(t,e){const n={},r=l(t,["mimeType"]);e!==void 0&&r!=null&&u(e,["mimeType"],r);const o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["customMetadata"],a)}const s=l(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function LE(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const r=l(t,["config"]);return r!=null&&_h(r,e),e}function UE(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="Content-Type",bE="X-Server-Timeout",VE="User-Agent",Pl="x-goog-api-client",zE="1.34.0",BE=`google-genai-sdk/${zE}`,GE="v1beta1",HE="v1beta";class OE{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:GE,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HE,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))o.searchParams.append(s,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&qE(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Ed(o),new xl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Ed(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return xt(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const a="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield le(o.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(f,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const v=JSON.parse(JSON.stringify(E.error)),w=v.status,g=v.code,y=`got status: ${w}. ${JSON.stringify(E)}`;if(g>=400&&g<600)throw new Ki({message:y,status:g})}}catch(E){if(E.name==="ApiError")throw E}s+=h;let p=-1,m=0;for(;;){p=-1,m=0;for(const w of c){const g=s.indexOf(w);g!==-1&&(p===-1||g<p)&&(p=g,m=w.length)}if(p===-1)break;const E=s.substring(0,p);s=s.substring(p+m);const v=E.trim();if(v.startsWith(a)){const w=v.substring(a.length).trim();try{const g=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield le(new xl(g))}catch(g){throw new Error(`exception parsing stream chunk ${w}. ${g}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=BE+" "+this.clientOptions.userAgentExtra;return e[VE]=n,e[Pl]=n,e[FE]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))r.append(o,i);e.timeout&&e.timeout>0&&r.append(bE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);o.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;const c={file:o},d=this.getFileName(e),f=te("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var o;const i=this.clientOptions.uploader,s=await i.stat(n),a=String(s.size),c=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};r!=null&&_h(r,h);const p=await this.fetchUploadUrl(d,a,c,f,h,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,i,s){var a;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=d==null?void 0:d.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Ed(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Ki({message:o,status:n}):new Error(o)}}function qE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,s){const a=Object.assign({},i);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],f=a[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?a[c]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),a[c]=d)}return a}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $E="mcp_used/unknown";let WE=!1;function Sh(t){for(const e of t)if(JE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return WE}function Eh(t){var e;const n=(e=t[Pl])!==null&&e!==void 0?e:"";t[Pl]=(n+` ${$E}`).trimStart()}function JE(t){return t!==null&&typeof t=="object"&&t instanceof za}function KE(t){return xt(this,arguments,function*(n,r=100){let o,i=0;for(;i<r;){const s=yield le(n.listTools({cursor:o}));for(const a of s.tools)yield yield le(a),i++;if(!s.nextCursor)break;o=s.nextCursor}})}class za{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new za(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const i={},s=[];for(const f of this.mcpClients)try{for(var a=!0,c=(n=void 0,At(KE(f))),d;d=await c.next(),e=d.done,!e;a=!0){o=d.value,a=!1;const h=o;s.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!a&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),xv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YE(t,e,n){const r=new vv;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class ZE{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=jE(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let d=()=>{};const f=new Promise(S=>{d=S}),h=e.callbacks,p=function(){d({})},m=this.apiClient,E={onopen:p,onmessage:S=>{YE(m,h.onmessage,S)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(S){}},v=this.webSocketFactory.create(c,QE(s),E);v.connect(),await f;const y={setup:{model:fe(this.apiClient,e.model)}};return v.send(JSON.stringify(y)),new XE(v,this.apiClient)}}class XE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=C_(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=w_(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zn.PLAY)}pause(){this.sendPlaybackControl(Zn.PAUSE)}stop(){this.sendPlaybackControl(Zn.STOP)}resetContext(){this.sendPlaybackControl(Zn.RESET_CONTEXT)}close(){this.conn.close()}}function QE(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function jE(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ew="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tw(t,e,n){const r=new yv;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const i=JSON.parse(o);if(t.isVertexAI()){const s=x_(i);Object.assign(r,s)}else Object.assign(r,i);e(r)}class nw{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ZE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,i,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&Sh(e.config.tools)&&Eh(h);const p=sw(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let V="BidiGenerateContent",j="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",j="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${V}?${j}=${P}`}let m=()=>{};const E=new Promise(P=>{m=P}),v=e.callbacks,w=function(){var P;(P=v==null?void 0:v.onopen)===null||P===void 0||P.call(v),m({})},g=this.apiClient,y={onopen:w,onmessage:P=>{tw(g,v.onmessage,P)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(P){}},S=this.webSocketFactory.create(f,iw(p),y);S.connect(),await E;let T=fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const P=this.apiClient.getProject(),V=this.apiClient.getLocation();T=`projects/${P}/locations/${V}/`+T}let I={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xi.AUDIO]}:e.config.responseModalities=[xi.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],k=[];for(const P of N)if(this.isCallableTool(P)){const V=P;k.push(await V.tool())}else k.push(P);k.length>0&&(e.config.tools=k);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=E_(this.apiClient,M):I=S_(this.apiClient,M),delete I.config,S.send(JSON.stringify(I)),new ow(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rw={turnComplete:!0};class ow{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=mt(n.turns),e.isVertexAI()||(r=r.map(o=>Yi(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(ew)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},rw),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I_(e)}:n={realtimeInput:T_(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function iw(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function sw(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wd=10;function Cd(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ir(s)){o=!0;break}if(!o)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ir(t){return"callTool"in t&&typeof t.callTool=="function"}function lw(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>ir(o)))!==null&&r!==void 0?r:!1}function Td(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(ir(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function Id(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw extends Yt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,i,s,a;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lw(n)||Cd(n.config))return await this.generateContentInternal(c);const d=Td(n);if(d.length>0){const v=d.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let f,h;const p=mt(c.contents),m=(i=(o=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:wd;let E=0;for(;E<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const v=f.candidates[0].content,w=[];for(const g of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(ir(g)){const S=await g.callTool(f.functionCalls);w.push(...S)}E++,h={role:"user",parts:w},c.contents=mt(c.contents),c.contents.push(v),c.contents.push(h),Id(c.config)&&(p.push(v),p.push(h))}return Id(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var r,o,i,s,a;if(this.maybeMoveToResponseJsonSchem(n),Cd(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=Td(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:s.push(c);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Un(Jt.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,s,a,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(a=n.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async c=>ir(c)?await c.tool():c)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Sh(e.config.tools)){const c=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Eh(d),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return a}async initAfcToolsMap(e){var n,r,o;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ir(s)){const a=s,c=await a.tool();for(const d of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,a)}}return i}async processAfcStream(e){var n,r,o;const i=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:wd;let s=!1,a=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){return xt(this,arguments,function*(){for(var p,m,E,v,w,g;a<i;){s&&(a++,s=!1);const I=yield le(d.processParamsMaybeAddMcpUsage(h)),N=yield le(d.generateContentStreamInternal(I)),k=[],M=[];try{for(var y=!0,S=(m=void 0,At(N)),T;T=yield le(S.next()),p=T.done,!p;y=!0){v=T.value,y=!1;const P=v;if(yield yield le(P),P.candidates&&(!((w=P.candidates[0])===null||w===void 0)&&w.content)){M.push(P.candidates[0].content);for(const V of(g=P.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<i&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(V.functionCall.name)){const j=yield le(f.get(V.functionCall.name).callTool([V.functionCall]));k.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(P){m={error:P}}finally{try{!y&&!p&&(E=S.return)&&(yield le(E.call(S)))}finally{if(m)throw m.error}}if(k.length>0){s=!0;const P=new Nr;P.candidates=[{content:{role:"user",parts:k}}],yield yield le(P);const V=[];V.push(...M),V.push({role:"user",parts:k});const j=mt(h.contents).concat(V);h.contents=j}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=vd(this.apiClient,e);return a=te("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=Sd(f),p=new Nr;return Object.assign(p,h),p})}else{const d=yd(this.apiClient,e);return a=te("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=_d(f),p=new Nr;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=vd(this.apiClient,e);return a=te("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return xt(this,arguments,function*(){var p,m,E,v;try{for(var w=!0,g=At(h),y;y=yield le(g.next()),p=y.done,!p;w=!0){v=y.value,w=!1;const S=v,T=Sd(yield le(S.json()));T.sdkHttpResponse={headers:S.headers};const I=new Nr;Object.assign(I,T),yield yield le(I)}}catch(S){m={error:S}}finally{try{!w&&!p&&(E=g.return)&&(yield le(E.call(g)))}finally{if(m)throw m.error}}})})}else{const d=yd(this.apiClient,e);return a=te("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return xt(this,arguments,function*(){var p,m,E,v;try{for(var w=!0,g=At(h),y;y=yield le(g.next()),p=y.done,!p;w=!0){v=y.value,w=!1;const S=v,T=_d(yield le(S.json()));T.sdkHttpResponse={headers:S.headers};const I=new Nr;Object.assign(I,T),yield yield le(I)}}catch(S){m={error:S}}finally{try{!w&&!p&&(E=g.return)&&(yield le(E.call(g)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=nS(this.apiClient,e);return a=te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=oS(f),p=new ed;return Object.assign(p,h),p})}else{const d=tS(this.apiClient,e);return a=te("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=rS(f),p=new ed;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=mS(this.apiClient,e);return a=te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=yS(f),p=new td;return Object.assign(p,h),p})}else{const d=hS(this.apiClient,e);return a=te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=gS(f),p=new td;return Object.assign(p,h),p})}}async editImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=X_(this.apiClient,e);return i=te("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Q_(c),f=new sv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=mE(this.apiClient,e);return i=te("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=gE(c),f=new lv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=ZS(this.apiClient,e);return i=te("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=XS(c),f=new av;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=rE(this.apiClient,e);return i=te("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=oE(c),f=new uv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=LS(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Nl(f))}else{const d=DS(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Rl(f))}}async listInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=OS(this.apiClient,e);return a=te("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=$S(f),p=new nd;return Object.assign(p,h),p})}else{const d=HS(this.apiClient,e);return a=te("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=qS(f),p=new nd;return Object.assign(p,h),p})}}async update(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=pE(this.apiClient,e);return a=te("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Nl(f))}else{const d=fE(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Rl(f))}}async delete(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=J_(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=Y_(f),p=new rd;return Object.assign(p,h),p})}else{const d=W_(this.apiClient,e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=K_(f),p=new rd;return Object.assign(p,h),p})}}async countTokens(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=O_(this.apiClient,e);return a=te("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=$_(f),p=new od;return Object.assign(p,h),p})}else{const d=H_(this.apiClient,e);return a=te("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=q_(f),p=new od;return Object.assign(p,h),p})}}async computeTokens(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=U_(this.apiClient,e);return i=te("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=F_(c),f=new cv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=CS(this.apiClient,e);return a=te("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=ES(f),p=new Ai;return Object.assign(p,h),p})}else{const d=wS(this.apiClient,e);return a=te("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=SS(f),p=new Ai;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uw extends Yt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=ev(e);return a=te("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const d=jy(e);return a=te("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=Wy(e);return i=te("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(t){const e={},n=l(t,["data"]);if(n!=null&&u(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function dw(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Sw(i))),u(e,["parts"],o)}const r=l(t,["role"]);return r!=null&&u(e,["role"],r),e}function fw(t,e,n){const r={},o=l(e,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);const i=l(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);const s=l(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const a=l(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&u(n,["bidiGenerateContentSetup"],_w(t,a));const c=l(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),r}function pw(t,e){const n={},r=l(e,["config"]);return r!=null&&u(n,["config"],fw(t,r,n)),n}function hw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function mw(t){const e={},n=l(t,["id"]);n!=null&&u(e,["id"],n);const r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);if(o!=null&&u(e,["name"],o),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gw(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function yw(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function vw(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const i=l(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);const f=l(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Va(h));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],dw(qe(E)));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let N=yr(v);Array.isArray(N)&&(N=N.map(k=>ww(gr(k)))),u(e,["setup","tools"],N)}const w=l(t,["sessionResumption"]);e!==void 0&&w!=null&&u(e,["setup","sessionResumption"],Ew(w));const g=l(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","inputAudioTranscription"],g);const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","outputAudioTranscription"],y);const S=l(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&u(e,["setup","realtimeInputConfig"],S);const T=l(t,["contextWindowCompression"]);e!==void 0&&T!=null&&u(e,["setup","contextWindowCompression"],T);const I=l(t,["proactivity"]);if(e!==void 0&&I!=null&&u(e,["setup","proactivity"],I),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function _w(t,e){const n={},r=l(e,["model"]);r!=null&&u(n,["setup","model"],fe(t,r));const o=l(e,["config"]);return o!=null&&u(n,["config"],vw(o,n)),n}function Sw(t){const e={},n=l(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const o=l(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const i=l(t,["fileData"]);i!=null&&u(e,["fileData"],hw(i));const s=l(t,["functionCall"]);s!=null&&u(e,["functionCall"],mw(s));const a=l(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=l(t,["inlineData"]);c!=null&&u(e,["inlineData"],cw(c));const d=l(t,["text"]);d!=null&&u(e,["text"],d);const f=l(t,["thought"]);f!=null&&u(e,["thought"],f);const h=l(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=l(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Ew(t){const e={},n=l(t,["handle"]);if(n!=null&&u(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ww(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const o=l(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=l(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],gw(a));const c=l(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],yw(c));const d=l(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cw(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(i=>`${n}.${i}`);e.push(...o)}else e.push(n)}return e.join(",")}function Tw(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const i=Cw(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];o.length>0&&(a=o.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),a.length>0&&c.push(...a),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class Iw extends Yt{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=pw(this.apiClient,e);i=te("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const c=Tw(a,e.config);return o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xw(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),n}function Aw(t){const e={},n=l(t,["name"]);n!=null&&u(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&xw(r,e),e}function kw(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Rw(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function Nw(t){const e={},n=l(t,["parent"]);n!=null&&u(e,["_url","parent"],n);const r=l(t,["config"]);return r!=null&&Rw(r,e),e}function Pw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const o=l(t,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends Yt{constructor(e){super(),this.apiClient=e,this.list=async n=>new Un(Jt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kw(e);return i=te("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aw(e);o=te("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Nw(e);return i=te("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=Pw(c),f=new dv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw extends Yt{constructor(e,n=new Mw(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Un(Jt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CE(e);return i=te("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xE(e);return i=te("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=IE(e);o=te("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ME(e);return i=te("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=DE(c),f=new fv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LE(e);return i=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=UE(c),f=new pv;return Object.assign(f,d),f})}}async importFile(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RE(e);return i=te("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=kE(c),f=new Da;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wh=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return wh=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Lw=()=>wh();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ml(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Dl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vt extends Error{}class Ze extends vt{constructor(e,n,r,o){super(`${Ze.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new Qi({message:r,cause:Dl(n)});const i=n;return e===400?new Th(e,i,r,o):e===401?new Ih(e,i,r,o):e===403?new xh(e,i,r,o):e===404?new Ah(e,i,r,o):e===409?new kh(e,i,r,o):e===422?new Rh(e,i,r,o):e===429?new Nh(e,i,r,o):e>=500?new Ph(e,i,r,o):new Ze(e,i,r,o)}}class Ll extends Ze{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Qi extends Ze{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ch extends Qi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Th extends Ze{}class Ih extends Ze{}class xh extends Ze{}class Ah extends Ze{}class kh extends Ze{}class Rh extends Ze{}class Nh extends Ze{}class Ph extends Ze{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uw=/^[a-z][a-z0-9+.-]*:/i,Fw=t=>Uw.test(t);let Ul=t=>(Ul=Array.isArray,Ul(t));const bw=Ul;let Vw=bw;const xd=Vw;function zw(t){if(!t)return!0;for(const e in t)return!1;return!0}function Bw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Gw=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new vt(`${t} must be an integer`);if(e<0)throw new vt(`${t} must be a positive integer`);return e},Hw=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ow=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $w=()=>{var t,e,n,r,o;const i=qw();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bn,"X-Stainless-OS":kd(Deno.build.os),"X-Stainless-Arch":Ad(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bn,"X-Stainless-OS":kd((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Ad((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=Ww();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ww(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${o}.${i}.${s}`}}}return null}const Ad=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",kd=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Uo;const Jw=()=>Uo??(Uo=$w());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Mh(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Yw(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Mh({start(){},async pull(n){const{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Dh(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Zw(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xw=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ks(t,e,n){return Lh(),new File(t,e??"unknown_file",n)}function Qw(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const jw=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",eC=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Uh(t),tC=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function nC(t,e,n){if(Lh(),t=await t,eC(t))return t instanceof File?t:ks([await t.arrayBuffer()],t.name);if(tC(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ks(await Fl(o),e,n)}const r=await Fl(t);if(e||(e=Qw(t)),!(n!=null&&n.type)){const o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return ks(r,e,n)}async function Fl(t){var e,n,r,o,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Uh(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(jw(t))try{for(var a=!0,c=At(t),d;d=await c.next(),e=d.done,!e;a=!0){o=d.value,a=!1;const f=o;s.push(...await Fl(f))}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${rC(t)}`)}return s}function rC(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fh{constructor(e){this._client=e}}Fh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Rd=Object.freeze(Object.create(null)),oC=(t=bh)=>function(n,...r){if(n.length===1)return n[0];let o=!1;const i=[],s=n.reduce((f,h,p)=>{var m,E,v;/[?#]/.test(h)&&(o=!0);const w=r[p];let g=(o?encodeURIComponent:t)(""+w);return p!==r.length&&(w==null||typeof w=="object"&&w.toString===((v=Object.getPrototypeOf((E=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:Rd))!==null&&E!==void 0?E:Rd))===null||v===void 0?void 0:v.toString))&&(g=w+"",i.push({start:f.length+h.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),f+h+(p===r.length?"":g)},""),a=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(a))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,h)=>f.start-h.start),i.length>0){let f=0;const h=i.reduce((p,m)=>{const E=" ".repeat(m.start-f),v="^".repeat(m.length);return f=m.start+m.length,p+E+v},"");throw new vt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},Fo=oC(bh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vh extends Fh{create(e,n){var r;const{api_version:o=this._client.apiVersion}=e,i=Ri(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new vt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new vt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fo`/${o}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Fo`/${o}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Fo`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;const i=n??{},{api_version:s=this._client.apiVersion}=i,a=Ri(i,["api_version"]);return this._client.get(Fo`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Vh._key=Object.freeze(["interactions"]);class zh extends Vh{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}let bo;function Ba(t){let e;return(bo??(e=new globalThis.TextEncoder,bo=e.encode.bind(e)))(t)}let Vo;function Nd(t){let e;return(Vo??(e=new globalThis.TextDecoder,Vo=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ba(e):e;this.buffer=iC([this.buffer,n]);const r=[];let o;for(;(o=sC(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(Nd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=Nd(this.buffer.subarray(0,i));r.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ji.NEWLINE_CHARS=new Set([`
`,"\r"]);ji.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function sC(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function lC(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ni={off:0,error:200,warn:300,info:400,debug:500},Pd=(t,e,n)=>{if(t){if(Bw(Ni,t))return t;Je(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ni))}`)}};function Fr(){}function zo(t,e,n){return!e||Ni[t]>Ni[n]?Fr:e[t].bind(e)}const aC={error:Fr,warn:Fr,info:Fr,debug:Fr};let Md=new WeakMap;function Je(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return aC;const o=Md.get(n);if(o&&o[0]===r)return o[1];const i={error:zo("error",n,r),warn:zo("warn",n,r),info:zo("info",n,r),debug:zo("debug",n,r)};return Md.set(n,[r,i]),i}const wn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1;const i=r?Je(r):console;function s(){return xt(this,arguments,function*(){var c,d,f,h;if(o)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var m=!0,E=At(uC(e,n)),v;v=yield le(E.next()),c=v.done,!c;m=!0){h=v.value,m=!1;const w=h;if(!p)if(w.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield le(JSON.parse(w.data))}catch(g){throw i.error("Could not parse message into JSON:",w.data),i.error("From chunk:",w.raw),g}}}catch(w){d={error:w}}finally{try{!m&&!c&&(f=E.return)&&(yield le(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(w){if(Ml(w))return yield le(void 0);throw w}finally{p||n.abort()}})}return new Xn(s,n,r)}static fromReadableStream(e,n,r){let o=!1;function i(){return xt(this,arguments,function*(){var c,d,f,h;const p=new ji,m=Dh(e);try{for(var E=!0,v=At(m),w;w=yield le(v.next()),c=w.done,!c;E=!0){h=w.value,E=!1;const g=h;for(const y of p.decode(g))yield yield le(y)}}catch(g){d={error:g}}finally{try{!E&&!c&&(f=v.return)&&(yield le(f.call(v)))}finally{if(d)throw d.error}}for(const g of p.flush())yield yield le(g)})}function s(){return xt(this,arguments,function*(){var c,d,f,h;if(o)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var m=!0,E=At(i()),v;v=yield le(E.next()),c=v.done,!c;m=!0){h=v.value,m=!1;const w=h;p||w&&(yield yield le(JSON.parse(w)))}}catch(w){d={error:w}}finally{try{!m&&!c&&(f=E.return)&&(yield le(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(w){if(Ml(w))return yield le(void 0);throw w}finally{p||n.abort()}})}return new Xn(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){const s=r.next();e.push(s),n.push(s)}return i.shift()}});return[new Xn(()=>o(e),this.controller,this.client),new Xn(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Mh({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:i}=await n.next();if(i)return r.close();const s=Ba(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function uC(t,e){return xt(this,arguments,function*(){var r,o,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vt("Attempted to iterate over a response with no body");const a=new dC,c=new ji,d=Dh(t.body);try{for(var f=!0,h=At(cC(d)),p;p=yield le(h.next()),r=p.done,!r;f=!0){s=p.value,f=!1;const m=s;for(const E of c.decode(m)){const v=a.decode(E);v&&(yield yield le(v))}}}catch(m){o={error:m}}finally{try{!f&&!r&&(i=h.return)&&(yield le(i.call(h)))}finally{if(o)throw o.error}}for(const m of c.flush()){const E=a.decode(m);E&&(yield yield le(E))}})}function cC(t){return xt(this,arguments,function*(){var n,r,o,i;let s=new Uint8Array;try{for(var a=!0,c=At(t),d;d=yield le(c.next()),n=d.done,!n;a=!0){i=d.value,a=!1;const f=i;if(f==null)continue;const h=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ba(f):f;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let m;for(;(m=lC(s))!==-1;)yield yield le(s.slice(0,m)),s=s.slice(m)}}catch(f){r={error:f}}finally{try{!a&&!n&&(o=c.return)&&(yield le(o.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield le(s))})}class dC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=fC(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function fC(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pC(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=e,s=await(async()=>{var a;if(e.options.stream)return Je(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Xn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(a=c==null?void 0:c.split(";")[0])===null||a===void 0?void 0:a.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Je(t).debug(`[${r}] response parsed`,wn({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ga extends Promise{constructor(e,n,r=pC){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Ga(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bh=Symbol("brand.privateNullableHeaders");function*hC(t){if(!t)return;if(Bh in t){const{values:r,nulls:o}=t;yield*r.entries();for(const i of o)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():xd(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const i=xd(r[1])?r[1]:[r[1]];let s=!1;for(const a of i)a!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,a])}}const Pr=t=>{const e=new Headers,n=new Set;for(const r of t){const o=new Set;for(const[i,s]of hC(r)){const a=i.toLowerCase();o.has(a)||(e.delete(i),o.add(a)),s===null?(e.delete(i),n.add(a)):(e.append(i,s),n.delete(a))}}return{[Bh]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rs=t=>{var e,n,r,o,i,s;if(typeof globalThis.process<"u")return(r=(n=(e=By)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||i===void 0?void 0:i.call(o,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gh;class es{constructor(e){var n,r,o,i,s,a,c,{baseURL:d=Rs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Rs("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=e,p=Ri(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:f,apiVersion:h},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:es.DEFAULT_TIMEOUT,this.logger=(o=m.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(s=(i=Pd(m.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Pd(Rs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=m.fetchOptions,this.maxRetries=(a=m.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:Kw(),this.encoder=Xw,this._options=m,this.apiKey=f,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Pr([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Pr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Pr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new vt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${bn}`}defaultIdempotencyKey(){return`stainless-node-retry-${Lw()}`}makeStatusError(e,n,r,o){return Ze.generate(e,n,r,o)}buildURL(e,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,i=Fw(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return zw(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Ga(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var o,i,s;const a=await e,c=(o=a.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(a);const{req:d,url:f,timeout:h}=await this.buildRequest(a,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(Je(this).debug(`[${p}] sending request`,wn({retryOfRequestLogID:r,method:a.method,url:f,options:a,headers:d.headers})),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new Ll;const v=new AbortController,w=await this.fetchWithTimeout(f,d,h,v).catch(Dl),g=Date.now();if(w instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Ll;const T=Ml(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Je(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${S}`),Je(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${S})`,wn({retryOfRequestLogID:r,url:f,durationMs:g-E,message:w.message})),this.retryRequest(a,n,r??p);throw Je(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),Je(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,wn({retryOfRequestLogID:r,url:f,durationMs:g-E,message:w.message})),T?new Ch:new Qi({cause:w})}const y=`[${p}${m}] ${d.method} ${f} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${g-E}ms`;if(!w.ok){const S=await this.shouldRetry(w);if(n&&S){const P=`retrying, ${n} attempts remaining`;return await Zw(w.body),Je(this).info(`${y} - ${P}`),Je(this).debug(`[${p}] response error (${P})`,wn({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:g-E})),this.retryRequest(a,n,r??p,w.headers)}const T=S?"error; no more retries left":"error; not retryable";Je(this).info(`${y} - ${T}`);const I=await w.text().catch(P=>Dl(P).message),N=Hw(I),k=N?void 0:I;throw Je(this).debug(`[${p}] response error (${T})`,wn({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:k,durationMs:Date.now()-E})),this.makeStatusError(w.status,N,k,w.headers)}return Je(this).info(y),Je(this).debug(`[${p}] response start`,wn({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:g-E})),{response:w,options:a,controller:v,requestLogID:p,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(e,n,r,o){const i=n||{},{signal:s,method:a}=i,c=Ri(i,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const d=setTimeout(()=>o.abort(),r),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:o.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){var i;let s;const a=o==null?void 0:o.get("retry-after-ms");if(a){const d=parseFloat(a);Number.isNaN(d)||(s=d)}const c=o==null?void 0:o.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Ow(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,o,i;const s=Object.assign({},e),{method:a,path:c,query:d,defaultBaseURL:f}=s,h=this.buildURL(c,d,f);"timeout"in s&&Gw("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:p,body:m}=this.buildBody({options:s}),E=await this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:E},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Pr([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Jw()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Pr([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Yw(e)}:this.encoder({body:e,headers:r})}}es.DEFAULT_TIMEOUT=6e4;class be extends es{constructor(){super(...arguments),this.interactions=new zh(this)}}Gh=be;be.GeminiNextGenAPIClient=Gh;be.GeminiNextGenAPIClientError=vt;be.APIError=Ze;be.APIConnectionError=Qi;be.APIConnectionTimeoutError=Ch;be.APIUserAbortError=Ll;be.NotFoundError=Ah;be.ConflictError=kh;be.RateLimitError=Nh;be.BadRequestError=Th;be.AuthenticationError=Ih;be.InternalServerError=Ph;be.PermissionDeniedError=xh;be.UnprocessableEntityError=Rh;be.toFile=nC;be.Interactions=zh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(t,e){const n={},r=l(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function gC(t,e){const n={},r=l(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function yC(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(n,["sdkHttpResponse"],r),n}function vC(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(n,["sdkHttpResponse"],r),n}function _C(t,e,n){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);const s=l(t,["learningRateMultiplier"]);if(s!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=l(t,["batchSize"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","batchSize"],a);const c=l(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function SC(t,e,n){const r={};let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=l(t,["validationDataset"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec"],Dd(m))}else if(o==="PREFERENCE_TUNING"){const m=l(t,["validationDataset"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec"],Dd(m))}const i=l(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=l(t,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(a==="PREFERENCE_TUNING"){const m=l(t,["epochCount"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=l(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=l(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(d==="PREFERENCE_TUNING"){const m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=l(t,["adapterSize"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=l(t,["adapterSize"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=l(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=l(t,["beta"]);return e!==void 0&&p!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),r}function EC(t,e){const n={},r=l(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&MC(i);const s=l(t,["config"]);return s!=null&&_C(s,n),n}function wC(t,e){const n={},r=l(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&DC(i,n,e);const s=l(t,["config"]);return s!=null&&SC(s,n,e),n}function CC(t,e){const n={},r=l(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function TC(t,e){const n={},r=l(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function IC(t,e,n){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const s=l(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),r}function xC(t,e,n){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const s=l(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),r}function AC(t,e){const n={},r=l(t,["config"]);return r!=null&&IC(r,n),n}function kC(t,e){const n={},r=l(t,["config"]);return r!=null&&xC(r,n),n}function RC(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const i=l(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Hh(a))),u(n,["tuningJobs"],s)}return n}function NC(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const i=l(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>bl(a))),u(n,["tuningJobs"],s)}return n}function PC(t,e){const n={},r=l(t,["name"]);r!=null&&u(n,["model"],r);const o=l(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function MC(t,e){const n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(n,["examples","examples"],o)}return n}function DC(t,e,n){const r={};let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Hh(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(n,["name"],o);const i=l(t,["state"]);i!=null&&u(n,["state"],oh(i));const s=l(t,["createTime"]);s!=null&&u(n,["createTime"],s);const a=l(t,["tuningTask","startTime"]);a!=null&&u(n,["startTime"],a);const c=l(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const d=l(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);const f=l(t,["description"]);f!=null&&u(n,["description"],f);const h=l(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);const p=l(t,["_self"]);return p!=null&&u(n,["tunedModel"],PC(p)),n}function bl(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(n,["name"],o);const i=l(t,["state"]);i!=null&&u(n,["state"],oh(i));const s=l(t,["createTime"]);s!=null&&u(n,["createTime"],s);const a=l(t,["startTime"]);a!=null&&u(n,["startTime"],a);const c=l(t,["endTime"]);c!=null&&u(n,["endTime"],c);const d=l(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);const f=l(t,["error"]);f!=null&&u(n,["error"],f);const h=l(t,["description"]);h!=null&&u(n,["description"],h);const p=l(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const m=l(t,["tunedModel"]);m!=null&&u(n,["tunedModel"],m);const E=l(t,["preTunedModel"]);E!=null&&u(n,["preTunedModel"],E);const v=l(t,["supervisedTuningSpec"]);v!=null&&u(n,["supervisedTuningSpec"],v);const w=l(t,["preferenceOptimizationSpec"]);w!=null&&u(n,["preferenceOptimizationSpec"],w);const g=l(t,["tuningDataStats"]);g!=null&&u(n,["tuningDataStats"],g);const y=l(t,["encryptionSpec"]);y!=null&&u(n,["encryptionSpec"],y);const S=l(t,["partnerModelTuningSpec"]);S!=null&&u(n,["partnerModelTuningSpec"],S);const T=l(t,["customBaseModel"]);T!=null&&u(n,["customBaseModel"],T);const I=l(t,["experiment"]);I!=null&&u(n,["experiment"],I);const N=l(t,["labels"]);N!=null&&u(n,["labels"],N);const k=l(t,["outputUri"]);k!=null&&u(n,["outputUri"],k);const M=l(t,["pipelineJob"]);M!=null&&u(n,["pipelineJob"],M);const P=l(t,["serviceAccount"]);P!=null&&u(n,["serviceAccount"],P);const V=l(t,["tunedModelDisplayName"]);V!=null&&u(n,["tunedModelDisplayName"],V);const j=l(t,["veoTuningSpec"]);return j!=null&&u(n,["veoTuningSpec"],j),n}function LC(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(n,["name"],o);const i=l(t,["metadata"]);i!=null&&u(n,["metadata"],i);const s=l(t,["done"]);s!=null&&u(n,["done"],s);const a=l(t,["error"]);return a!=null&&u(n,["error"],a),n}function Dd(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&u(n,["validationDatasetUri"],r);const o=l(t,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends Yt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Un(Jt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),i=await this.tuneMldevInternal(o);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Il.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=TC(e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>bl(f))}else{const d=CC(e);return a=te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Hh(f))}}async listInternal(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=kC(e);return a=te("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=NC(f),p=new id;return Object.assign(p,h),p})}else{const d=AC(e);return a=te("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=RC(f),p=new id;return Object.assign(p,h),p})}}async cancel(e){var n,r,o,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const d=gC(e);return a=te("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=vC(f),p=new sd;return Object.assign(p,h),p})}else{const d=mC(e);return a=te("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=yC(f),p=new sd;return Object.assign(p,h),p})}}async tuneInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=wC(e,e);return i=te("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>bl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=EC(e);return i=te("tunedModels",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>LC(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bC=1024*1024*8,VC=3,zC=1e3,BC=2,Pi="x-goog-upload-status";async function GC(t,e,n){var r;const o=await Oh(t,e,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Pi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function HC(t,e,n){var r;const o=await Oh(t,e,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Pi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Qp(i),a=new La;return Object.assign(a,s),a}async function Oh(t,e,n){var r,o;let i=0,s=0,a=new xl(new Response),c="upload";for(i=t.size;s<i;){const d=Math.min(bC,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let h=0,p=zC;for(;h<VC&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Pi]));)h++,await qC(p),p=p*BC;if(s+=d,((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Pi])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function OC(t){return{size:t.size,type:t.type}}function qC(t){return new Promise(e=>setTimeout(e,t))}class $C{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GC(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HC(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC{create(e,n,r){return new JC(e,n,r)}}class JC{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ld="x-goog-api-key";class KC{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Ld)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ld,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YC="gl-node/";class ZC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new be({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=qy(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new KC(this.apiKey);this.apiClient=new OE({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:YC+"web",uploader:new $C,downloader:new FC}),this.models=new aw(this.apiClient),this.live=new nw(this.apiClient,o,new WC),this.batches=new _0(this.apiClient),this.chats=new e_(this.models,this.apiClient),this.caches=new X0(this.apiClient),this.files=new c_(this.apiClient),this.operations=new uw(this.apiClient),this.authTokens=new Iw(this.apiClient),this.tunings=new UC(this.apiClient),this.fileSearchStores=new Dw(this.apiClient)}}const Ha=new ZC({apiKey:"AIzaSyCZSqy5CN2DSbm0BWii3k7z4qtrhitzB8Q"}),Oa="gemini-2.5-flash",XC=6e4,QC=(t,e)=>{let n=e.length;const r=[];for(let o=t.length-1;o>=0;o--){const i=t[o],s=i.content.length;if(n+s<XC)r.unshift(i),n+=s;else break}return r},qh=t=>{try{let e=t.trim();const n=e.match(/```json\s*([\s\S]*?)\s*```/)||e.match(/```\s*([\s\S]*?)\s*```/);return n&&n[1]&&(e=n[1]),JSON.parse(e)}catch(e){console.warn("JSON extraction failed, attempting fallback parsing.",e);try{const n=t.indexOf("{"),r=t.lastIndexOf("}");if(n!==-1&&r!==-1)return JSON.parse(t.substring(n,r+1));const o=t.indexOf("["),i=t.lastIndexOf("]");if(o!==-1&&i!==-1)return JSON.parse(t.substring(o,i+1))}catch{}}return null},jC=(t,e)=>{const n=i=>{const s=i?i.match(/([0-5]\.\d)/):null;return s?s[0]:e&&e!=="N/A"&&/^[0-5](\.\d)?$/.test(e)?e:i&&/^[1-5]$/.test(i)?i+".0":"N/A"},r=i=>{if(!i||i==="N/A")return"N/A";let s=i.replace(/downloads|over|approx|more than|installations/gi,"").trim();s.match(/million/i)&&(s=s.replace(/million/i,"M")),s.match(/billion/i)&&(s=s.replace(/billion/i,"B")),s.match(/thousand/i)&&(s=s.replace(/thousand/i,"k"));const a=s.match(/(\d{1,3}(,\d{3})+(\+)?)|(\d+(\.\d+)?\s*[MBK]\+?)|(\d+\+)|(\d{3,}\+?)/i);return a?a[0].toUpperCase().replace(/\s/g,""):"N/A"},o=i=>{if(!i)return;const s=i.match(/([A-Z][a-z]{2,}\s\d{1,2},\s\d{4})|(\d{4}-\d{2}-\d{2})|(\d{1,2}\s[A-Z][a-z]{2,}\s\d{4})/i);if(s)return s[0]};return{...t,reviewSummary:t.reviewSummary||"No review summary could be generated.",authenticity:t.authenticity||"Authenticity check could not be completed.",background:t.background||"Developer background information unavailable.",rating:n(t.rating),downloads:r(t.downloads),lastUpdated:o(t.lastUpdated||"")}},eT=async t=>{try{const e=`site:play.google.com/store/apps/details ${t}`,n=await Ha.models.generateContent({model:Oa,contents:`
        Perform a Google Search for: "${e}".
        
        Task: Find REAL Android apps listed on the Google Play Store (play.google.com).
        Strictly extract details from the search snippets.
        
        Return a JSON array of the top 3 results.
        
        Format:
        [
          {
            "name": "Exact App Name",
            "developer": "Developer Name",
            "description": "Short description.",
            "rating": "4.5" 
          }
        ]
      `,config:{tools:[{googleSearch:{}}]}});return(qh(n.text||"[]")||[]).map(o=>{var i;return{...o,rating:o.rating&&((i=o.rating.match(/([0-5](\.\d)?)/))==null?void 0:i[0])||"N/A"}})}catch(e){throw console.error("Error searching apps:",e),e}},tT=async t=>{var e,n,r;try{const o=await Ha.models.generateContent({model:Oa,contents:`
        Analyze the Android app "${t.name}" by "${t.developer}".
        
        Use Google Search to find the official Google Play Store page.
        
        Extract the following statistics:
        1. Rating: The star rating (e.g., 4.5).
        2. Downloads: The number of downloads (e.g., "100M+", "1B+", "50k+").
        3. Last Updated: The date of the last update.
        4. Review Summary: Summarize user sentiment.
        5. Authenticity: Is this the official app?
        6. Background: Developer info.

        Return strictly valid JSON:
        {
          "reviewSummary": "...",
          "authenticity": "...",
          "background": "...",
          "rating": "4.5",
          "downloads": "100M+",
          "lastUpdated": "Oct 24, 2024"
        }
      `,config:{tools:[{googleSearch:{}}]}}),i=qh(o.text||"{}");if(!i)throw new Error("Could not parse analysis");const s=[],a=(r=(n=(e=o.candidates)==null?void 0:e[0])==null?void 0:n.groundingMetadata)==null?void 0:r.groundingChunks;return a&&a.forEach(d=>{var f;(f=d.web)!=null&&f.uri&&s.push(d.web.uri)}),{...jC(i,t.rating),groundingUrls:Array.from(new Set(s))}}catch(o){throw console.error("Error analyzing app:",o),o}},nT=async(t,e,n,r)=>{const o=`
    You are an expert app safety assistant.
    App: "${n.name}" by "${n.developer}".
    
    Stats:
    - Rating: ${r.rating}
    - Downloads: ${r.downloads}
    
    Analysis Context:
    - Reviews: ${r.reviewSummary}
    - Safety: ${r.authenticity}
    - Dev: ${r.background}
    
    Answer concisely. Do not use LaTeX or markdown math syntax (like $ or \\frac). Use plain text or simple arithmetic notation for formulas.
  `,s=[...QC(t,o+e).map(a=>({role:a.role,parts:[{text:a.content}]})),{role:"user",parts:[{text:e}]}];try{return(await Ha.models.generateContent({model:Oa,contents:s,config:{systemInstruction:o}})).text||"No response generated."}catch(a){throw console.error("Chat error:",a),a}},Bo=({content:t,className:e=""})=>{if(!t)return null;const n=s=>s.split(/(\*\*.*?\*\*|`.*?`)/g).map((c,d)=>c.startsWith("**")&&c.endsWith("**")?U.jsx("strong",{className:"font-bold text-gray-900",children:c.slice(2,-2)},d):c.startsWith("`")&&c.endsWith("`")?U.jsx("code",{className:"bg-gray-100 text-indigo-700 px-1.5 py-0.5 rounded text-sm font-mono border border-gray-200",children:c.slice(1,-1)},d):c),r=t.split(`
`),o=[];let i=[];return r.forEach((s,a)=>{const c=s.trim();if(c.startsWith("- ")||c.startsWith("* ")){const f=c.substring(2);i.push(U.jsx("li",{className:"mb-1",children:n(f)},`li-${a}`))}else{if(i.length>0&&(o.push(U.jsx("ul",{className:"list-disc pl-5 mb-4 space-y-1 text-gray-700",children:[...i]},`ul-${a}`)),i=[]),!c)return;o.push(U.jsx("p",{className:"mb-3 last:mb-0 leading-relaxed text-gray-700",children:n(c)},`p-${a}`))}}),i.length>0&&o.push(U.jsx("ul",{className:"list-disc pl-5 mb-4 space-y-1 text-gray-700",children:[...i]},"ul-last")),U.jsx("div",{className:e,children:o})},rT=({app:t,analysis:e,onBack:n})=>{const[r,o]=Re.useState("reviews"),[i,s]=Re.useState([]),[a,c]=Re.useState(""),[d,f]=Re.useState(!1),h=Re.useRef(null),p=()=>{var v;(v=h.current)==null||v.scrollIntoView({behavior:"smooth"})};Re.useEffect(()=>{p()},[i,d]);const m=async v=>{if(v.preventDefault(),!a.trim()||d)return;const w={role:"user",content:a};s(g=>[...g,w]),c(""),f(!0);try{const y={role:"model",content:await nT(i,w.content,t,e)};s(S=>[...S,y])}catch(g){console.error("Chat error:",g);const y={role:"model",content:"Sorry, I encountered an error. Please try again."};s(S=>[...S,y])}finally{f(!1)}},E=()=>{switch(r){case"reviews":return U.jsxs("div",{className:"space-y-4 animate-fade-in",children:[U.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[U.jsx(Cl,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Review Analysis"]}),U.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:U.jsx(Bo,{content:e.reviewSummary})})]});case"authenticity":return U.jsxs("div",{className:"space-y-4 animate-fade-in",children:[U.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[U.jsx(Xp,{className:"h-5 w-5 text-emerald-600 mr-2"}),"Authenticity & Safety"]}),U.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:U.jsx(Bo,{content:e.authenticity})})]});case"background":return U.jsxs("div",{className:"space-y-4 animate-fade-in",children:[U.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[U.jsx(Py,{className:"h-5 w-5 text-blue-600 mr-2"}),"Developer Background"]}),U.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:U.jsx(Bo,{content:e.background})})]})}};return U.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-6rem)] flex flex-col md:flex-row gap-6 animate-fade-in",children:[U.jsxs("div",{className:"w-full md:w-1/2 lg:w-3/5 flex flex-col overflow-hidden rounded-3xl bg-gray-50 border border-gray-200 shadow-xl",children:[U.jsxs("div",{className:"bg-white border-b border-gray-100 p-6",children:[U.jsxs("button",{onClick:n,className:"flex items-center text-sm text-gray-500 hover:text-indigo-600 mb-4 transition-colors w-fit",children:[U.jsx(Ay,{className:"h-4 w-4 mr-1"})," Back to Search"]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:t.name}),U.jsxs("div",{className:"flex items-center text-gray-500 font-medium",children:[U.jsx(Fy,{className:"h-4 w-4 mr-1"}),t.developer]})]}),U.jsxs("div",{className:"flex flex-wrap gap-3",children:[U.jsxs("div",{className:"flex-1 min-w-[100px] flex flex-col items-center justify-center p-3 bg-indigo-50 rounded-xl",children:[U.jsx("span",{className:"text-xs font-semibold text-indigo-400 uppercase tracking-wide mb-1",children:"Downloads"}),U.jsxs("div",{className:"flex items-center text-indigo-700 font-bold text-lg",children:[U.jsx(Yp,{className:"h-4 w-4 mr-1"}),e.downloads||"N/A"]})]}),U.jsxs("div",{className:"flex-1 min-w-[100px] flex flex-col items-center justify-center p-3 bg-yellow-50 rounded-xl",children:[U.jsx("span",{className:"text-xs font-semibold text-yellow-500 uppercase tracking-wide mb-1",children:"Rating"}),U.jsxs("div",{className:"flex items-center text-yellow-700 font-bold text-lg",children:[U.jsx(Cl,{className:"h-4 w-4 mr-1 fill-current"}),e.rating||"N/A"]})]}),e.lastUpdated&&U.jsxs("div",{className:"flex-1 min-w-[100px] flex flex-col items-center justify-center p-3 bg-green-50 rounded-xl",children:[U.jsx("span",{className:"text-xs font-semibold text-green-500 uppercase tracking-wide mb-1",children:"Updated"}),U.jsxs("div",{className:"flex items-center text-green-700 font-bold text-sm text-center whitespace-nowrap",children:[U.jsx(xy,{className:"h-4 w-4 mr-1"}),e.lastUpdated]})]})]})]}),U.jsx("div",{className:"flex border-b border-gray-200 bg-white px-6",children:["reviews","authenticity","background"].map(v=>U.jsx("button",{onClick:()=>o(v),className:`pb-4 pt-4 px-4 font-medium text-sm transition-all border-b-2 ${r===v?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[E(),e.groundingUrls&&e.groundingUrls.length>0&&U.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[U.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Sources"}),U.jsx("ul",{className:"space-y-2",children:e.groundingUrls.map((v,w)=>U.jsx("li",{children:U.jsxs("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-gray-500 hover:text-indigo-600 transition-colors truncate",children:[U.jsx(ky,{className:"h-3 w-3 mr-2 flex-shrink-0"}),v]})},w))})]})]})]}),U.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 flex flex-col bg-white rounded-3xl border border-gray-200 shadow-xl overflow-hidden",children:[U.jsxs("div",{className:"p-4 border-b border-gray-100 bg-indigo-600 text-white flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center space-x-2",children:[U.jsx(tc,{className:"h-5 w-5"}),U.jsx("h3",{className:"font-semibold",children:"AI Assistant"})]}),U.jsx("span",{className:"text-xs bg-indigo-500 px-2 py-1 rounded-md opacity-90",children:"gemini-2.0-flash-exp"})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[i.length===0&&U.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[U.jsx(My,{className:"h-12 w-12 mb-3 opacity-20"}),U.jsxs("p",{className:"text-sm",children:["Ask me anything about ",t.name,"!"]}),U.jsx("p",{className:"text-xs mt-2 opacity-60",children:"I can explain reviews, safety concerns, or comparisons."})]}),i.map((v,w)=>U.jsx("div",{className:`flex w-full ${v.role==="user"?"justify-end":"justify-start"}`,children:U.jsxs("div",{className:`flex max-w-[85%] rounded-2xl p-4 text-sm ${v.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white text-gray-800 border border-gray-100 shadow-sm rounded-tl-none"}`,children:[v.role==="model"&&U.jsx(tc,{className:"h-4 w-4 text-indigo-500 mr-2 flex-shrink-0 mt-0.5"}),U.jsx("div",{className:"w-full",children:U.jsx(Bo,{content:v.content,className:v.role==="user"?"text-white":"text-gray-800"})})]})},w)),d&&U.jsx("div",{className:"flex justify-start w-full",children:U.jsxs("div",{className:"bg-white border border-gray-100 shadow-sm rounded-2xl rounded-tl-none p-4 flex items-center space-x-2",children:[U.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),U.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),U.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),U.jsx("div",{ref:h})]}),U.jsx("form",{onSubmit:m,className:"p-4 bg-white border-t border-gray-100",children:U.jsxs("div",{className:"relative",children:[U.jsx("input",{type:"text",value:a,onChange:v=>c(v.target.value),placeholder:"Type your question...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm"}),U.jsx("button",{type:"submit",disabled:!a.trim()||d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:bg-gray-400 transition-colors",children:U.jsx(Ly,{className:"h-4 w-4"})})]})})]})]})};var We=(t=>(t.SEARCH="SEARCH",t.SELECTING="SELECTING",t.ANALYZING="ANALYZING",t.DASHBOARD="DASHBOARD",t))(We||{});function Go(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $h={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,o,i){function s(d,f){if(!o[d]){if(!r[d]){var h=typeof Go=="function"&&Go;if(!f&&h)return h(d,!0);if(a)return a(d,!0);var p=new Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p}var m=o[d]={exports:{}};r[d][0].call(m.exports,function(E){var v=r[d][1][E];return s(v||E)},m,m.exports,n,r,o,i)}return o[d].exports}for(var a=typeof Go=="function"&&Go,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(n,r,o){var i=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(c){for(var d,f,h,p,m,E,v,w=[],g=0,y=c.length,S=y,T=i.getTypeOf(c)!=="string";g<c.length;)S=y-g,h=T?(d=c[g++],f=g<y?c[g++]:0,g<y?c[g++]:0):(d=c.charCodeAt(g++),f=g<y?c.charCodeAt(g++):0,g<y?c.charCodeAt(g++):0),p=d>>2,m=(3&d)<<4|f>>4,E=1<S?(15&f)<<2|h>>6:64,v=2<S?63&h:64,w.push(a.charAt(p)+a.charAt(m)+a.charAt(E)+a.charAt(v));return w.join("")},o.decode=function(c){var d,f,h,p,m,E,v=0,w=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&S--,c.charAt(c.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|S):new Array(0|S);v<c.length;)d=a.indexOf(c.charAt(v++))<<2|(p=a.indexOf(c.charAt(v++)))>>4,f=(15&p)<<4|(m=a.indexOf(c.charAt(v++)))>>2,h=(3&m)<<6|(E=a.indexOf(c.charAt(v++))),y[w++]=d,m!==64&&(y[w++]=f),E!==64&&(y[w++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,r,o){var i=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(f,h,p,m,E){this.compressedSize=f,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=E}d.prototype={getContentWorker:function(){var f=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return f.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,h,p){return f.pipe(new a).pipe(new c("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var i=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var i=n("./utils"),s=function(){for(var a,c=[],d=0;d<256;d++){a=d;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;c[d]=a}return c}();r.exports=function(a,c){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(d,f,h,p){var m=s,E=p+h;d^=-1;for(var v=p;v<E;v++)d=d>>>8^m[255&(d^f[v])];return-1^d}(0|c,a,a.length,0):function(d,f,h,p){var m=s,E=p+h;d^=-1;for(var v=p;v<E;v++)d=d>>>8^m[255&(d^f.charCodeAt(v))];return-1^d}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),d=i?"uint8array":"array";function f(h,p){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}o.magic="\b\0",a.inherits(f,c),f.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(d,h.data),!1)},f.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},o.compressWorker=function(h){return new f("Deflate",h)},o.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function i(m,E){var v,w="";for(v=0;v<E;v++)w+=String.fromCharCode(255&m),m>>>=8;return w}function s(m,E,v,w,g,y){var S,T,I=m.file,N=m.compression,k=y!==d.utf8encode,M=a.transformTo("string",y(I.name)),P=a.transformTo("string",d.utf8encode(I.name)),V=I.comment,j=a.transformTo("string",y(V)),R=a.transformTo("string",d.utf8encode(V)),z=P.length!==I.name.length,C=R.length!==V.length,H="",oe="",W="",$=I.dir,G=I.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};E&&!v||(Z.crc32=m.crc32,Z.compressedSize=m.compressedSize,Z.uncompressedSize=m.uncompressedSize);var F=0;E&&(F|=8),k||!z&&!C||(F|=2048);var L=0,ie=0;$&&(L|=16),g==="UNIX"?(ie=798,L|=function(Q,he){var Ie=Q;return Q||(Ie=he?16893:33204),(65535&Ie)<<16}(I.unixPermissions,$)):(ie=20,L|=function(Q){return 63&(Q||0)}(I.dosPermissions)),S=G.getUTCHours(),S<<=6,S|=G.getUTCMinutes(),S<<=5,S|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),z&&(oe=i(1,1)+i(f(M),4)+P,H+="up"+i(oe.length,2)+oe),C&&(W=i(1,1)+i(f(j),4)+R,H+="uc"+i(W.length,2)+W);var ee="";return ee+=`
\0`,ee+=i(F,2),ee+=N.magic,ee+=i(S,2),ee+=i(T,2),ee+=i(Z.crc32,4),ee+=i(Z.compressedSize,4),ee+=i(Z.uncompressedSize,4),ee+=i(M.length,2),ee+=i(H.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ee+M+H,dirRecord:h.CENTRAL_FILE_HEADER+i(ie,2)+ee+i(j.length,2)+"\0\0\0\0"+i(L,4)+i(w,4)+M+H+j}}var a=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),f=n("../crc32"),h=n("../signature");function p(m,E,v,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=v,this.encodeFileName=w,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,c),p.prototype.push=function(m){var E=m.meta.percent||0,v=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(E+100*(v-w-1))/v:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var E=this.streamFiles&&!m.file.dir;if(E){var v=s(m,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var E=this.streamFiles&&!m.file.dir,v=s(m,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),E)this.push({data:function(w){return h.DATA_DESCRIPTOR+i(w.crc32,4)+i(w.compressedSize,4)+i(w.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var v=this.bytesWritten-m,w=function(g,y,S,T,I){var N=a.transformTo("string",I(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(y,4)+i(S,4)+i(N.length,2)+N}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var E=this;return m.on("data",function(v){E.processChunk(v)}),m.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),m.on("error",function(v){E.error(v)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var E=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var v=0;v<E.length;v++)try{E[v].error(m)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,E=0;E<m.length;E++)m[E].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var i=n("../compressions"),s=n("./ZipFileWorker");o.generateWorker=function(a,c,d){var f=new s(c.streamFiles,d,c.platform,c.encodeFileName),h=0;try{a.forEach(function(p,m){h++;var E=function(y,S){var T=y||S,I=i[T];if(!I)throw new Error(T+" is not a valid compression method !");return I}(m.options.compression,c.compression),v=m.options.compressionOptions||c.compressionOptions||{},w=m.dir,g=m.date;m._compressWorker(E,v).withStreamInfo("file",{name:p,dir:w,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=h}catch(p){f.error(p)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var i=n("./utils"),s=n("./external"),a=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function h(p){return new s.Promise(function(m,E){var v=p.decompressed.getContentWorker().pipe(new d);v.on("error",function(w){E(w)}).on("end",function(){v.streamInfo.crc32!==p.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var E=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(v){var w=new c(m);return w.load(v),w}).then(function(v){var w=[s.Promise.resolve(v)],g=v.files;if(m.checkCRC32)for(var y=0;y<g.length;y++)w.push(h(g[y]));return s.Promise.all(w)}).then(function(v){for(var w=v.shift(),g=w.files,y=0;y<g.length;y++){var S=g[y],T=S.fileNameStr,I=i.resolve(S.fileNameStr);E.file(I,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:m.createFolders}),S.dir||(E.file(I).unsafeOriginalName=T)}return w.zipComment.length&&(E.comment=w.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var i=n("../utils"),s=n("../stream/GenericWorker");function a(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(a,s),a.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var i=n("readable-stream").Readable;function s(a,c,d){i.call(this,c),this._helper=a;var f=this;a.on("data",function(h,p){f.push(h)||f._helper.pause(),d&&d(p)}).on("error",function(h){f.emit("error",h)}).on("end",function(){f.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,o){function i(I,N,k){var M,P=a.getTypeOf(N),V=a.extend(k||{},f);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(I=g(I)),V.createFolders&&(M=w(I))&&y.call(this,M,!0);var j=P==="string"&&V.binary===!1&&V.base64===!1;k&&k.binary!==void 0||(V.binary=!j),(N instanceof h&&N.uncompressedSize===0||V.dir||!N||N.length===0)&&(V.base64=!1,V.binary=!0,N="",V.compression="STORE",P="string");var R=null;R=N instanceof h||N instanceof c?N:E.isNode&&E.isStream(N)?new v(I,N):a.prepareContent(I,N,V.binary,V.optimizedBinaryString,V.base64);var z=new p(I,R,V);this.files[I]=z}var s=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),f=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),E=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),w=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var N=I.lastIndexOf("/");return 0<N?I.substring(0,N):""},g=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},y=function(I,N){return N=N!==void 0?N:f.createFolders,I=g(I),this.files[I]||i.call(this,I,null,{dir:!0,createFolders:N}),this.files[I]};function S(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var N,k,M;for(N in this.files)M=this.files[N],(k=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&I(k,M)},filter:function(I){var N=[];return this.forEach(function(k,M){I(k,M)&&N.push(M)}),N},file:function(I,N,k){if(arguments.length!==1)return I=this.root+I,i.call(this,I,N,k),this;if(S(I)){var M=I;return this.filter(function(V,j){return!j.dir&&M.test(V)})}var P=this.files[this.root+I];return P&&!P.dir?P:null},folder:function(I){if(!I)return this;if(S(I))return this.filter(function(P,V){return V.dir&&I.test(P)});var N=this.root+I,k=y.call(this,N),M=this.clone();return M.root=k.name,M},remove:function(I){I=this.root+I;var N=this.files[I];if(N||(I.slice(-1)!=="/"&&(I+="/"),N=this.files[I]),N&&!N.dir)delete this.files[I];else for(var k=this.filter(function(P,V){return V.name.slice(0,I.length)===I}),M=0;M<k.length;M++)delete this.files[k[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var N,k={};try{if((k=a.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");a.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var M=k.comment||this.comment||"";N=m.generateWorker(this,k,M)}catch(P){(N=new c("error")).error(P)}return new d(N,k.type||"string",k.mimeType)},generateAsync:function(I,N){return this.generateInternalStream(I).accumulate(N)},generateNodeStream:function(I,N){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(N)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var i=n("./DataReader");function s(a){i.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),d=a.charCodeAt(1),f=a.charCodeAt(2),h=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===d&&this.data[p+2]===f&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),d=a.charCodeAt(1),f=a.charCodeAt(2),h=a.charCodeAt(3),p=this.readData(4);return c===p[0]&&d===p[1]&&f===p[2]&&h===p[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var i=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,d=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=a,d},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,o){var i=n("./Uint8ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var i=n("./DataReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var i=n("./ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var i=n("../utils"),s=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(h){var p=i.getTypeOf(h);return i.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new d(h):s.uint8array?new f(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var i=n("./GenericWorker"),s=n("../utils");function a(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(a,i),a.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var i=n("./GenericWorker"),s=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var i=n("../utils"),s=n("./GenericWorker");function a(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(a,s),a.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var i=n("../utils"),s=n("./GenericWorker");function a(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=i.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(c){a.processChunk(c)}),s.on("end",function(){a.end()}),s.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,o){var i=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),d=n("../support"),f=n("../external"),h=null;if(d.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(E,v){return new f.Promise(function(w,g){var y=[],S=E._internalType,T=E._outputType,I=E._mimeType;E.on("data",function(N,k){y.push(N),v&&v(k)}).on("error",function(N){y=[],g(N)}).on("end",function(){try{var N=function(k,M,P){switch(k){case"blob":return i.newBlob(i.transformTo("arraybuffer",M),P);case"base64":return c.encode(M);default:return i.transformTo(k,M)}}(T,function(k,M){var P,V=0,j=null,R=0;for(P=0;P<M.length;P++)R+=M[P].length;switch(k){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(j=new Uint8Array(R),P=0;P<M.length;P++)j.set(M[P],V),V+=M[P].length;return j;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+k+"'")}}(S,y),I);w(N)}catch(k){g(k)}y=[]}).resume()})}function m(E,v,w){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=w,i.checkSupport(g),this._worker=E.pipe(new s(g)),E.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}m.prototype={accumulate:function(E){return p(this,E)},on:function(E,v){var w=this;return E==="data"?this._worker.on(E,function(g){v.call(w,g.data,g.meta)}):this._worker.on(E,function(){i.delay(v,arguments,w)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},E)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),o.blob=s.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var i=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}o.utf8encode=function(m){return s.nodebuffer?a.newBufferFrom(m,"utf-8"):function(E){var v,w,g,y,S,T=E.length,I=0;for(y=0;y<T;y++)(64512&(w=E.charCodeAt(y)))==55296&&y+1<T&&(64512&(g=E.charCodeAt(y+1)))==56320&&(w=65536+(w-55296<<10)+(g-56320),y++),I+=w<128?1:w<2048?2:w<65536?3:4;for(v=s.uint8array?new Uint8Array(I):new Array(I),y=S=0;S<I;y++)(64512&(w=E.charCodeAt(y)))==55296&&y+1<T&&(64512&(g=E.charCodeAt(y+1)))==56320&&(w=65536+(w-55296<<10)+(g-56320),y++),w<128?v[S++]=w:(w<2048?v[S++]=192|w>>>6:(w<65536?v[S++]=224|w>>>12:(v[S++]=240|w>>>18,v[S++]=128|w>>>12&63),v[S++]=128|w>>>6&63),v[S++]=128|63&w);return v}(m)},o.utf8decode=function(m){return s.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(E){var v,w,g,y,S=E.length,T=new Array(2*S);for(v=w=0;v<S;)if((g=E[v++])<128)T[w++]=g;else if(4<(y=d[g]))T[w++]=65533,v+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&v<S;)g=g<<6|63&E[v++],y--;1<y?T[w++]=65533:g<65536?T[w++]=g:(g-=65536,T[w++]=55296|g>>10&1023,T[w++]=56320|1023&g)}return T.length!==w&&(T.subarray?T=T.subarray(0,w):T.length=w),i.applyFromCharCode(T)}(m=i.transformTo(s.uint8array?"uint8array":"array",m))},i.inherits(h,c),h.prototype.processChunk=function(m){var E=i.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=E;(E=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),E.set(v,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var w=function(y,S){var T;for((S=S||y.length)>y.length&&(S=y.length),T=S-1;0<=T&&(192&y[T])==128;)T--;return T<0||T===0?S:T+d[y[T]]>S?T:S}(E),g=E;w!==E.length&&(s.uint8array?(g=E.subarray(0,w),this.leftOver=E.subarray(w,E.length)):(g=E.slice(0,w),this.leftOver=E.slice(w,E.length))),this.push({data:o.utf8decode(g),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,i.inherits(p,c),p.prototype.processChunk=function(m){this.push({data:o.utf8encode(m.data),meta:m.meta})},o.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var i=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function d(v){return v}function f(v,w){for(var g=0;g<v.length;++g)w[g]=255&v.charCodeAt(g);return w}n("setimmediate"),o.newBlob=function(v,w){o.checkSupport("blob");try{return new Blob([v],{type:w})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,w,g){var y=[],S=0,T=v.length;if(T<=g)return String.fromCharCode.apply(null,v);for(;S<T;)w==="array"||w==="nodebuffer"?y.push(String.fromCharCode.apply(null,v.slice(S,Math.min(S+g,T)))):y.push(String.fromCharCode.apply(null,v.subarray(S,Math.min(S+g,T)))),S+=g;return y.join("")},stringifyByChar:function(v){for(var w="",g=0;g<v.length;g++)w+=String.fromCharCode(v[g]);return w},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(v){var w=65536,g=o.getTypeOf(v),y=!0;if(g==="uint8array"?y=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<w;)try{return h.stringifyByChunk(v,g,w)}catch{w=Math.floor(w/2)}return h.stringifyByChar(v)}function m(v,w){for(var g=0;g<v.length;g++)w[g]=v[g];return w}o.applyFromCharCode=p;var E={};E.string={string:d,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return E.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,a.allocBuffer(v.length))}},E.array={string:p,array:d,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(v)}},E.arraybuffer={string:function(v){return p(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:d,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(new Uint8Array(v))}},E.uint8array={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:d,nodebuffer:function(v){return a.newBufferFrom(v)}},E.nodebuffer={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return E.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:d},o.transformTo=function(v,w){if(w=w||"",!v)return w;o.checkSupport(v);var g=o.getTypeOf(w);return E[g][v](w)},o.resolve=function(v){for(var w=v.split("/"),g=[],y=0;y<w.length;y++){var S=w[y];S==="."||S===""&&y!==0&&y!==w.length-1||(S===".."?g.pop():g.push(S))}return g.join("/")},o.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(v)?"nodebuffer":i.uint8array&&v instanceof Uint8Array?"uint8array":i.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(v){if(!i[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(v){var w,g,y="";for(g=0;g<(v||"").length;g++)y+="\\x"+((w=v.charCodeAt(g))<16?"0":"")+w.toString(16).toUpperCase();return y},o.delay=function(v,w,g){setImmediate(function(){v.apply(g||null,w||[])})},o.inherits=function(v,w){function g(){}g.prototype=w.prototype,v.prototype=new g},o.extend=function(){var v,w,g={};for(v=0;v<arguments.length;v++)for(w in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],w)&&g[w]===void 0&&(g[w]=arguments[v][w]);return g},o.prepareContent=function(v,w,g,y,S){return c.Promise.resolve(w).then(function(T){return i.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(I,N){var k=new FileReader;k.onload=function(M){I(M.target.result)},k.onerror=function(M){N(M.target.error)},k.readAsArrayBuffer(T)}):T}).then(function(T){var I=o.getTypeOf(T);return I?(I==="arraybuffer"?T=o.transformTo("uint8array",T):I==="string"&&(S?T=s.decode(T):g&&y!==!0&&(T=function(N){return f(N,i.uint8array?new Uint8Array(N.length):new Array(N.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),c=n("./zipEntry"),d=n("./support");function f(h){this.files=[],this.loadOptions=h}f.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var E=this.reader.readString(4)===p;return this.reader.setIndex(m),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=d.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,E=this.zip64EndOfCentralSize-44;0<E;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var E=p-m;if(0<E)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),f=n("./compressions"),h=n("./support");function p(m,E){this.options=m,this.loadOptions=E}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var E,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=function(w){for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)&&f[g].magic===w)return f[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,E,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var E=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(E),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var E,v,w,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)E=m.readInt(2),v=m.readInt(2),w=m.readData(v),this.extraFields[E]={id:E,length:v,value:w};m.setIndex(g)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var v=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var g=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var E=i(m.value);return E.readInt(1)!==1||c(this.fileName)!==E.readInt(4)?null:d.utf8decode(E.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var E=i(m.value);return E.readInt(1)!==1||c(this.fileComment)!==E.readInt(4)?null:d.utf8decode(E.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function i(E,v,w){this.name=E,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=v,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),f=n("./stream/GenericWorker");i.prototype={internalStream:function(E){var v=null,w="string";try{if(!E)throw new Error("No output type specified.");var g=(w=E.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),v=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(v=v.pipe(new c.Utf8EncodeWorker)),!y&&g&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(S){(v=new f("error")).error(S)}return new s(v,w,"")},async:function(E,v){return this.internalStream(E).accumulate(v)},nodeStream:function(E,v){return this.internalStream(E||"nodebuffer").toNodejsStream(v)},_compressWorker:function(E,v){if(this._data instanceof d&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(w,E,v)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)i.prototype[h[m]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(i){var s,a,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var d=0,f=new c(E),h=i.document.createTextNode("");f.observe(h,{characterData:!0}),s=function(){h.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var v=i.document.createElement("script");v.onreadystatechange=function(){E(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:function(){setTimeout(E,0)};else{var p=new i.MessageChannel;p.port1.onmessage=E,s=function(){p.port2.postMessage(0)}}var m=[];function E(){var v,w;a=!0;for(var g=m.length;g;){for(w=m,m=[],v=-1;++v<g;)w[v]();g=m.length}a=!1}r.exports=function(v){m.push(v)!==1||a||s()}}).call(this,typeof yo<"u"?yo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var i=n("immediate");function s(){}var a={},c=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,g!==s&&v(this,g)}function p(g,y,S){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function m(g,y,S){i(function(){var T;try{T=y(S)}catch(I){return a.reject(g,I)}T===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,T)})}function E(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function v(g,y){var S=!1;function T(k){S||(S=!0,a.reject(g,k))}function I(k){S||(S=!0,a.resolve(g,k))}var N=w(function(){y(I,T)});N.status==="error"&&T(N.value)}function w(g,y){var S={};try{S.value=g(y),S.status="success"}catch(T){S.status="error",S.value=T}return S}(r.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(S){return y.resolve(g()).then(function(){return S})},function(S){return y.resolve(g()).then(function(){throw S})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,y){if(typeof g!="function"&&this.state===d||typeof y!="function"&&this.state===c)return this;var S=new this.constructor(s);return this.state!==f?m(S,this.state===d?g:y,this.outcome):this.queue.push(new p(S,g,y)),S},p.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){a.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,y){var S=w(E,y);if(S.status==="error")return a.reject(g,S.value);var T=S.value;if(T)v(g,T);else{g.state=d,g.outcome=y;for(var I=-1,N=g.queue.length;++I<N;)g.queue[I].callFulfilled(y)}return g},a.reject=function(g,y){g.state=c,g.outcome=y;for(var S=-1,T=g.queue.length;++S<T;)g.queue[S].callRejected(y);return g},h.resolve=function(g){return g instanceof this?g:a.resolve(new this(s),g)},h.reject=function(g){var y=new this(s);return a.reject(y,g)},h.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,T=!1;if(!S)return this.resolve([]);for(var I=new Array(S),N=0,k=-1,M=new this(s);++k<S;)P(g[k],k);return M;function P(V,j){y.resolve(V).then(function(R){I[j]=R,++N!==S||T||(T=!0,a.resolve(M,I))},function(R){T||(T=!0,a.reject(M,R))})}},h.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,T=!1;if(!S)return this.resolve([]);for(var I=-1,N=new this(s);++I<S;)k=g[I],y.resolve(k).then(function(M){T||(T=!0,a.resolve(N,M))},function(M){T||(T=!0,a.reject(N,M))});var k;return N}},{immediate:36}],38:[function(n,r,o){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var i=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),f=Object.prototype.toString,h=0,p=-1,m=0,E=8;function v(g){if(!(this instanceof v))return new v(g);this.options=s.assign({level:p,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(S!==h)throw new Error(c[S]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var T;if(T=typeof y.dictionary=="string"?a.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(S=i.deflateSetDictionary(this.strm,T))!==h)throw new Error(c[S]);this._dict_set=!0}}function w(g,y){var S=new v(y);if(S.push(g,!0),S.err)throw S.msg||c[S.err];return S.result}v.prototype.push=function(g,y){var S,T,I=this.strm,N=this.options.chunkSize;if(this.ended)return!1;T=y===~~y?y:y===!0?4:0,typeof g=="string"?I.input=a.string2buf(g):f.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(N),I.next_out=0,I.avail_out=N),(S=i.deflate(I,T))!==1&&S!==h)return this.onEnd(S),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(I.output,I.next_out))):this.onData(s.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&S!==1);return T===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===h):T!==2||(this.onEnd(h),!(I.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Deflate=v,o.deflate=w,o.deflateRaw=function(g,y){return(y=y||{}).raw=!0,w(g,y)},o.gzip=function(g,y){return(y=y||{}).gzip=!0,w(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var i=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),f=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||v&&v.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,w.windowBits);if(g!==c.Z_OK)throw new Error(d[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function E(v,w){var g=new m(w);if(g.push(v,!0),g.err)throw g.msg||d[g.err];return g.result}m.prototype.push=function(v,w){var g,y,S,T,I,N,k=this.strm,M=this.options.chunkSize,P=this.options.dictionary,V=!1;if(this.ended)return!1;y=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?k.input=a.binstring2buf(v):p.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(M),k.next_out=0,k.avail_out=M),(g=i.inflate(k,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(N=typeof P=="string"?a.string2buf(P):p.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,g=i.inflateSetDictionary(this.strm,N)),g===c.Z_BUF_ERROR&&V===!0&&(g=c.Z_OK,V=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&g!==c.Z_STREAM_END&&(k.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(k.output,k.next_out),T=k.next_out-S,I=a.buf2string(k.output,S),k.next_out=T,k.avail_out=M-T,T&&s.arraySet(k.output,k.output,S,T,0),this.onData(I)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(V=!0)}while((0<k.avail_in||k.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},o.Inflate=m,o.inflate=E,o.inflateRaw=function(v,w){return(w=w||{}).raw=!0,E(v,w)},o.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])}}return c},o.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,f,h,p){if(d.subarray&&c.subarray)c.set(d.subarray(f,f+h),p);else for(var m=0;m<h;m++)c[p+m]=d[f+m]},flattenChunks:function(c){var d,f,h,p,m,E;for(d=h=0,f=c.length;d<f;d++)h+=c[d].length;for(E=new Uint8Array(h),d=p=0,f=c.length;d<f;d++)m=c[d],E.set(m,p),p+=m.length;return E}},a={arraySet:function(c,d,f,h,p){for(var m=0;m<h;m++)c[p+m]=d[f+m]},flattenChunks:function(c){return[].concat.apply([],c)}};o.setTyped=function(c){c?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(i)},{}],42:[function(n,r,o){var i=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(h,p){if(p<65537&&(h.subarray&&a||!h.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(h,p));for(var m="",E=0;E<p;E++)m+=String.fromCharCode(h[E]);return m}c[254]=c[254]=1,o.string2buf=function(h){var p,m,E,v,w,g=h.length,y=0;for(v=0;v<g;v++)(64512&(m=h.charCodeAt(v)))==55296&&v+1<g&&(64512&(E=h.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(E-56320),v++),y+=m<128?1:m<2048?2:m<65536?3:4;for(p=new i.Buf8(y),v=w=0;w<y;v++)(64512&(m=h.charCodeAt(v)))==55296&&v+1<g&&(64512&(E=h.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(E-56320),v++),m<128?p[w++]=m:(m<2048?p[w++]=192|m>>>6:(m<65536?p[w++]=224|m>>>12:(p[w++]=240|m>>>18,p[w++]=128|m>>>12&63),p[w++]=128|m>>>6&63),p[w++]=128|63&m);return p},o.buf2binstring=function(h){return f(h,h.length)},o.binstring2buf=function(h){for(var p=new i.Buf8(h.length),m=0,E=p.length;m<E;m++)p[m]=h.charCodeAt(m);return p},o.buf2string=function(h,p){var m,E,v,w,g=p||h.length,y=new Array(2*g);for(m=E=0;m<g;)if((v=h[m++])<128)y[E++]=v;else if(4<(w=c[v]))y[E++]=65533,m+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&m<g;)v=v<<6|63&h[m++],w--;1<w?y[E++]=65533:v<65536?y[E++]=v:(v-=65536,y[E++]=55296|v>>10&1023,y[E++]=56320|1023&v)}return f(y,E)},o.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+c[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,o){r.exports=function(i,s,a,c){for(var d=65535&i|0,f=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;f=f+(d=d+s[c++]|0)|0,--h;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var i=function(){for(var s,a=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;a[c]=s}return a}();r.exports=function(s,a,c,d){var f=i,h=d+c;s^=-1;for(var p=d;p<h;p++)s=s>>>8^f[255&(s^a[p])];return-1^s}},{}],46:[function(n,r,o){var i,s=n("../utils/common"),a=n("./trees"),c=n("./adler32"),d=n("./crc32"),f=n("./messages"),h=0,p=4,m=0,E=-2,v=-1,w=4,g=2,y=8,S=9,T=286,I=30,N=19,k=2*T+1,M=15,P=3,V=258,j=V+P+1,R=42,z=113,C=1,H=2,oe=3,W=4;function $(_,O){return _.msg=f[O],O}function G(_){return(_<<1)-(4<_?9:0)}function Z(_){for(var O=_.length;0<=--O;)_[O]=0}function F(_){var O=_.state,B=O.pending;B>_.avail_out&&(B=_.avail_out),B!==0&&(s.arraySet(_.output,O.pending_buf,O.pending_out,B,_.next_out),_.next_out+=B,O.pending_out+=B,_.total_out+=B,_.avail_out-=B,O.pending-=B,O.pending===0&&(O.pending_out=0))}function L(_,O){a._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,O),_.block_start=_.strstart,F(_.strm)}function ie(_,O){_.pending_buf[_.pending++]=O}function ee(_,O){_.pending_buf[_.pending++]=O>>>8&255,_.pending_buf[_.pending++]=255&O}function Q(_,O){var B,A,x=_.max_chain_length,D=_.strstart,q=_.prev_length,J=_.nice_match,b=_.strstart>_.w_size-j?_.strstart-(_.w_size-j):0,Y=_.window,ne=_.w_mask,X=_.prev,se=_.strstart+V,ge=Y[D+q-1],ce=Y[D+q];_.prev_length>=_.good_match&&(x>>=2),J>_.lookahead&&(J=_.lookahead);do if(Y[(B=O)+q]===ce&&Y[B+q-1]===ge&&Y[B]===Y[D]&&Y[++B]===Y[D+1]){D+=2,B++;do;while(Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&Y[++D]===Y[++B]&&D<se);if(A=V-(se-D),D=se-V,q<A){if(_.match_start=O,J<=(q=A))break;ge=Y[D+q-1],ce=Y[D+q]}}while((O=X[O&ne])>b&&--x!=0);return q<=_.lookahead?q:_.lookahead}function he(_){var O,B,A,x,D,q,J,b,Y,ne,X=_.w_size;do{if(x=_.window_size-_.lookahead-_.strstart,_.strstart>=X+(X-j)){for(s.arraySet(_.window,_.window,X,X,0),_.match_start-=X,_.strstart-=X,_.block_start-=X,O=B=_.hash_size;A=_.head[--O],_.head[O]=X<=A?A-X:0,--B;);for(O=B=X;A=_.prev[--O],_.prev[O]=X<=A?A-X:0,--B;);x+=X}if(_.strm.avail_in===0)break;if(q=_.strm,J=_.window,b=_.strstart+_.lookahead,Y=x,ne=void 0,ne=q.avail_in,Y<ne&&(ne=Y),B=ne===0?0:(q.avail_in-=ne,s.arraySet(J,q.input,q.next_in,ne,b),q.state.wrap===1?q.adler=c(q.adler,J,ne,b):q.state.wrap===2&&(q.adler=d(q.adler,J,ne,b)),q.next_in+=ne,q.total_in+=ne,ne),_.lookahead+=B,_.lookahead+_.insert>=P)for(D=_.strstart-_.insert,_.ins_h=_.window[D],_.ins_h=(_.ins_h<<_.hash_shift^_.window[D+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[D+P-1])&_.hash_mask,_.prev[D&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=D,D++,_.insert--,!(_.lookahead+_.insert<P)););}while(_.lookahead<j&&_.strm.avail_in!==0)}function Ie(_,O){for(var B,A;;){if(_.lookahead<j){if(he(_),_.lookahead<j&&O===h)return C;if(_.lookahead===0)break}if(B=0,_.lookahead>=P&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+P-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),B!==0&&_.strstart-B<=_.w_size-j&&(_.match_length=Q(_,B)),_.match_length>=P)if(A=a._tr_tally(_,_.strstart-_.match_start,_.match_length-P),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=P){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+P-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else A=a._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(A&&(L(_,!1),_.strm.avail_out===0))return C}return _.insert=_.strstart<P-1?_.strstart:P-1,O===p?(L(_,!0),_.strm.avail_out===0?oe:W):_.last_lit&&(L(_,!1),_.strm.avail_out===0)?C:H}function ue(_,O){for(var B,A,x;;){if(_.lookahead<j){if(he(_),_.lookahead<j&&O===h)return C;if(_.lookahead===0)break}if(B=0,_.lookahead>=P&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+P-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=P-1,B!==0&&_.prev_length<_.max_lazy_match&&_.strstart-B<=_.w_size-j&&(_.match_length=Q(_,B),_.match_length<=5&&(_.strategy===1||_.match_length===P&&4096<_.strstart-_.match_start)&&(_.match_length=P-1)),_.prev_length>=P&&_.match_length<=_.prev_length){for(x=_.strstart+_.lookahead-P,A=a._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-P),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=x&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+P-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=P-1,_.strstart++,A&&(L(_,!1),_.strm.avail_out===0))return C}else if(_.match_available){if((A=a._tr_tally(_,0,_.window[_.strstart-1]))&&L(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return C}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(A=a._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<P-1?_.strstart:P-1,O===p?(L(_,!0),_.strm.avail_out===0?oe:W):_.last_lit&&(L(_,!1),_.strm.avail_out===0)?C:H}function pe(_,O,B,A,x){this.good_length=_,this.max_lazy=O,this.nice_length=B,this.max_chain=A,this.func=x}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*I+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*T+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(_){var O;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=g,(O=_.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?R:z,_.adler=O.wrap===2?0:1,O.last_flush=h,a._tr_init(O),m):$(_,E)}function Nt(_){var O=xe(_);return O===m&&function(B){B.window_size=2*B.w_size,Z(B.head),B.max_lazy_match=i[B.level].max_lazy,B.good_match=i[B.level].good_length,B.nice_match=i[B.level].nice_length,B.max_chain_length=i[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=P-1,B.match_available=0,B.ins_h=0}(_.state),O}function _t(_,O,B,A,x,D){if(!_)return E;var q=1;if(O===v&&(O=6),A<0?(q=0,A=-A):15<A&&(q=2,A-=16),x<1||S<x||B!==y||A<8||15<A||O<0||9<O||D<0||w<D)return $(_,E);A===8&&(A=9);var J=new De;return(_.state=J).strm=_,J.wrap=q,J.gzhead=null,J.w_bits=A,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=x+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+P-1)/P),J.window=new s.Buf8(2*J.w_size),J.head=new s.Buf16(J.hash_size),J.prev=new s.Buf16(J.w_size),J.lit_bufsize=1<<x+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new s.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=O,J.strategy=D,J.method=B,Nt(_)}i=[new pe(0,0,0,0,function(_,O){var B=65535;for(B>_.pending_buf_size-5&&(B=_.pending_buf_size-5);;){if(_.lookahead<=1){if(he(_),_.lookahead===0&&O===h)return C;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var A=_.block_start+B;if((_.strstart===0||_.strstart>=A)&&(_.lookahead=_.strstart-A,_.strstart=A,L(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-j&&(L(_,!1),_.strm.avail_out===0))return C}return _.insert=0,O===p?(L(_,!0),_.strm.avail_out===0?oe:W):(_.strstart>_.block_start&&(L(_,!1),_.strm.avail_out),C)}),new pe(4,4,8,4,Ie),new pe(4,5,16,8,Ie),new pe(4,6,32,32,Ie),new pe(4,4,16,16,ue),new pe(8,16,32,32,ue),new pe(8,16,128,128,ue),new pe(8,32,128,256,ue),new pe(32,128,258,1024,ue),new pe(32,258,258,4096,ue)],o.deflateInit=function(_,O){return _t(_,O,y,15,8,0)},o.deflateInit2=_t,o.deflateReset=Nt,o.deflateResetKeep=xe,o.deflateSetHeader=function(_,O){return _&&_.state?_.state.wrap!==2?E:(_.state.gzhead=O,m):E},o.deflate=function(_,O){var B,A,x,D;if(!_||!_.state||5<O||O<0)return _?$(_,E):E;if(A=_.state,!_.output||!_.input&&_.avail_in!==0||A.status===666&&O!==p)return $(_,_.avail_out===0?-5:E);if(A.strm=_,B=A.last_flush,A.last_flush=O,A.status===R)if(A.wrap===2)_.adler=0,ie(A,31),ie(A,139),ie(A,8),A.gzhead?(ie(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),ie(A,255&A.gzhead.time),ie(A,A.gzhead.time>>8&255),ie(A,A.gzhead.time>>16&255),ie(A,A.gzhead.time>>24&255),ie(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),ie(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(ie(A,255&A.gzhead.extra.length),ie(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(_.adler=d(_.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(ie(A,0),ie(A,0),ie(A,0),ie(A,0),ie(A,0),ie(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),ie(A,3),A.status=z);else{var q=y+(A.w_bits-8<<4)<<8;q|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(q|=32),q+=31-q%31,A.status=z,ee(A,q),A.strstart!==0&&(ee(A,_.adler>>>16),ee(A,65535&_.adler)),_.adler=1}if(A.status===69)if(A.gzhead.extra){for(x=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),F(_),x=A.pending,A.pending!==A.pending_buf_size));)ie(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){x=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),F(_),x=A.pending,A.pending===A.pending_buf_size)){D=1;break}D=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,ie(A,D)}while(D!==0);A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),D===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){x=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),F(_),x=A.pending,A.pending===A.pending_buf_size)){D=1;break}D=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,ie(A,D)}while(D!==0);A.gzhead.hcrc&&A.pending>x&&(_.adler=d(_.adler,A.pending_buf,A.pending-x,x)),D===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&F(_),A.pending+2<=A.pending_buf_size&&(ie(A,255&_.adler),ie(A,_.adler>>8&255),_.adler=0,A.status=z)):A.status=z),A.pending!==0){if(F(_),_.avail_out===0)return A.last_flush=-1,m}else if(_.avail_in===0&&G(O)<=G(B)&&O!==p)return $(_,-5);if(A.status===666&&_.avail_in!==0)return $(_,-5);if(_.avail_in!==0||A.lookahead!==0||O!==h&&A.status!==666){var J=A.strategy===2?function(b,Y){for(var ne;;){if(b.lookahead===0&&(he(b),b.lookahead===0)){if(Y===h)return C;break}if(b.match_length=0,ne=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,ne&&(L(b,!1),b.strm.avail_out===0))return C}return b.insert=0,Y===p?(L(b,!0),b.strm.avail_out===0?oe:W):b.last_lit&&(L(b,!1),b.strm.avail_out===0)?C:H}(A,O):A.strategy===3?function(b,Y){for(var ne,X,se,ge,ce=b.window;;){if(b.lookahead<=V){if(he(b),b.lookahead<=V&&Y===h)return C;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=P&&0<b.strstart&&(X=ce[se=b.strstart-1])===ce[++se]&&X===ce[++se]&&X===ce[++se]){ge=b.strstart+V;do;while(X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&X===ce[++se]&&se<ge);b.match_length=V-(ge-se),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=P?(ne=a._tr_tally(b,1,b.match_length-P),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(ne=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),ne&&(L(b,!1),b.strm.avail_out===0))return C}return b.insert=0,Y===p?(L(b,!0),b.strm.avail_out===0?oe:W):b.last_lit&&(L(b,!1),b.strm.avail_out===0)?C:H}(A,O):i[A.level].func(A,O);if(J!==oe&&J!==W||(A.status=666),J===C||J===oe)return _.avail_out===0&&(A.last_flush=-1),m;if(J===H&&(O===1?a._tr_align(A):O!==5&&(a._tr_stored_block(A,0,0,!1),O===3&&(Z(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),F(_),_.avail_out===0))return A.last_flush=-1,m}return O!==p?m:A.wrap<=0?1:(A.wrap===2?(ie(A,255&_.adler),ie(A,_.adler>>8&255),ie(A,_.adler>>16&255),ie(A,_.adler>>24&255),ie(A,255&_.total_in),ie(A,_.total_in>>8&255),ie(A,_.total_in>>16&255),ie(A,_.total_in>>24&255)):(ee(A,_.adler>>>16),ee(A,65535&_.adler)),F(_),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?m:1)},o.deflateEnd=function(_){var O;return _&&_.state?(O=_.state.status)!==R&&O!==69&&O!==73&&O!==91&&O!==103&&O!==z&&O!==666?$(_,E):(_.state=null,O===z?$(_,-3):m):E},o.deflateSetDictionary=function(_,O){var B,A,x,D,q,J,b,Y,ne=O.length;if(!_||!_.state||(D=(B=_.state).wrap)===2||D===1&&B.status!==R||B.lookahead)return E;for(D===1&&(_.adler=c(_.adler,O,ne,0)),B.wrap=0,ne>=B.w_size&&(D===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),Y=new s.Buf8(B.w_size),s.arraySet(Y,O,ne-B.w_size,B.w_size,0),O=Y,ne=B.w_size),q=_.avail_in,J=_.next_in,b=_.input,_.avail_in=ne,_.next_in=0,_.input=O,he(B);B.lookahead>=P;){for(A=B.strstart,x=B.lookahead-(P-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[A+P-1])&B.hash_mask,B.prev[A&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=A,A++,--x;);B.strstart=A,B.lookahead=P-1,he(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=P-1,B.match_available=0,_.next_in=J,_.input=b,_.avail_in=q,B.wrap=D,m},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(i,s){var a,c,d,f,h,p,m,E,v,w,g,y,S,T,I,N,k,M,P,V,j,R,z,C,H;a=i.state,c=i.next_in,C=i.input,d=c+(i.avail_in-5),f=i.next_out,H=i.output,h=f-(s-i.avail_out),p=f+(i.avail_out-257),m=a.dmax,E=a.wsize,v=a.whave,w=a.wnext,g=a.window,y=a.hold,S=a.bits,T=a.lencode,I=a.distcode,N=(1<<a.lenbits)-1,k=(1<<a.distbits)-1;e:do{S<15&&(y+=C[c++]<<S,S+=8,y+=C[c++]<<S,S+=8),M=T[y&N];t:for(;;){if(y>>>=P=M>>>24,S-=P,(P=M>>>16&255)===0)H[f++]=65535&M;else{if(!(16&P)){if(!(64&P)){M=T[(65535&M)+(y&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}V=65535&M,(P&=15)&&(S<P&&(y+=C[c++]<<S,S+=8),V+=y&(1<<P)-1,y>>>=P,S-=P),S<15&&(y+=C[c++]<<S,S+=8,y+=C[c++]<<S,S+=8),M=I[y&k];n:for(;;){if(y>>>=P=M>>>24,S-=P,!(16&(P=M>>>16&255))){if(!(64&P)){M=I[(65535&M)+(y&(1<<P)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(j=65535&M,S<(P&=15)&&(y+=C[c++]<<S,(S+=8)<P&&(y+=C[c++]<<S,S+=8)),m<(j+=y&(1<<P)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=P,S-=P,(P=f-h)<j){if(v<(P=j-P)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(z=g,(R=0)===w){if(R+=E-P,P<V){for(V-=P;H[f++]=g[R++],--P;);R=f-j,z=H}}else if(w<P){if(R+=E+w-P,(P-=w)<V){for(V-=P;H[f++]=g[R++],--P;);if(R=0,w<V){for(V-=P=w;H[f++]=g[R++],--P;);R=f-j,z=H}}}else if(R+=w-P,P<V){for(V-=P;H[f++]=g[R++],--P;);R=f-j,z=H}for(;2<V;)H[f++]=z[R++],H[f++]=z[R++],H[f++]=z[R++],V-=3;V&&(H[f++]=z[R++],1<V&&(H[f++]=z[R++]))}else{for(R=f-j;H[f++]=H[R++],H[f++]=H[R++],H[f++]=H[R++],2<(V-=3););V&&(H[f++]=H[R++],1<V&&(H[f++]=H[R++]))}break}}break}}while(c<d&&f<p);c-=V=S>>3,y&=(1<<(S-=V<<3))-1,i.next_in=c,i.next_out=f,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=f<p?p-f+257:257-(f-p),a.hold=y,a.bits=S}},{}],49:[function(n,r,o){var i=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),f=1,h=2,p=0,m=-2,E=1,v=852,w=592;function g(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(R){var z;return R&&R.state?(z=R.state,R.total_in=R.total_out=z.total=0,R.msg="",z.wrap&&(R.adler=1&z.wrap),z.mode=E,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new i.Buf32(v),z.distcode=z.distdyn=new i.Buf32(w),z.sane=1,z.back=-1,p):m}function T(R){var z;return R&&R.state?((z=R.state).wsize=0,z.whave=0,z.wnext=0,S(R)):m}function I(R,z){var C,H;return R&&R.state?(H=R.state,z<0?(C=0,z=-z):(C=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?m:(H.window!==null&&H.wbits!==z&&(H.window=null),H.wrap=C,H.wbits=z,T(R))):m}function N(R,z){var C,H;return R?(H=new y,(R.state=H).window=null,(C=I(R,z))!==p&&(R.state=null),C):m}var k,M,P=!0;function V(R){if(P){var z;for(k=new i.Buf32(512),M=new i.Buf32(32),z=0;z<144;)R.lens[z++]=8;for(;z<256;)R.lens[z++]=9;for(;z<280;)R.lens[z++]=7;for(;z<288;)R.lens[z++]=8;for(d(f,R.lens,0,288,k,0,R.work,{bits:9}),z=0;z<32;)R.lens[z++]=5;d(h,R.lens,0,32,M,0,R.work,{bits:5}),P=!1}R.lencode=k,R.lenbits=9,R.distcode=M,R.distbits=5}function j(R,z,C,H){var oe,W=R.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new i.Buf8(W.wsize)),H>=W.wsize?(i.arraySet(W.window,z,C-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(H<(oe=W.wsize-W.wnext)&&(oe=H),i.arraySet(W.window,z,C-H,oe,W.wnext),(H-=oe)?(i.arraySet(W.window,z,C-H,H,0),W.wnext=H,W.whave=W.wsize):(W.wnext+=oe,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=oe))),0}o.inflateReset=T,o.inflateReset2=I,o.inflateResetKeep=S,o.inflateInit=function(R){return N(R,15)},o.inflateInit2=N,o.inflate=function(R,z){var C,H,oe,W,$,G,Z,F,L,ie,ee,Q,he,Ie,ue,pe,De,xe,Nt,_t,_,O,B,A,x=0,D=new i.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return m;(C=R.state).mode===12&&(C.mode=13),$=R.next_out,oe=R.output,Z=R.avail_out,W=R.next_in,H=R.input,G=R.avail_in,F=C.hold,L=C.bits,ie=G,ee=Z,O=p;e:for(;;)switch(C.mode){case E:if(C.wrap===0){C.mode=13;break}for(;L<16;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(2&C.wrap&&F===35615){D[C.check=0]=255&F,D[1]=F>>>8&255,C.check=a(C.check,D,2,0),L=F=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&F)<<8)+(F>>8))%31){R.msg="incorrect header check",C.mode=30;break}if((15&F)!=8){R.msg="unknown compression method",C.mode=30;break}if(L-=4,_=8+(15&(F>>>=4)),C.wbits===0)C.wbits=_;else if(_>C.wbits){R.msg="invalid window size",C.mode=30;break}C.dmax=1<<_,R.adler=C.check=1,C.mode=512&F?10:12,L=F=0;break;case 2:for(;L<16;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(C.flags=F,(255&C.flags)!=8){R.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){R.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=F>>8&1),512&C.flags&&(D[0]=255&F,D[1]=F>>>8&255,C.check=a(C.check,D,2,0)),L=F=0,C.mode=3;case 3:for(;L<32;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.head&&(C.head.time=F),512&C.flags&&(D[0]=255&F,D[1]=F>>>8&255,D[2]=F>>>16&255,D[3]=F>>>24&255,C.check=a(C.check,D,4,0)),L=F=0,C.mode=4;case 4:for(;L<16;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.head&&(C.head.xflags=255&F,C.head.os=F>>8),512&C.flags&&(D[0]=255&F,D[1]=F>>>8&255,C.check=a(C.check,D,2,0)),L=F=0,C.mode=5;case 5:if(1024&C.flags){for(;L<16;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.length=F,C.head&&(C.head.extra_len=F),512&C.flags&&(D[0]=255&F,D[1]=F>>>8&255,C.check=a(C.check,D,2,0)),L=F=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(G<(Q=C.length)&&(Q=G),Q&&(C.head&&(_=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),i.arraySet(C.head.extra,H,W,Q,_)),512&C.flags&&(C.check=a(C.check,H,Q,W)),G-=Q,W+=Q,C.length-=Q),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(G===0)break e;for(Q=0;_=H[W+Q++],C.head&&_&&C.length<65536&&(C.head.name+=String.fromCharCode(_)),_&&Q<G;);if(512&C.flags&&(C.check=a(C.check,H,Q,W)),G-=Q,W+=Q,_)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(G===0)break e;for(Q=0;_=H[W+Q++],C.head&&_&&C.length<65536&&(C.head.comment+=String.fromCharCode(_)),_&&Q<G;);if(512&C.flags&&(C.check=a(C.check,H,Q,W)),G-=Q,W+=Q,_)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;L<16;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(F!==(65535&C.check)){R.msg="header crc mismatch",C.mode=30;break}L=F=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),R.adler=C.check=0,C.mode=12;break;case 10:for(;L<32;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}R.adler=C.check=g(F),L=F=0,C.mode=11;case 11:if(C.havedict===0)return R.next_out=$,R.avail_out=Z,R.next_in=W,R.avail_in=G,C.hold=F,C.bits=L,2;R.adler=C.check=1,C.mode=12;case 12:if(z===5||z===6)break e;case 13:if(C.last){F>>>=7&L,L-=7&L,C.mode=27;break}for(;L<3;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}switch(C.last=1&F,L-=1,3&(F>>>=1)){case 0:C.mode=14;break;case 1:if(V(C),C.mode=20,z!==6)break;F>>>=2,L-=2;break e;case 2:C.mode=17;break;case 3:R.msg="invalid block type",C.mode=30}F>>>=2,L-=2;break;case 14:for(F>>>=7&L,L-=7&L;L<32;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if((65535&F)!=(F>>>16^65535)){R.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&F,L=F=0,C.mode=15,z===6)break e;case 15:C.mode=16;case 16:if(Q=C.length){if(G<Q&&(Q=G),Z<Q&&(Q=Z),Q===0)break e;i.arraySet(oe,H,W,Q,$),G-=Q,W+=Q,Z-=Q,$+=Q,C.length-=Q;break}C.mode=12;break;case 17:for(;L<14;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(C.nlen=257+(31&F),F>>>=5,L-=5,C.ndist=1+(31&F),F>>>=5,L-=5,C.ncode=4+(15&F),F>>>=4,L-=4,286<C.nlen||30<C.ndist){R.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;L<3;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.lens[q[C.have++]]=7&F,F>>>=3,L-=3}for(;C.have<19;)C.lens[q[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,B={bits:C.lenbits},O=d(0,C.lens,0,19,C.lencode,0,C.work,B),C.lenbits=B.bits,O){R.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;pe=(x=C.lencode[F&(1<<C.lenbits)-1])>>>16&255,De=65535&x,!((ue=x>>>24)<=L);){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(De<16)F>>>=ue,L-=ue,C.lens[C.have++]=De;else{if(De===16){for(A=ue+2;L<A;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(F>>>=ue,L-=ue,C.have===0){R.msg="invalid bit length repeat",C.mode=30;break}_=C.lens[C.have-1],Q=3+(3&F),F>>>=2,L-=2}else if(De===17){for(A=ue+3;L<A;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}L-=ue,_=0,Q=3+(7&(F>>>=ue)),F>>>=3,L-=3}else{for(A=ue+7;L<A;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}L-=ue,_=0,Q=11+(127&(F>>>=ue)),F>>>=7,L-=7}if(C.have+Q>C.nlen+C.ndist){R.msg="invalid bit length repeat",C.mode=30;break}for(;Q--;)C.lens[C.have++]=_}}if(C.mode===30)break;if(C.lens[256]===0){R.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,B={bits:C.lenbits},O=d(f,C.lens,0,C.nlen,C.lencode,0,C.work,B),C.lenbits=B.bits,O){R.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,B={bits:C.distbits},O=d(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,B),C.distbits=B.bits,O){R.msg="invalid distances set",C.mode=30;break}if(C.mode=20,z===6)break e;case 20:C.mode=21;case 21:if(6<=G&&258<=Z){R.next_out=$,R.avail_out=Z,R.next_in=W,R.avail_in=G,C.hold=F,C.bits=L,c(R,ee),$=R.next_out,oe=R.output,Z=R.avail_out,W=R.next_in,H=R.input,G=R.avail_in,F=C.hold,L=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;pe=(x=C.lencode[F&(1<<C.lenbits)-1])>>>16&255,De=65535&x,!((ue=x>>>24)<=L);){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(pe&&!(240&pe)){for(xe=ue,Nt=pe,_t=De;pe=(x=C.lencode[_t+((F&(1<<xe+Nt)-1)>>xe)])>>>16&255,De=65535&x,!(xe+(ue=x>>>24)<=L);){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}F>>>=xe,L-=xe,C.back+=xe}if(F>>>=ue,L-=ue,C.back+=ue,C.length=De,pe===0){C.mode=26;break}if(32&pe){C.back=-1,C.mode=12;break}if(64&pe){R.msg="invalid literal/length code",C.mode=30;break}C.extra=15&pe,C.mode=22;case 22:if(C.extra){for(A=C.extra;L<A;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.length+=F&(1<<C.extra)-1,F>>>=C.extra,L-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;pe=(x=C.distcode[F&(1<<C.distbits)-1])>>>16&255,De=65535&x,!((ue=x>>>24)<=L);){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(!(240&pe)){for(xe=ue,Nt=pe,_t=De;pe=(x=C.distcode[_t+((F&(1<<xe+Nt)-1)>>xe)])>>>16&255,De=65535&x,!(xe+(ue=x>>>24)<=L);){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}F>>>=xe,L-=xe,C.back+=xe}if(F>>>=ue,L-=ue,C.back+=ue,64&pe){R.msg="invalid distance code",C.mode=30;break}C.offset=De,C.extra=15&pe,C.mode=24;case 24:if(C.extra){for(A=C.extra;L<A;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}C.offset+=F&(1<<C.extra)-1,F>>>=C.extra,L-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){R.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(Z===0)break e;if(Q=ee-Z,C.offset>Q){if((Q=C.offset-Q)>C.whave&&C.sane){R.msg="invalid distance too far back",C.mode=30;break}he=Q>C.wnext?(Q-=C.wnext,C.wsize-Q):C.wnext-Q,Q>C.length&&(Q=C.length),Ie=C.window}else Ie=oe,he=$-C.offset,Q=C.length;for(Z<Q&&(Q=Z),Z-=Q,C.length-=Q;oe[$++]=Ie[he++],--Q;);C.length===0&&(C.mode=21);break;case 26:if(Z===0)break e;oe[$++]=C.length,Z--,C.mode=21;break;case 27:if(C.wrap){for(;L<32;){if(G===0)break e;G--,F|=H[W++]<<L,L+=8}if(ee-=Z,R.total_out+=ee,C.total+=ee,ee&&(R.adler=C.check=C.flags?a(C.check,oe,ee,$-ee):s(C.check,oe,ee,$-ee)),ee=Z,(C.flags?F:g(F))!==C.check){R.msg="incorrect data check",C.mode=30;break}L=F=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;L<32;){if(G===0)break e;G--,F+=H[W++]<<L,L+=8}if(F!==(4294967295&C.total)){R.msg="incorrect length check",C.mode=30;break}L=F=0}C.mode=29;case 29:O=1;break e;case 30:O=-3;break e;case 31:return-4;case 32:default:return m}return R.next_out=$,R.avail_out=Z,R.next_in=W,R.avail_in=G,C.hold=F,C.bits=L,(C.wsize||ee!==R.avail_out&&C.mode<30&&(C.mode<27||z!==4))&&j(R,R.output,R.next_out,ee-R.avail_out)?(C.mode=31,-4):(ie-=R.avail_in,ee-=R.avail_out,R.total_in+=ie,R.total_out+=ee,C.total+=ee,C.wrap&&ee&&(R.adler=C.check=C.flags?a(C.check,oe,ee,R.next_out-ee):s(C.check,oe,ee,R.next_out-ee)),R.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(ie==0&&ee===0||z===4)&&O===p&&(O=-5),O)},o.inflateEnd=function(R){if(!R||!R.state)return m;var z=R.state;return z.window&&(z.window=null),R.state=null,p},o.inflateGetHeader=function(R,z){var C;return R&&R.state&&2&(C=R.state).wrap?((C.head=z).done=!1,p):m},o.inflateSetDictionary=function(R,z){var C,H=z.length;return R&&R.state?(C=R.state).wrap!==0&&C.mode!==11?m:C.mode===11&&s(1,z,H,0)!==C.check?-3:j(R,z,H,H)?(C.mode=31,-4):(C.havedict=1,p):m},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,h,p,m,E,v,w,g){var y,S,T,I,N,k,M,P,V,j=g.bits,R=0,z=0,C=0,H=0,oe=0,W=0,$=0,G=0,Z=0,F=0,L=null,ie=0,ee=new i.Buf16(16),Q=new i.Buf16(16),he=null,Ie=0;for(R=0;R<=15;R++)ee[R]=0;for(z=0;z<m;z++)ee[h[p+z]]++;for(oe=j,H=15;1<=H&&ee[H]===0;H--);if(H<oe&&(oe=H),H===0)return E[v++]=20971520,E[v++]=20971520,g.bits=1,0;for(C=1;C<H&&ee[C]===0;C++);for(oe<C&&(oe=C),R=G=1;R<=15;R++)if(G<<=1,(G-=ee[R])<0)return-1;if(0<G&&(f===0||H!==1))return-1;for(Q[1]=0,R=1;R<15;R++)Q[R+1]=Q[R]+ee[R];for(z=0;z<m;z++)h[p+z]!==0&&(w[Q[h[p+z]]++]=z);if(k=f===0?(L=he=w,19):f===1?(L=s,ie-=257,he=a,Ie-=257,256):(L=c,he=d,-1),R=C,N=v,$=z=F=0,T=-1,I=(Z=1<<(W=oe))-1,f===1&&852<Z||f===2&&592<Z)return 1;for(;;){for(M=R-$,V=w[z]<k?(P=0,w[z]):w[z]>k?(P=he[Ie+w[z]],L[ie+w[z]]):(P=96,0),y=1<<R-$,C=S=1<<W;E[N+(F>>$)+(S-=y)]=M<<24|P<<16|V|0,S!==0;);for(y=1<<R-1;F&y;)y>>=1;if(y!==0?(F&=y-1,F+=y):F=0,z++,--ee[R]==0){if(R===H)break;R=h[p+w[z]]}if(oe<R&&(F&I)!==T){for($===0&&($=oe),N+=C,G=1<<(W=R-$);W+$<H&&!((G-=ee[W+$])<=0);)W++,G<<=1;if(Z+=1<<W,f===1&&852<Z||f===2&&592<Z)return 1;E[T=F&I]=oe<<24|W<<16|N-v|0}}return F!==0&&(E[N+F]=R-$<<24|64<<16|0),g.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var i=n("../utils/common"),s=0,a=1;function c(x){for(var D=x.length;0<=--D;)x[D]=0}var d=0,f=29,h=256,p=h+1+f,m=30,E=19,v=2*p+1,w=15,g=16,y=7,S=256,T=16,I=17,N=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(p+2));c(j);var R=new Array(2*m);c(R);var z=new Array(512);c(z);var C=new Array(256);c(C);var H=new Array(f);c(H);var oe,W,$,G=new Array(m);function Z(x,D,q,J,b){this.static_tree=x,this.extra_bits=D,this.extra_base=q,this.elems=J,this.max_length=b,this.has_stree=x&&x.length}function F(x,D){this.dyn_tree=x,this.max_code=0,this.stat_desc=D}function L(x){return x<256?z[x]:z[256+(x>>>7)]}function ie(x,D){x.pending_buf[x.pending++]=255&D,x.pending_buf[x.pending++]=D>>>8&255}function ee(x,D,q){x.bi_valid>g-q?(x.bi_buf|=D<<x.bi_valid&65535,ie(x,x.bi_buf),x.bi_buf=D>>g-x.bi_valid,x.bi_valid+=q-g):(x.bi_buf|=D<<x.bi_valid&65535,x.bi_valid+=q)}function Q(x,D,q){ee(x,q[2*D],q[2*D+1])}function he(x,D){for(var q=0;q|=1&x,x>>>=1,q<<=1,0<--D;);return q>>>1}function Ie(x,D,q){var J,b,Y=new Array(w+1),ne=0;for(J=1;J<=w;J++)Y[J]=ne=ne+q[J-1]<<1;for(b=0;b<=D;b++){var X=x[2*b+1];X!==0&&(x[2*b]=he(Y[X]++,X))}}function ue(x){var D;for(D=0;D<p;D++)x.dyn_ltree[2*D]=0;for(D=0;D<m;D++)x.dyn_dtree[2*D]=0;for(D=0;D<E;D++)x.bl_tree[2*D]=0;x.dyn_ltree[2*S]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function pe(x){8<x.bi_valid?ie(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function De(x,D,q,J){var b=2*D,Y=2*q;return x[b]<x[Y]||x[b]===x[Y]&&J[D]<=J[q]}function xe(x,D,q){for(var J=x.heap[q],b=q<<1;b<=x.heap_len&&(b<x.heap_len&&De(D,x.heap[b+1],x.heap[b],x.depth)&&b++,!De(D,J,x.heap[b],x.depth));)x.heap[q]=x.heap[b],q=b,b<<=1;x.heap[q]=J}function Nt(x,D,q){var J,b,Y,ne,X=0;if(x.last_lit!==0)for(;J=x.pending_buf[x.d_buf+2*X]<<8|x.pending_buf[x.d_buf+2*X+1],b=x.pending_buf[x.l_buf+X],X++,J===0?Q(x,b,D):(Q(x,(Y=C[b])+h+1,D),(ne=k[Y])!==0&&ee(x,b-=H[Y],ne),Q(x,Y=L(--J),q),(ne=M[Y])!==0&&ee(x,J-=G[Y],ne)),X<x.last_lit;);Q(x,S,D)}function _t(x,D){var q,J,b,Y=D.dyn_tree,ne=D.stat_desc.static_tree,X=D.stat_desc.has_stree,se=D.stat_desc.elems,ge=-1;for(x.heap_len=0,x.heap_max=v,q=0;q<se;q++)Y[2*q]!==0?(x.heap[++x.heap_len]=ge=q,x.depth[q]=0):Y[2*q+1]=0;for(;x.heap_len<2;)Y[2*(b=x.heap[++x.heap_len]=ge<2?++ge:0)]=1,x.depth[b]=0,x.opt_len--,X&&(x.static_len-=ne[2*b+1]);for(D.max_code=ge,q=x.heap_len>>1;1<=q;q--)xe(x,Y,q);for(b=se;q=x.heap[1],x.heap[1]=x.heap[x.heap_len--],xe(x,Y,1),J=x.heap[1],x.heap[--x.heap_max]=q,x.heap[--x.heap_max]=J,Y[2*b]=Y[2*q]+Y[2*J],x.depth[b]=(x.depth[q]>=x.depth[J]?x.depth[q]:x.depth[J])+1,Y[2*q+1]=Y[2*J+1]=b,x.heap[1]=b++,xe(x,Y,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ce,ct){var _r,Pt,Sr,Ae,mo,ts,bt=ct.dyn_tree,qa=ct.max_code,Jh=ct.stat_desc.static_tree,Kh=ct.stat_desc.has_stree,Yh=ct.stat_desc.extra_bits,$a=ct.stat_desc.extra_base,Er=ct.stat_desc.max_length,go=0;for(Ae=0;Ae<=w;Ae++)ce.bl_count[Ae]=0;for(bt[2*ce.heap[ce.heap_max]+1]=0,_r=ce.heap_max+1;_r<v;_r++)Er<(Ae=bt[2*bt[2*(Pt=ce.heap[_r])+1]+1]+1)&&(Ae=Er,go++),bt[2*Pt+1]=Ae,qa<Pt||(ce.bl_count[Ae]++,mo=0,$a<=Pt&&(mo=Yh[Pt-$a]),ts=bt[2*Pt],ce.opt_len+=ts*(Ae+mo),Kh&&(ce.static_len+=ts*(Jh[2*Pt+1]+mo)));if(go!==0){do{for(Ae=Er-1;ce.bl_count[Ae]===0;)Ae--;ce.bl_count[Ae]--,ce.bl_count[Ae+1]+=2,ce.bl_count[Er]--,go-=2}while(0<go);for(Ae=Er;Ae!==0;Ae--)for(Pt=ce.bl_count[Ae];Pt!==0;)qa<(Sr=ce.heap[--_r])||(bt[2*Sr+1]!==Ae&&(ce.opt_len+=(Ae-bt[2*Sr+1])*bt[2*Sr],bt[2*Sr+1]=Ae),Pt--)}}(x,D),Ie(Y,ge,x.bl_count)}function _(x,D,q){var J,b,Y=-1,ne=D[1],X=0,se=7,ge=4;for(ne===0&&(se=138,ge=3),D[2*(q+1)+1]=65535,J=0;J<=q;J++)b=ne,ne=D[2*(J+1)+1],++X<se&&b===ne||(X<ge?x.bl_tree[2*b]+=X:b!==0?(b!==Y&&x.bl_tree[2*b]++,x.bl_tree[2*T]++):X<=10?x.bl_tree[2*I]++:x.bl_tree[2*N]++,Y=b,ge=(X=0)===ne?(se=138,3):b===ne?(se=6,3):(se=7,4))}function O(x,D,q){var J,b,Y=-1,ne=D[1],X=0,se=7,ge=4;for(ne===0&&(se=138,ge=3),J=0;J<=q;J++)if(b=ne,ne=D[2*(J+1)+1],!(++X<se&&b===ne)){if(X<ge)for(;Q(x,b,x.bl_tree),--X!=0;);else b!==0?(b!==Y&&(Q(x,b,x.bl_tree),X--),Q(x,T,x.bl_tree),ee(x,X-3,2)):X<=10?(Q(x,I,x.bl_tree),ee(x,X-3,3)):(Q(x,N,x.bl_tree),ee(x,X-11,7));Y=b,ge=(X=0)===ne?(se=138,3):b===ne?(se=6,3):(se=7,4)}}c(G);var B=!1;function A(x,D,q,J){ee(x,(d<<1)+(J?1:0),3),function(b,Y,ne,X){pe(b),ie(b,ne),ie(b,~ne),i.arraySet(b.pending_buf,b.window,Y,ne,b.pending),b.pending+=ne}(x,D,q)}o._tr_init=function(x){B||(function(){var D,q,J,b,Y,ne=new Array(w+1);for(b=J=0;b<f-1;b++)for(H[b]=J,D=0;D<1<<k[b];D++)C[J++]=b;for(C[J-1]=b,b=Y=0;b<16;b++)for(G[b]=Y,D=0;D<1<<M[b];D++)z[Y++]=b;for(Y>>=7;b<m;b++)for(G[b]=Y<<7,D=0;D<1<<M[b]-7;D++)z[256+Y++]=b;for(q=0;q<=w;q++)ne[q]=0;for(D=0;D<=143;)j[2*D+1]=8,D++,ne[8]++;for(;D<=255;)j[2*D+1]=9,D++,ne[9]++;for(;D<=279;)j[2*D+1]=7,D++,ne[7]++;for(;D<=287;)j[2*D+1]=8,D++,ne[8]++;for(Ie(j,p+1,ne),D=0;D<m;D++)R[2*D+1]=5,R[2*D]=he(D,5);oe=new Z(j,k,h+1,p,w),W=new Z(R,M,0,m,w),$=new Z(new Array(0),P,0,E,y)}(),B=!0),x.l_desc=new F(x.dyn_ltree,oe),x.d_desc=new F(x.dyn_dtree,W),x.bl_desc=new F(x.bl_tree,$),x.bi_buf=0,x.bi_valid=0,ue(x)},o._tr_stored_block=A,o._tr_flush_block=function(x,D,q,J){var b,Y,ne=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(X){var se,ge=4093624447;for(se=0;se<=31;se++,ge>>>=1)if(1&ge&&X.dyn_ltree[2*se]!==0)return s;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(se=32;se<h;se++)if(X.dyn_ltree[2*se]!==0)return a;return s}(x)),_t(x,x.l_desc),_t(x,x.d_desc),ne=function(X){var se;for(_(X,X.dyn_ltree,X.l_desc.max_code),_(X,X.dyn_dtree,X.d_desc.max_code),_t(X,X.bl_desc),se=E-1;3<=se&&X.bl_tree[2*V[se]+1]===0;se--);return X.opt_len+=3*(se+1)+5+5+4,se}(x),b=x.opt_len+3+7>>>3,(Y=x.static_len+3+7>>>3)<=b&&(b=Y)):b=Y=q+5,q+4<=b&&D!==-1?A(x,D,q,J):x.strategy===4||Y===b?(ee(x,2+(J?1:0),3),Nt(x,j,R)):(ee(x,4+(J?1:0),3),function(X,se,ge,ce){var ct;for(ee(X,se-257,5),ee(X,ge-1,5),ee(X,ce-4,4),ct=0;ct<ce;ct++)ee(X,X.bl_tree[2*V[ct]+1],3);O(X,X.dyn_ltree,se-1),O(X,X.dyn_dtree,ge-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,ne+1),Nt(x,x.dyn_ltree,x.dyn_dtree)),ue(x),J&&pe(x)},o._tr_tally=function(x,D,q){return x.pending_buf[x.d_buf+2*x.last_lit]=D>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&D,x.pending_buf[x.l_buf+x.last_lit]=255&q,x.last_lit++,D===0?x.dyn_ltree[2*q]++:(x.matches++,D--,x.dyn_ltree[2*(C[q]+h+1)]++,x.dyn_dtree[2*L(D)]++),x.last_lit===x.lit_bufsize-1},o._tr_align=function(x){ee(x,2,3),Q(x,S,j),function(D){D.bi_valid===16?(ie(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(i){(function(s,a){if(!s.setImmediate){var c,d,f,h,p=1,m={},E=!1,v=s.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(s);w=w&&w.setTimeout?w:s,c={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){y(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,I=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=I,T}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(T){s.postMessage(h+T,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){y(T.data)},function(T){f.port2.postMessage(T)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,function(T){var I=v.createElement("script");I.onreadystatechange=function(){y(T),I.onreadystatechange=null,d.removeChild(I),I=null},d.appendChild(I)}):function(T){setTimeout(y,0,T)},w.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var I=new Array(arguments.length-1),N=0;N<I.length;N++)I[N]=arguments[N+1];var k={callback:T,args:I};return m[p]=k,c(p),p++},w.clearImmediate=g}function g(T){delete m[T]}function y(T){if(E)setTimeout(y,0,T);else{var I=m[T];if(I){E=!0;try{(function(N){var k=N.callback,M=N.args;switch(M.length){case 0:k();break;case 1:k(M[0]);break;case 2:k(M[0],M[1]);break;case 3:k(M[0],M[1],M[2]);break;default:k.apply(a,M)}})(I)}finally{g(T),E=!1}}}}function S(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(h)===0&&y(+T.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof yo<"u"?yo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})($h);var oT=$h.exports;const iT=Ud(oT),sT=()=>{const[t,e]=Re.useState(We.SEARCH),[n,r]=Re.useState(!1),[o,i]=Re.useState(null),[s,a]=Re.useState([]),[c,d]=Re.useState(null),[f,h]=Re.useState(null),[p,m]=Re.useState(!1),E=async y=>{r(!0),i(null),e(We.SEARCH),a([]);try{const S=await eT(y);S.length===0?i("No apps found. The AI might be busy, please try again."):(a(S),e(We.SELECTING))}catch(S){i("Failed to search. The AI encountered an error. Please try again."),console.error(S)}finally{r(!1)}},v=async y=>{d(y),e(We.ANALYZING),r(!0),i(null);try{const S=await tT(y);h(S),e(We.DASHBOARD)}catch(S){i("Analysis failed. Please try selecting the app again."),e(We.SELECTING),console.error(S)}finally{r(!1)}},w=()=>{e(We.SEARCH),a([]),d(null),h(null),i(null)},g=async()=>{try{const y=new iT,S=["index.tsx","App.tsx","types.ts","services/geminiService.ts","components/SearchBar.tsx","components/SearchResults.tsx","components/Dashboard.tsx","components/MarkdownText.tsx","metadata.json"];for(const k of S)try{const M=await fetch(k);if(M.ok){const P=await M.text();y.file(k,P)}}catch(M){console.warn(`Error fetching ${k}:`,M)}y.file("vite.config.ts",`
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  base: './', 
  define: {
    'process.env.API_KEY': JSON.stringify("AIzaSyCZSqy5CN2DSbm0BWii3k7z4qtrhitzB8Q")
  }
})
      `.trim()),y.file("tsconfig.json",`
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["**/*"],
  "exclude": ["node_modules"]
}
      `.trim()),y.file("deploy.js",`
import ghpages from 'gh-pages';

console.log(' Starting deployment to GitHub Pages...');

const options = {
  branch: 'gh-pages',
  repo: undefined, // uses 'origin' by default
  // Setting history to false helps avoid "ENAMETOOLONG" errors on Windows
  // by preventing the library from cloning the entire git history into a deep cache folder.
  history: false, 
  dotfiles: true
};

ghpages.publish('dist', options, (err) => {
  if (err) {
    console.error(' Deployment Failed:', err);
    console.log('\\n---  MANUAL FALLBACK INSTRUCTIONS ---');
    console.log('The automatic deploy script failed (this is common on Windows due to path limits).');
    console.log('Don\\'t worry! You can deploy manually by running these 5 commands in your terminal:\\n');
    console.log('  1. git checkout -b gh-pages');
    console.log('  2. npm run build');
    console.log('  3. git add dist -f');
    console.log('  4. git commit -m "Manual Deploy"');
    console.log('  5. git subtree push --prefix dist origin gh-pages');
    console.log('\\nAfter step 5, your site will be live!');
    console.log('To go back to coding: git checkout main');
  } else {
    console.log(' Deployment Complete!');
    console.log('Check your repository settings > Pages to see your live site.');
  }
});
      `.trim()),y.file("package.json",`
{
  "name": "app-inspector-ai",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "deploy": "npm run build && node deploy.js"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "lucide-react": "^0.344.0",
    "jszip": "^3.10.1",
    "@google/genai": "latest"
  },
  "devDependencies": {
    "@types/react": "^18.2.66",
    "@types/react-dom": "^18.2.22",
    "@types/node": "^20.0.0",
    "@vitejs/plugin-react": "^4.2.1",
    "typescript": "^5.2.2",
    "vite": "^5.2.0",
    "gh-pages": "^6.1.1"
  }
}
      `.trim());try{const k=await fetch("index.html");if(k.ok){let M=await k.text();M.includes('src="/index.tsx"')||(M=M.replace("</body>",'<script type="module" src="/index.tsx"><\/script></body>')),M=M.replace(/<script type="importmap">[\s\S]*?<\/script>/,""),y.file("index.html",M)}}catch(k){console.error("Index HTML error",k)}y.file("README.md",`# AppInspector AI

## 1. Quick Start (Local)

1. **Unzip** this folder.
2. Open terminal in this folder.
3. Run:
   \`\`\`bash
   npm install
   npm run dev
   \`\`\`

## 2. How to Host on GitHub Pages (Free)

1. **Create a Repository** on GitHub.
2. **Push your code**:
   \`\`\`bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
   git push -u origin main
   \`\`\`
3. **Deploy**:
   \`\`\`bash
   npm run deploy
   \`\`\`

## Troubleshooting "ENAMETOOLONG" Error
If \`npm run deploy\` fails with an error like \`spawn ENAMETOOLONG\`, it means Windows path limits are blocking the automatic script.

**Solution (Manual Deploy):**
Run these commands in your terminal one by one:
\`\`\`bash
git checkout -b gh-pages
npm run build
git add dist -f
git commit -m "Manual deploy"
git subtree push --prefix dist origin gh-pages
\`\`\`
Then switch back to your main branch:
\`\`\`bash
git checkout main
\`\`\`
`);const T=await y.generateAsync({type:"blob"}),I=window.URL.createObjectURL(T),N=document.createElement("a");N.href=I,N.download="AppInspector_Vite_Project.zip",document.body.appendChild(N),N.click(),document.body.removeChild(N),m(!0)}catch(y){console.error("Download failed:",y),alert("Could not generate zip file. Please try again.")}};return U.jsxs("div",{className:"min-h-screen bg-slate-50 relative overflow-hidden font-sans",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-indigo-100/50 to-transparent pointer-events-none"}),U.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-blue-200/20 rounded-full blur-3xl pointer-events-none"}),U.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-purple-200/20 rounded-full blur-3xl pointer-events-none"}),U.jsx("div",{className:"absolute top-4 right-4 z-50",children:U.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm border border-indigo-100 text-indigo-700 px-4 py-2 rounded-full shadow-sm hover:shadow-md hover:bg-white transition-all text-sm font-medium",children:[U.jsx(Yp,{className:"h-4 w-4"}),U.jsx("span",{className:"hidden sm:inline",children:"Download & Run"})]})}),U.jsxs("main",{className:"container mx-auto px-4 py-8 relative z-10",children:[(t===We.SEARCH||t===We.SELECTING)&&U.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[U.jsxs("div",{className:"inline-flex items-center justify-center p-3 bg-white rounded-2xl shadow-sm mb-6",children:[U.jsx(Xp,{className:"h-8 w-8 text-indigo-600 mr-2"}),U.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"AppInspector AI"})]}),U.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 tracking-tight",children:"Is that app safe?"}),U.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Search any Google Play Store app to get an instant AI-powered analysis of its reviews, authenticity, and developer background."})]}),(t===We.SEARCH||t===We.SELECTING)&&U.jsxs("div",{className:"animate-fade-in",children:[U.jsx(Vy,{onSearch:E,isLoading:n&&t===We.SEARCH}),o&&U.jsxs("div",{className:"mt-6 text-center p-4 bg-red-50 text-red-600 rounded-xl max-w-lg mx-auto border border-red-100 flex items-center justify-center gap-2",children:[U.jsx(Ny,{className:"h-5 w-5"}),o]}),U.jsx(zy,{results:s,onSelect:v})]}),t===We.ANALYZING&&U.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] animate-fade-in",children:[U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 rounded-full blur-xl animate-pulse"}),U.jsx(Zp,{className:"h-16 w-16 text-indigo-600 animate-spin relative z-10"})]}),U.jsxs("h2",{className:"mt-8 text-2xl font-bold text-gray-900",children:["Analyzing ",c==null?void 0:c.name,"..."]}),U.jsxs("p",{className:"text-gray-500 mt-2 text-center max-w-md",children:["Our AI agents are reading reviews, checking developer history, and verifying authenticity.",U.jsx("br",{}),U.jsx("span",{className:"text-xs text-indigo-400 mt-2 block",children:"(This might take up to 30s depending on AI traffic)"})]}),U.jsxs("div",{className:"mt-8 w-full max-w-md space-y-3",children:[U.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:U.jsx("div",{className:"h-full bg-indigo-600 rounded-full w-2/3 animate-[shimmer_2s_infinite]"})}),U.jsxs("div",{className:"flex justify-between text-xs text-gray-400 font-medium uppercase tracking-wider",children:[U.jsx("span",{children:"Collecting Data"}),U.jsx("span",{children:"Processing"}),U.jsx("span",{children:"Summarizing"})]})]})]}),t===We.DASHBOARD&&c&&f&&U.jsx(rT,{app:c,analysis:f,onBack:w})]}),p&&U.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:U.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl relative",children:[U.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:U.jsx(by,{className:"h-5 w-5"})}),U.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-indigo-100 rounded-full mb-4 mx-auto",children:U.jsx(Ry,{className:"h-6 w-6 text-indigo-700"})}),U.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Project Ready!"}),U.jsx("p",{className:"text-gray-500 text-center mb-6 text-sm",children:"We've included files to help you host this on GitHub Pages."}),U.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-xl border border-gray-100 text-sm",children:[U.jsxs("div",{className:"flex items-start",children:[U.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-indigo-600 text-white rounded-full text-xs font-bold mr-3 flex-shrink-0",children:"1"}),U.jsx("p",{children:"Unzip and open terminal."})]}),U.jsxs("div",{className:"flex items-start",children:[U.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-indigo-600 text-white rounded-full text-xs font-bold mr-3 flex-shrink-0",children:"2"}),U.jsxs("p",{children:["Run ",U.jsx("code",{className:"bg-gray-200 px-1 rounded text-indigo-700 font-mono font-bold",children:"npm install"}),"."]})]}),U.jsxs("div",{className:"flex items-start",children:[U.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-indigo-600 text-white rounded-full text-xs font-bold mr-3 flex-shrink-0",children:"3"}),U.jsxs("p",{children:["Run ",U.jsx("code",{className:"bg-gray-200 px-1 rounded text-indigo-700 font-mono font-bold",children:"npm run deploy"}),"."]})]})]}),U.jsx("button",{onClick:()=>m(!1),className:"w-full mt-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-colors",children:"Got it"})]})})]})},Wh=document.getElementById("root");if(!Wh)throw new Error("Could not find root element to mount to");const lT=Ns.createRoot(Wh);lT.render(U.jsx(dm.StrictMode,{children:U.jsx(sT,{})}));
